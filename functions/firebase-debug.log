[debug] [2023-10-31T07:51:50.339Z] ----------------------------------------------------------------------
[debug] [2023-10-31T07:51:50.342Z] Command:       /usr/local/Cellar/node@18/18.16.1_1/bin/node /usr/local/bin/firebase emulators:start --only functions
[debug] [2023-10-31T07:51:50.343Z] CLI Version:   12.7.0
[debug] [2023-10-31T07:51:50.343Z] Platform:      darwin
[debug] [2023-10-31T07:51:50.343Z] Node Version:  v18.16.1
[debug] [2023-10-31T07:51:50.344Z] Time:          Tue Oct 31 2023 08:51:50 GMT+0100 (Central European Standard Time)
[debug] [2023-10-31T07:51:50.344Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-10-31T07:51:50.348Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2023-10-31T07:51:50.475Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-10-31T07:51:50.475Z] > authorizing via signed-in user (vlady.dev127@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2023-10-31T07:51:50.974Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-10-31T07:51:50.974Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-10-31T07:51:50.983Z] [hub] writing locator at /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/hub-coflow-v1.json
[debug] [2023-10-31T07:51:51.294Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-10-31T07:51:51.300Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-10-31T07:51:51.300Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-10-31T07:51:51.303Z] defaultcredentials: writing to file /Users/bailang/.config/firebase/vlady_dev127_gmail.com_application_default_credentials.json
[debug] [2023-10-31T07:51:51.312Z] Setting GAC to /Users/bailang/.config/firebase/vlady_dev127_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/bailang/.config/firebase/vlady_dev127_gmail.com_application_default_credentials.json"}}
[debug] [2023-10-31T07:51:51.313Z] > refreshing access token with scopes: []
[debug] [2023-10-31T07:51:51.314Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-10-31T07:51:51.314Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-10-31T07:51:52.454Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-10-31T07:51:52.454Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-10-31T07:51:52.463Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/coflow-v1/adminSdkConfig [none]
[debug] [2023-10-31T07:51:52.467Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2023-10-31T07:51:52.467Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2023-10-31T07:51:53.638Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/coflow-v1/adminSdkConfig 200
[debug] [2023-10-31T07:51:53.638Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/coflow-v1/adminSdkConfig {"projectId":"coflow-v1","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"coflow-v1.appspot.com"}
[debug] [2023-10-31T07:51:53.675Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-10-31T07:51:53.675Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-10-31T07:51:53.676Z] Starting Emulator UI with command {"binary":"node","args":["/Users/bailang/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/bailang/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-10-31T07:51:53.821Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-10-31T07:51:53.821Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Volumes/Work/projects/coflow-app/nextjs/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Volumes/Work/projects/coflow-app/nextjs/functions\" for Cloud Functions..."}}
[debug] [2023-10-31T07:51:53.939Z] Validating nodejs source
[debug] [2023-10-31T07:51:55.634Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:51:55.634Z] Building nodejs source
[debug] [2023-10-31T07:51:55.635Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:51:55.639Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:51:55.644Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8635

[debug] [2023-10-31T07:51:56.583Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[info] ✔  functions[us-central1-handleShopifyCheckoutSuccess]: http function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/handleShopifyCheckoutSuccess). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/handleShopifyCheckoutSuccess)."}}
[info] i  functions[us-central1-checkRewards]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] ✔  functions[us-central1-testShopifyAdminApi]: http function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/testShopifyAdminApi). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/testShopifyAdminApi)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-10-31T07:52:16.507Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:52:17.510Z] Validating nodejs source
[debug] [2023-10-31T07:52:19.065Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:52:19.065Z] Building nodejs source
[debug] [2023-10-31T07:52:19.065Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:52:19.067Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:52:19.069Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8392

[debug] [2023-10-31T07:52:19.469Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[info] shutdown requested via /__/quitquitquit

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-10-31T07:54:23.447Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:54:24.448Z] Validating nodejs source
[debug] [2023-10-31T07:54:26.038Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:54:26.038Z] Building nodejs source
[debug] [2023-10-31T07:54:26.038Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:54:26.039Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:54:26.040Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8623

[debug] [2023-10-31T07:54:26.480Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:55:02.369Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:55:03.370Z] Validating nodejs source
[debug] [2023-10-31T07:55:04.908Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:55:04.908Z] Building nodejs source
[debug] [2023-10-31T07:55:04.908Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:55:04.909Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:55:04.910Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8198

[debug] [2023-10-31T07:55:05.354Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:55:17.493Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:55:18.494Z] Validating nodejs source
[debug] [2023-10-31T07:55:19.954Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:55:19.954Z] Building nodejs source
[debug] [2023-10-31T07:55:19.954Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:55:19.956Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:55:19.957Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8710

[debug] [2023-10-31T07:55:20.450Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:55:32.280Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:55:33.281Z] Validating nodejs source
[debug] [2023-10-31T07:55:35.063Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:55:35.063Z] Building nodejs source
[debug] [2023-10-31T07:55:35.063Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:55:35.064Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:55:35.065Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8752

[debug] [2023-10-31T07:55:35.548Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:55:37.440Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:55:37.440Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:55:37.441Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:55:37.440Z"],"workRunningCount":1}
[debug] [2023-10-31T07:55:37.441Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:55:37.446Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:55:37.447Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:55:37.452Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:55:37.452Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T07:55:38.314Z] [runtime-status] [69847] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:55:38.315Z] [runtime-status] [69847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:55:38.315Z] [runtime-status] [69847] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T07:55:38.316Z] [runtime-status] [69847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:55:38.497Z] [runtime-status] [69847] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T07:55:38.497Z] [runtime-status] [69847] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T07:55:38.498Z] [runtime-status] [69847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:55:38.499Z] [runtime-status] [69847] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:55:38.501Z] [runtime-status] [69847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:55:38.501Z] [runtime-status] [69847] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T07:55:38.503Z] [runtime-status] [69847] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[debug] [2023-10-31T07:55:38.552Z] [runtime-status] [69847] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T07:55:38.552Z] [runtime-status] [69847] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_cec3e1a429f90ad3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69847] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_cec3e1a429f90ad3.sock"}}
[debug] [2023-10-31T07:55:38.574Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE"}}
[debug] [2023-10-31T07:55:38.575Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:55:38.575Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY"}}
[debug] [2023-10-31T07:55:38.583Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 8.228933ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 8.228933ms"}}
[debug] [2023-10-31T07:55:38.584Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE"}}
[debug] [2023-10-31T07:55:38.584Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:55:38.584Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:55:38.584Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:56:53.843Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:56:53.843Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:56:53.843Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:56:53.843Z"],"workRunningCount":1}
[debug] [2023-10-31T07:56:53.843Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:56:53.846Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:56:53.846Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T07:56:53.846Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:56:53.847Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY"}}
[debug] [2023-10-31T07:56:53.851Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 4.23465ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 4.23465ms"}}
[debug] [2023-10-31T07:56:53.851Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE"}}
[debug] [2023-10-31T07:56:53.851Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:56:53.851Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:56:53.851Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:56:57.296Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:56:57.296Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:56:57.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:56:57.296Z"],"workRunningCount":1}
[debug] [2023-10-31T07:56:57.297Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:56:57.299Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:56:57.299Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T07:56:57.299Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:56:57.300Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY"}}
[debug] [2023-10-31T07:56:57.304Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 4.249924ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 4.249924ms"}}
[debug] [2023-10-31T07:56:57.304Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE"}}
[debug] [2023-10-31T07:56:57.304Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:56:57.305Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:56:57.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:56:58.216Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:56:58.216Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:56:58.216Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:56:58.216Z"],"workRunningCount":1}
[debug] [2023-10-31T07:56:58.216Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:56:58.219Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:56:58.219Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T07:56:58.219Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:56:58.219Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: BUSY"}}
[debug] [2023-10-31T07:56:58.223Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 3.538538ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 3.538538ms"}}
[debug] [2023-10-31T07:56:58.224Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: IDLE"}}
[debug] [2023-10-31T07:56:58.224Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:56:58.224Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:56:58.224Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:57:35.508Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:57:36.509Z] Validating nodejs source
[debug] [2023-10-31T07:57:38.461Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:57:38.461Z] Building nodejs source
[debug] [2023-10-31T07:57:38.461Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:57:38.462Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:57:38.463Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8121

[debug] [2023-10-31T07:57:38.895Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:57:38.907Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:57:38.907Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: FINISHING"}}
[debug] [2023-10-31T07:57:38.914Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: exited"}}
[debug] [2023-10-31T07:57:38.914Z] [worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf2939f1-dace-40d0-82ad-49cb89241a0f]: FINISHED"}}
[debug] [2023-10-31T07:57:41.808Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:57:41.808Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:57:41.808Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:57:41.808Z"],"workRunningCount":1}
[debug] [2023-10-31T07:57:41.808Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:57:41.811Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:57:41.811Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T07:57:41.811Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:57:41.817Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:57:41.817Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T07:57:42.716Z] [runtime-status] [69928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:57:42.717Z] [runtime-status] [69928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:57:42.718Z] [runtime-status] [69928] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T07:57:42.719Z] [runtime-status] [69928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:57:42.893Z] [runtime-status] [69928] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T07:57:42.893Z] [runtime-status] [69928] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T07:57:42.894Z] [runtime-status] [69928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:57:42.896Z] [runtime-status] [69928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:57:42.897Z] [runtime-status] [69928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:57:42.898Z] [runtime-status] [69928] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T07:57:42.899Z] [runtime-status] [69928] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T07:57:42.950Z] [runtime-status] [69928] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T07:57:42.950Z] [runtime-status] [69928] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_4f3dc5d55c50e7ea.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69928] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_4f3dc5d55c50e7ea.sock"}}
[debug] [2023-10-31T07:57:43.039Z] [worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: IDLE"}}
[debug] [2023-10-31T07:57:43.039Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:57:43.039Z] [worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: BUSY"}}
[info] >  ===== code:  [ 'RcE079Tp' ] {"user":"===== code:  [ 'RcE079Tp' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== code:  [ 'RcE079Tp' ]"}}
[debug] [2023-10-31T07:57:43.048Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 8.748653ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 8.748653ms"}}
[debug] [2023-10-31T07:57:43.048Z] [worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: IDLE"}}
[debug] [2023-10-31T07:57:43.048Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:57:43.049Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:57:43.049Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:58:04.580Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:58:05.581Z] Validating nodejs source
[debug] [2023-10-31T07:58:07.091Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:58:07.091Z] Building nodejs source
[debug] [2023-10-31T07:58:07.092Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:58:07.093Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:58:07.094Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8138

[debug] [2023-10-31T07:58:07.520Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:58:07.533Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:58:07.533Z] [worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: FINISHING"}}
[debug] [2023-10-31T07:58:07.541Z] [worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: exited"}}
[debug] [2023-10-31T07:58:07.541Z] [worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-aab605a9-982b-48b1-82e1-881c7a219708]: FINISHED"}}
[debug] [2023-10-31T07:58:10.871Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:58:10.871Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:58:10.871Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:58:10.871Z"],"workRunningCount":1}
[debug] [2023-10-31T07:58:10.872Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:58:10.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:58:10.874Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T07:58:10.874Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:58:10.877Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:58:10.878Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T07:58:11.721Z] [runtime-status] [69959] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:58:11.722Z] [runtime-status] [69959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:11.722Z] [runtime-status] [69959] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T07:58:11.724Z] [runtime-status] [69959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:11.920Z] [runtime-status] [69959] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T07:58:11.920Z] [runtime-status] [69959] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T07:58:11.921Z] [runtime-status] [69959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:11.922Z] [runtime-status] [69959] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:58:11.923Z] [runtime-status] [69959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:11.923Z] [runtime-status] [69959] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T07:58:11.926Z] [runtime-status] [69959] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T07:58:11.975Z] [runtime-status] [69959] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T07:58:11.975Z] [runtime-status] [69959] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_fb164160ca629286.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [69959] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_fb164160ca629286.sock"}}
[debug] [2023-10-31T07:58:11.998Z] [worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: IDLE"}}
[debug] [2023-10-31T07:58:11.998Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:58:11.998Z] [worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: BUSY"}}
[info] >  ===== code:  [ '6yB1r2Fl' ] {"user":"===== code:  [ '6yB1r2Fl' ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== code:  [ '6yB1r2Fl' ]"}}
[debug] [2023-10-31T07:58:12.007Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 8.94209ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 8.94209ms"}}
[debug] [2023-10-31T07:58:12.007Z] [worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: IDLE"}}
[debug] [2023-10-31T07:58:12.007Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:58:12.008Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:58:12.008Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:58:27.606Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:58:28.608Z] Validating nodejs source
[debug] [2023-10-31T07:58:30.063Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:58:30.063Z] Building nodejs source
[debug] [2023-10-31T07:58:30.063Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:58:30.064Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:58:30.065Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8428

[debug] [2023-10-31T07:58:30.498Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:58:30.511Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:58:30.511Z] [worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: FINISHING"}}
[debug] [2023-10-31T07:58:30.518Z] [worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: exited"}}
[debug] [2023-10-31T07:58:30.518Z] [worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-b873ad35-2fdb-4cf6-9275-5be68056c9fb]: FINISHED"}}
[debug] [2023-10-31T07:58:30.541Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:58:31.542Z] Validating nodejs source
[debug] [2023-10-31T07:58:33.097Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:58:33.097Z] Building nodejs source
[debug] [2023-10-31T07:58:33.097Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:58:33.099Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:58:33.100Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8086

[debug] [2023-10-31T07:58:33.578Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:58:45.870Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:58:45.870Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:58:45.870Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:58:45.870Z"],"workRunningCount":1}
[debug] [2023-10-31T07:58:45.870Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:58:45.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:58:45.874Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T07:58:45.874Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:58:45.879Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:58:45.880Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T07:58:46.689Z] [runtime-status] [70008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:58:46.690Z] [runtime-status] [70008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:46.691Z] [runtime-status] [70008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T07:58:46.692Z] [runtime-status] [70008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:46.861Z] [runtime-status] [70008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T07:58:46.861Z] [runtime-status] [70008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T07:58:46.862Z] [runtime-status] [70008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:46.863Z] [runtime-status] [70008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:58:46.864Z] [runtime-status] [70008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:58:46.864Z] [runtime-status] [70008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T07:58:46.866Z] [runtime-status] [70008] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T07:58:46.910Z] [runtime-status] [70008] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T07:58:46.910Z] [runtime-status] [70008] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a5f4ea4cf0485dad.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70008] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a5f4ea4cf0485dad.sock"}}
[debug] [2023-10-31T07:58:47.000Z] [worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: IDLE"}}
[debug] [2023-10-31T07:58:47.001Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:58:47.001Z] [worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: BUSY"}}
[info] >  ===== code:  LFVGNhDI {"user":"===== code:  LFVGNhDI","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== code:  LFVGNhDI"}}
[debug] [2023-10-31T07:58:47.007Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 6.673133ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 6.673133ms"}}
[debug] [2023-10-31T07:58:47.008Z] [worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: IDLE"}}
[debug] [2023-10-31T07:58:47.008Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:58:47.008Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:58:47.009Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:59:05.520Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:59:06.521Z] Validating nodejs source
[debug] [2023-10-31T07:59:07.996Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:59:07.996Z] Building nodejs source
[debug] [2023-10-31T07:59:07.996Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:59:07.998Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:59:07.999Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8480

[debug] [2023-10-31T07:59:08.443Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:59:08.457Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:59:08.457Z] [worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: FINISHING"}}
[debug] [2023-10-31T07:59:08.465Z] [worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: exited"}}
[debug] [2023-10-31T07:59:08.466Z] [worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-7b318e68-6d1d-4acf-af22-f0f989ae2a7a]: FINISHED"}}
[debug] [2023-10-31T07:59:09.142Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:59:10.144Z] Validating nodejs source
[debug] [2023-10-31T07:59:11.686Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:59:11.686Z] Building nodejs source
[debug] [2023-10-31T07:59:11.686Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:59:11.687Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:59:11.688Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8137

[debug] [2023-10-31T07:59:12.137Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:59:18.995Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:59:19.996Z] Validating nodejs source
[debug] [2023-10-31T07:59:21.458Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:59:21.458Z] Building nodejs source
[debug] [2023-10-31T07:59:21.458Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:59:21.459Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:59:21.460Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:59:21.461Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8082

[debug] [2023-10-31T07:59:21.989Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:59:22.460Z] Validating nodejs source
[debug] [2023-10-31T07:59:24.145Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:59:24.145Z] Building nodejs source
[debug] [2023-10-31T07:59:24.145Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:59:24.146Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:59:24.147Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8967

[debug] [2023-10-31T07:59:24.569Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:59:39.504Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T07:59:40.506Z] Validating nodejs source
[debug] [2023-10-31T07:59:42.051Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T07:59:42.051Z] Building nodejs source
[debug] [2023-10-31T07:59:42.051Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:59:42.052Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T07:59:42.054Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8393

[debug] [2023-10-31T07:59:42.483Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T07:59:43.231Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:59:43.231Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T07:59:43.231Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T07:59:43.231Z"],"workRunningCount":1}
[debug] [2023-10-31T07:59:43.232Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T07:59:43.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T07:59:43.239Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T07:59:43.239Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T07:59:43.242Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T07:59:43.243Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T07:59:44.056Z] [runtime-status] [70111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:59:44.057Z] [runtime-status] [70111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:59:44.058Z] [runtime-status] [70111] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T07:59:44.060Z] [runtime-status] [70111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:59:44.230Z] [runtime-status] [70111] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T07:59:44.230Z] [runtime-status] [70111] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T07:59:44.231Z] [runtime-status] [70111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:59:44.232Z] [runtime-status] [70111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T07:59:44.233Z] [runtime-status] [70111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T07:59:44.233Z] [runtime-status] [70111] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T07:59:44.235Z] [runtime-status] [70111] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T07:59:44.280Z] [runtime-status] [70111] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T07:59:44.280Z] [runtime-status] [70111] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_fdee4a145d6f3b0f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70111] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_fdee4a145d6f3b0f.sock"}}
[debug] [2023-10-31T07:59:44.366Z] [worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: IDLE"}}
[debug] [2023-10-31T07:59:44.366Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T07:59:44.367Z] [worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: BUSY"}}
[info] >  ===== code:  XmSHc1QO {"user":"===== code:  XmSHc1QO","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== code:  XmSHc1QO"}}
[debug] [2023-10-31T07:59:44.373Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 6.98669ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 6.98669ms"}}
[debug] [2023-10-31T07:59:44.374Z] [worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: IDLE"}}
[debug] [2023-10-31T07:59:44.374Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T07:59:44.374Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T07:59:44.374Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T08:00:09.909Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:00:10.629Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:00:10.707Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:00:11.708Z] Validating nodejs source
[debug] [2023-10-31T08:00:13.974Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:00:13.974Z] Building nodejs source
[debug] [2023-10-31T08:00:13.974Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:00:13.975Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:00:13.976Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8590

[debug] [2023-10-31T08:00:14.419Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:00:14.433Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T08:00:14.433Z] [worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: FINISHING"}}
[debug] [2023-10-31T08:00:14.440Z] [worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: exited"}}
[debug] [2023-10-31T08:00:14.440Z] [worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a59e0c7a-974f-4306-9f85-9d796f3d5761]: FINISHED"}}
[debug] [2023-10-31T08:00:17.212Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T08:00:17.212Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T08:00:17.212Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T08:00:17.212Z"],"workRunningCount":1}
[debug] [2023-10-31T08:00:17.212Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T08:00:17.216Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T08:00:17.216Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T08:00:17.216Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:00:17.220Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T08:00:17.220Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T08:00:18.102Z] [runtime-status] [70144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T08:00:18.103Z] [runtime-status] [70144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:00:18.104Z] [runtime-status] [70144] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T08:00:18.105Z] [runtime-status] [70144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:00:18.277Z] [runtime-status] [70144] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T08:00:18.278Z] [runtime-status] [70144] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T08:00:18.278Z] [runtime-status] [70144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:00:18.280Z] [runtime-status] [70144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T08:00:18.281Z] [runtime-status] [70144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:00:18.282Z] [runtime-status] [70144] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T08:00:18.283Z] [runtime-status] [70144] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T08:00:18.329Z] [runtime-status] [70144] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T08:00:18.329Z] [runtime-status] [70144] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_36fd362e7e9798a1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70144] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_36fd362e7e9798a1.sock"}}
[debug] [2023-10-31T08:00:18.345Z] [worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: IDLE"}}
[debug] [2023-10-31T08:00:18.345Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T08:00:18.345Z] [worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: BUSY"}}
[info] >  ===== code:  tgWIr8Au {"user":"===== code:  tgWIr8Au","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== code:  tgWIr8Au"}}
[info] >  ===== res code:  Promise { { code: 'tgWIr8Au' } } {"user":"===== res code:  Promise { { code: 'tgWIr8Au' } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res code:  Promise { { code: 'tgWIr8Au' } }"}}
[debug] [2023-10-31T08:00:18.354Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 8.912274ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 8.912274ms"}}
[debug] [2023-10-31T08:00:18.354Z] [worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: IDLE"}}
[debug] [2023-10-31T08:00:18.354Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T08:00:18.355Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T08:00:18.355Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T08:02:25.459Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:02:26.461Z] Validating nodejs source
[debug] [2023-10-31T08:02:28.427Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:02:28.427Z] Building nodejs source
[debug] [2023-10-31T08:02:28.427Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:02:28.429Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:02:28.430Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8507

[debug] [2023-10-31T08:02:28.887Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:02:28.900Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T08:02:28.900Z] [worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: FINISHING"}}
[debug] [2023-10-31T08:02:28.908Z] [worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: exited"}}
[debug] [2023-10-31T08:02:28.908Z] [worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-3aae91e6-9f58-4156-b12a-bb892ec3c751]: FINISHED"}}
[debug] [2023-10-31T08:02:48.485Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:02:49.486Z] Validating nodejs source
[debug] [2023-10-31T08:02:51.105Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:02:51.105Z] Building nodejs source
[debug] [2023-10-31T08:02:51.105Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:02:51.106Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:02:51.107Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8564

[debug] [2023-10-31T08:02:51.620Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:03:17.402Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:03:18.403Z] Validating nodejs source
[debug] [2023-10-31T08:03:22.984Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:03:22.985Z] Building nodejs source
[debug] [2023-10-31T08:03:22.985Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:03:22.986Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:03:22.987Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-10-31T08:03:23.100Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T08:03:23.100Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T08:03:23.100Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T08:03:23.100Z"],"workRunningCount":1}
[debug] [2023-10-31T08:03:23.101Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T08:03:23.104Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T08:03:23.105Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T08:03:23.105Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:03:23.110Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T08:03:23.110Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[info] Serving at port 8377

[debug] [2023-10-31T08:03:23.472Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:03:24.003Z] [runtime-status] [70275] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T08:03:24.004Z] [runtime-status] [70275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:03:24.005Z] [runtime-status] [70275] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T08:03:24.006Z] [runtime-status] [70275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:03:24.186Z] [runtime-status] [70275] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T08:03:24.186Z] [runtime-status] [70275] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T08:03:24.187Z] [runtime-status] [70275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:03:24.188Z] [runtime-status] [70275] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T08:03:24.191Z] [runtime-status] [70275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:03:24.191Z] [runtime-status] [70275] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T08:03:24.194Z] [runtime-status] [70275] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T08:03:24.245Z] [runtime-status] [70275] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T08:03:24.246Z] [runtime-status] [70275] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_2c531de19ce3f70e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70275] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_2c531de19ce3f70e.sock"}}
[debug] [2023-10-31T08:03:24.334Z] [worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: IDLE"}}
[debug] [2023-10-31T08:03:24.334Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T08:03:24.334Z] [worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: BUSY"}}
[debug] [2023-10-31T08:03:24.345Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 10.687455ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 10.687455ms"}}
[debug] [2023-10-31T08:03:24.345Z] [worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: IDLE"}}
[debug] [2023-10-31T08:03:24.346Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T08:03:24.346Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T08:03:24.346Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-10-31T08:04:33.457Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:04:34.458Z] Validating nodejs source
[debug] [2023-10-31T08:04:36.001Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:04:36.001Z] Building nodejs source
[debug] [2023-10-31T08:04:36.001Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:04:36.003Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:04:36.004Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8337

[debug] [2023-10-31T08:04:36.497Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:04:36.513Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T08:04:36.513Z] [worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: FINISHING"}}
[debug] [2023-10-31T08:04:36.522Z] [worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: exited"}}
[debug] [2023-10-31T08:04:36.522Z] [worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-06248af5-a402-4812-a51a-d9fb3043eb1a]: FINISHED"}}
[debug] [2023-10-31T08:04:44.080Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T08:04:44.080Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T08:04:44.080Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T08:04:44.080Z"],"workRunningCount":1}
[debug] [2023-10-31T08:04:44.080Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T08:04:44.082Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T08:04:44.083Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T08:04:44.083Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:04:44.086Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T08:04:44.086Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T08:04:44.976Z] [runtime-status] [70336] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T08:04:44.977Z] [runtime-status] [70336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:04:44.978Z] [runtime-status] [70336] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T08:04:44.979Z] [runtime-status] [70336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:04:45.166Z] [runtime-status] [70336] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T08:04:45.167Z] [runtime-status] [70336] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T08:04:45.167Z] [runtime-status] [70336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:04:45.169Z] [runtime-status] [70336] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T08:04:45.170Z] [runtime-status] [70336] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T08:04:45.171Z] [runtime-status] [70336] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T08:04:45.173Z] [runtime-status] [70336] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T08:04:45.228Z] [runtime-status] [70336] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T08:04:45.228Z] [runtime-status] [70336] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_275cbad207097e6e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [70336] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_275cbad207097e6e.sock"}}
[debug] [2023-10-31T08:04:45.307Z] [worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: IDLE"}}
[debug] [2023-10-31T08:04:45.308Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T08:04:45.308Z] [worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: BUSY"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'POST', {"user":"  method: 'POST',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'POST',"}}
[info] >    responseType: 'json', {"user":"  responseType: 'json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json',"}}
[info] >    json: { discount_code: { price_rule_id: 1298838520041, code: 'UrE2GDhA' } } {"user":"  json: { discount_code: { price_rule_id: 1298838520041, code: 'UrE2GDhA' } }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   json: { discount_code: { price_rule_id: 1298838520041, code: 'UrE2GDhA' } }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T08:04:45.322Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 14.104729ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 14.104729ms"}}
[debug] [2023-10-31T08:04:45.323Z] [worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: IDLE"}}
[debug] [2023-10-31T08:04:45.323Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T08:04:45.323Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T08:04:45.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/1298838520041/discount_codes.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== res.body:  { {"user":"===== res.body:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res.body:  {"}}
[info] >    discount_code: { {"user":"  discount_code: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   discount_code: {"}}
[info] >      id: 17062305956073, {"user":"    id: 17062305956073,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 17062305956073,"}}
[info] >      price_rule_id: 1298838520041, {"user":"    price_rule_id: 1298838520041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     price_rule_id: 1298838520041,"}}
[info] >      code: 'UrE2GDhA', {"user":"    code: 'UrE2GDhA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'UrE2GDhA',"}}
[info] >      usage_count: 0, {"user":"    usage_count: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     usage_count: 0,"}}
[info] >      created_at: '2023-10-31T01:04:47-07:00', {"user":"    created_at: '2023-10-31T01:04:47-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-31T01:04:47-07:00',"}}
[info] >      updated_at: '2023-10-31T01:04:47-07:00' {"user":"    updated_at: '2023-10-31T01:04:47-07:00'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T01:04:47-07:00'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T08:05:22.295Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:05:23.296Z] Validating nodejs source
[debug] [2023-10-31T08:05:25.065Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:05:25.065Z] Building nodejs source
[debug] [2023-10-31T08:05:25.065Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:05:25.066Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:05:25.067Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8485

[debug] [2023-10-31T08:05:25.494Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:05:25.506Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T08:05:25.507Z] [worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: FINISHING"}}
[debug] [2023-10-31T08:05:25.514Z] [worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: exited"}}
[debug] [2023-10-31T08:05:25.514Z] [worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-ecd028e5-93e9-492a-b823-4980463b991a]: FINISHED"}}
[debug] [2023-10-31T08:16:14.464Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:15.465Z] Validating nodejs source
[debug] [2023-10-31T08:16:17.167Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:16:17.167Z] Building nodejs source
[debug] [2023-10-31T08:16:17.167Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:16:17.168Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:16:17.169Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8440

[debug] [2023-10-31T08:16:17.587Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:16:26.015Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:26.116Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:27.118Z] Validating nodejs source
[debug] [2023-10-31T08:16:28.589Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:16:28.589Z] Building nodejs source
[debug] [2023-10-31T08:16:28.589Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:16:28.590Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:28.591Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:16:28.592Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-10-31T08:16:28.752Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[info] Serving at port 8898

[debug] [2023-10-31T08:16:28.892Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:28.998Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:29.028Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T08:16:29.197Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:29.389Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:29.722Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T08:16:30.724Z] Validating nodejs source
[debug] [2023-10-31T08:16:32.242Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T08:16:32.242Z] Building nodejs source
[debug] [2023-10-31T08:16:32.242Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T08:16:32.243Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T08:16:32.244Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8679

[debug] [2023-10-31T08:16:32.682Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:48:24.265Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:48:25.266Z] Validating nodejs source
[debug] [2023-10-31T09:48:27.208Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:48:27.208Z] Building nodejs source
[debug] [2023-10-31T09:48:27.208Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:48:27.209Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:48:27.210Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8861

[debug] [2023-10-31T09:48:27.651Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:49:33.221Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:49:34.221Z] Validating nodejs source
[debug] [2023-10-31T09:49:36.847Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:49:36.847Z] Building nodejs source
[debug] [2023-10-31T09:49:36.847Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:49:36.848Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:49:36.849Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8562

[debug] [2023-10-31T09:49:37.255Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:49:48.000Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:49:49.002Z] Validating nodejs source
[debug] [2023-10-31T09:49:50.464Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:49:50.464Z] Building nodejs source
[debug] [2023-10-31T09:49:50.464Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:49:50.465Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:49:50.466Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-10-31T09:49:50.556Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[info] Serving at port 8430

[debug] [2023-10-31T09:49:50.896Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:49:51.558Z] Validating nodejs source
[debug] [2023-10-31T09:49:52.997Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:49:52.997Z] Building nodejs source
[debug] [2023-10-31T09:49:52.997Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:49:52.998Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:49:52.999Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8730

[debug] [2023-10-31T09:49:53.442Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:50:06.219Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:50:07.222Z] Validating nodejs source
[debug] [2023-10-31T09:50:08.892Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:50:08.892Z] Building nodejs source
[debug] [2023-10-31T09:50:08.892Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:50:08.894Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:50:08.895Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8155

[debug] [2023-10-31T09:50:09.352Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:50:54.067Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:50:55.068Z] Validating nodejs source
[debug] [2023-10-31T09:50:56.547Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:50:56.548Z] Building nodejs source
[debug] [2023-10-31T09:50:56.548Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:50:56.548Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:50:56.549Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8475

[debug] [2023-10-31T09:50:56.979Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:51:57.083Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:51:58.084Z] Validating nodejs source
[debug] [2023-10-31T09:52:00.777Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:52:00.777Z] Building nodejs source
[debug] [2023-10-31T09:52:00.777Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:52:00.778Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:52:00.779Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8965

[debug] [2023-10-31T09:52:01.201Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:53:17.053Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:53:18.054Z] Validating nodejs source
[debug] [2023-10-31T09:53:19.615Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:53:19.615Z] Building nodejs source
[debug] [2023-10-31T09:53:19.615Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:53:19.616Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:53:19.617Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8254

[debug] [2023-10-31T09:53:20.061Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, testShopifyAdminApi."}}
[debug] [2023-10-31T09:53:41.132Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:53:42.134Z] Validating nodejs source
[debug] [2023-10-31T09:53:43.683Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:53:43.683Z] Building nodejs source
[debug] [2023-10-31T09:53:43.683Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:53:43.684Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:53:43.684Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8562

[debug] [2023-10-31T09:53:44.130Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi."}}
[info] ✔  functions[us-central1-getProducts]: http function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/getProducts). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/getProducts)."}}
[debug] [2023-10-31T09:53:57.121Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:53:57.121Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:53:57.121Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:53:57.121Z"],"workRunningCount":1}
[debug] [2023-10-31T09:53:57.122Z] Accepted request GET /coflow-v1/us-central1/getProducts --> us-central1-getProducts
[debug] [2023-10-31T09:53:57.128Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:53:57.129Z] [functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/"}}
[debug] [2023-10-31T09:53:57.129Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:53:57.134Z] [worker-pool] addWorker(us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProducts)"}}
[debug] [2023-10-31T09:53:57.134Z] [worker-pool] Adding worker with key us-central1-getProducts, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProducts, total=1"}}
[debug] [2023-10-31T09:53:57.984Z] [runtime-status] [73719] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:53:57.985Z] [runtime-status] [73719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:53:57.985Z] [runtime-status] [73719] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T09:53:57.986Z] [runtime-status] [73719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:53:58.164Z] [runtime-status] [73719] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T09:53:58.165Z] [runtime-status] [73719] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T09:53:58.165Z] [runtime-status] [73719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:53:58.166Z] [runtime-status] [73719] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:53:58.168Z] [runtime-status] [73719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:53:58.168Z] [runtime-status] [73719] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T09:53:58.170Z] [runtime-status] [73719] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T09:53:58.215Z] [runtime-status] [73719] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T09:53:58.215Z] [runtime-status] [73719] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_8ade1e56bf2a9cb1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73719] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_8ade1e56bf2a9cb1.sock"}}
[debug] [2023-10-31T09:53:58.255Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: IDLE"}}
[debug] [2023-10-31T09:53:58.256Z] [worker-pool] submitRequest(triggerId=us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProducts)"}}
[info] i  functions: Beginning execution of "us-central1-getProducts" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Beginning execution of \"us-central1-getProducts\""}}
[debug] [2023-10-31T09:53:58.256Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: BUSY"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-10-31T09:54:00.568Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProducts" in 2312.599816ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finished \"us-central1-getProducts\" in 2312.599816ms"}}
[debug] [2023-10-31T09:54:00.569Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: IDLE"}}
[debug] [2023-10-31T09:54:00.569Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:54:00.569Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:54:00.570Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:54:06.397Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:54:06.397Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:54:06.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:54:06.397Z"],"workRunningCount":1}
[debug] [2023-10-31T09:54:06.397Z] Accepted request GET /coflow-v1/us-central1/getProducts --> us-central1-getProducts
[debug] [2023-10-31T09:54:06.399Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:54:06.399Z] [functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/"}}
[debug] [2023-10-31T09:54:06.399Z] [worker-pool] submitRequest(triggerId=us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProducts)"}}
[info] i  functions: Beginning execution of "us-central1-getProducts" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Beginning execution of \"us-central1-getProducts\""}}
[debug] [2023-10-31T09:54:06.400Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: BUSY"}}
[debug] [2023-10-31T09:54:08.190Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProducts" in 1790.78552ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finished \"us-central1-getProducts\" in 1790.78552ms"}}
[debug] [2023-10-31T09:54:08.191Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: IDLE"}}
[debug] [2023-10-31T09:54:08.191Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:54:08.191Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:54:08.192Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:55:03.651Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:55:04.653Z] Validating nodejs source
[debug] [2023-10-31T09:55:06.621Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:55:06.621Z] Building nodejs source
[debug] [2023-10-31T09:55:06.621Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:55:06.622Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:55:06.623Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8668

[debug] [2023-10-31T09:55:07.073Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi."}}
[debug] [2023-10-31T09:55:07.088Z] [worker-pool] Shutting down IDLE worker (us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getProducts)"}}
[debug] [2023-10-31T09:55:07.088Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: FINISHING"}}
[debug] [2023-10-31T09:55:07.096Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: exited"}}
[debug] [2023-10-31T09:55:07.096Z] [worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-99140b93-c201-4818-9c5d-037d58583235]: FINISHED"}}
[debug] [2023-10-31T09:55:13.712Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:55:13.712Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:55:13.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:55:13.712Z"],"workRunningCount":1}
[debug] [2023-10-31T09:55:13.712Z] Accepted request GET /coflow-v1/us-central1/getProducts --> us-central1-getProducts
[debug] [2023-10-31T09:55:13.715Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:55:13.715Z] [functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/"}}
[debug] [2023-10-31T09:55:13.715Z] [worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:55:13.719Z] [worker-pool] addWorker(us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProducts)"}}
[debug] [2023-10-31T09:55:13.719Z] [worker-pool] Adding worker with key us-central1-getProducts, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProducts, total=1"}}
[debug] [2023-10-31T09:55:14.635Z] [runtime-status] [73783] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:55:14.636Z] [runtime-status] [73783] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:55:14.637Z] [runtime-status] [73783] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T09:55:14.638Z] [runtime-status] [73783] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:55:14.827Z] [runtime-status] [73783] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T09:55:14.827Z] [runtime-status] [73783] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T09:55:14.828Z] [runtime-status] [73783] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:55:14.829Z] [runtime-status] [73783] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:55:14.831Z] [runtime-status] [73783] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:55:14.831Z] [runtime-status] [73783] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T09:55:14.833Z] [runtime-status] [73783] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T09:55:14.883Z] [runtime-status] [73783] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T09:55:14.883Z] [runtime-status] [73783] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_5e442f907396cd8a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73783] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_5e442f907396cd8a.sock"}}
[debug] [2023-10-31T09:55:14.938Z] [worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: IDLE"}}
[debug] [2023-10-31T09:55:14.938Z] [worker-pool] submitRequest(triggerId=us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProducts)"}}
[info] i  functions: Beginning execution of "us-central1-getProducts" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Beginning execution of \"us-central1-getProducts\""}}
[debug] [2023-10-31T09:55:14.938Z] [worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: BUSY"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-10-31T09:55:16.971Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProducts" in 2032.783749ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finished \"us-central1-getProducts\" in 2032.783749ms"}}
[debug] [2023-10-31T09:55:16.972Z] [worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: IDLE"}}
[debug] [2023-10-31T09:55:16.972Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:55:16.972Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:55:16.972Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:56:10.559Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:56:11.561Z] Validating nodejs source
[debug] [2023-10-31T09:56:13.226Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:56:13.226Z] Building nodejs source
[debug] [2023-10-31T09:56:13.226Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:56:13.227Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:56:13.228Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8533

[debug] [2023-10-31T09:56:13.711Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi."}}
[debug] [2023-10-31T09:56:13.725Z] [worker-pool] Shutting down IDLE worker (us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getProducts)"}}
[debug] [2023-10-31T09:56:13.725Z] [worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: FINISHING"}}
[debug] [2023-10-31T09:56:13.733Z] [worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: exited"}}
[debug] [2023-10-31T09:56:13.734Z] [worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-0361a1f2-f5be-4760-980a-e93d86e8b7c3]: FINISHED"}}
[debug] [2023-10-31T09:56:15.566Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:56:15.566Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:56:15.566Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:56:15.566Z"],"workRunningCount":1}
[debug] [2023-10-31T09:56:15.566Z] Accepted request GET /coflow-v1/us-central1/getProducts --> us-central1-getProducts
[debug] [2023-10-31T09:56:15.570Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:56:15.571Z] [functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/"}}
[debug] [2023-10-31T09:56:15.571Z] [worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:56:15.575Z] [worker-pool] addWorker(us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProducts)"}}
[debug] [2023-10-31T09:56:15.576Z] [worker-pool] Adding worker with key us-central1-getProducts, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProducts, total=1"}}
[debug] [2023-10-31T09:56:16.461Z] [runtime-status] [73833] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:56:16.462Z] [runtime-status] [73833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:56:16.463Z] [runtime-status] [73833] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T09:56:16.464Z] [runtime-status] [73833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:56:16.683Z] [runtime-status] [73833] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T09:56:16.684Z] [runtime-status] [73833] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T09:56:16.684Z] [runtime-status] [73833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:56:16.685Z] [runtime-status] [73833] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:56:16.687Z] [runtime-status] [73833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:56:16.687Z] [runtime-status] [73833] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T09:56:16.689Z] [runtime-status] [73833] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T09:56:16.739Z] [runtime-status] [73833] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T09:56:16.739Z] [runtime-status] [73833] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_76ea30e9dcfe9bdf.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73833] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_76ea30e9dcfe9bdf.sock"}}
[debug] [2023-10-31T09:56:16.798Z] [worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: IDLE"}}
[debug] [2023-10-31T09:56:16.798Z] [worker-pool] submitRequest(triggerId=us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProducts)"}}
[info] i  functions: Beginning execution of "us-central1-getProducts" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Beginning execution of \"us-central1-getProducts\""}}
[debug] [2023-10-31T09:56:16.798Z] [worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: BUSY"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== res.body:  { {"user":"===== res.body:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res.body:  {"}}
[info] >    products: [ {"user":"  products: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   products: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 8221764026601, {"user":"      id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 8221764026601,"}}
[info] >        title: 'Blue T-shirt', {"user":"      title: 'Blue T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'Blue T-shirt',"}}
[info] >        body_html: 'This is blue t-shirt.', {"user":"      body_html: 'This is blue t-shirt.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       body_html: 'This is blue t-shirt.',"}}
[info] >        vendor: 'My Store', {"user":"      vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       vendor: 'My Store',"}}
[info] >        product_type: 'Reward', {"user":"      product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_type: 'Reward',"}}
[info] >        created_at: '2023-10-25T05:42:00-07:00', {"user":"      created_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T05:42:00-07:00',"}}
[info] >        handle: 'blue-t-shirt', {"user":"      handle: 'blue-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       handle: 'blue-t-shirt',"}}
[info] >        updated_at: '2023-10-30T09:09:19-07:00', {"user":"      updated_at: '2023-10-30T09:09:19-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-30T09:09:19-07:00',"}}
[info] >        published_at: '2023-10-25T05:42:00-07:00', {"user":"      published_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_at: '2023-10-25T05:42:00-07:00',"}}
[info] >        template_suffix: '', {"user":"      template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       template_suffix: '',"}}
[info] >        published_scope: 'global', {"user":"      published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_scope: 'global',"}}
[info] >        tags: '', {"user":"      tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       tags: '',"}}
[info] >        status: 'active', {"user":"      status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       status: 'active',"}}
[info] >        admin_graphql_api_id: 'gid://shopify/Product/8221764026601', {"user":"      admin_graphql_api_id: 'gid://shopify/Product/8221764026601',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/Product/8221764026601',"}}
[info] >        variants: [Array], {"user":"      variants: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variants: [Array],"}}
[info] >        options: [Array], {"user":"      options: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       options: [Array],"}}
[info] >        images: [Array], {"user":"      images: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       images: [Array],"}}
[info] >        image: [Object] {"user":"      image: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       image: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 8224072794345, {"user":"      id: 8224072794345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 8224072794345,"}}
[info] >        title: 'Donation', {"user":"      title: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'Donation',"}}
[info] >        body_html: 'This is donation product', {"user":"      body_html: 'This is donation product',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       body_html: 'This is donation product',"}}
[info] >        vendor: 'coflow-test', {"user":"      vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       vendor: 'coflow-test',"}}
[info] >        product_type: 'Donation', {"user":"      product_type: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_type: 'Donation',"}}
[info] >        created_at: '2023-10-26T08:11:12-07:00', {"user":"      created_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-26T08:11:12-07:00',"}}
[info] >        handle: 'donation', {"user":"      handle: 'donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       handle: 'donation',"}}
[info] >        updated_at: '2023-10-27T04:21:09-07:00', {"user":"      updated_at: '2023-10-27T04:21:09-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T04:21:09-07:00',"}}
[info] >        published_at: '2023-10-26T08:11:12-07:00', {"user":"      published_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_at: '2023-10-26T08:11:12-07:00',"}}
[info] >        template_suffix: '', {"user":"      template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       template_suffix: '',"}}
[info] >        published_scope: 'global', {"user":"      published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_scope: 'global',"}}
[info] >        tags: '', {"user":"      tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       tags: '',"}}
[info] >        status: 'active', {"user":"      status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       status: 'active',"}}
[info] >        admin_graphql_api_id: 'gid://shopify/Product/8224072794345', {"user":"      admin_graphql_api_id: 'gid://shopify/Product/8224072794345',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/Product/8224072794345',"}}
[info] >        variants: [Array], {"user":"      variants: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variants: [Array],"}}
[info] >        options: [Array], {"user":"      options: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       options: [Array],"}}
[info] >        images: [], {"user":"      images: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       images: [],"}}
[info] >        image: null {"user":"      image: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       image: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 8224569655529, {"user":"      id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 8224569655529,"}}
[info] >        title: 'Red T-shirt', {"user":"      title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'Red T-shirt',"}}
[info] >        body_html: 'Red T-shirt', {"user":"      body_html: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       body_html: 'Red T-shirt',"}}
[info] >        vendor: 'coflow-test', {"user":"      vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       vendor: 'coflow-test',"}}
[info] >        product_type: 'Reward', {"user":"      product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_type: 'Reward',"}}
[info] >        created_at: '2023-10-27T07:49:35-07:00', {"user":"      created_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:49:35-07:00',"}}
[info] >        handle: 'red-t-shirt', {"user":"      handle: 'red-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       handle: 'red-t-shirt',"}}
[info] >        updated_at: '2023-10-30T09:09:39-07:00', {"user":"      updated_at: '2023-10-30T09:09:39-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-30T09:09:39-07:00',"}}
[info] >        published_at: '2023-10-27T07:49:35-07:00', {"user":"      published_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_at: '2023-10-27T07:49:35-07:00',"}}
[info] >        template_suffix: '', {"user":"      template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       template_suffix: '',"}}
[info] >        published_scope: 'global', {"user":"      published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_scope: 'global',"}}
[info] >        tags: '', {"user":"      tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       tags: '',"}}
[info] >        status: 'active', {"user":"      status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       status: 'active',"}}
[info] >        admin_graphql_api_id: 'gid://shopify/Product/8224569655529', {"user":"      admin_graphql_api_id: 'gid://shopify/Product/8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/Product/8224569655529',"}}
[info] >        variants: [Array], {"user":"      variants: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variants: [Array],"}}
[info] >        options: [Array], {"user":"      options: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       options: [Array],"}}
[info] >        images: [Array], {"user":"      images: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       images: [Array],"}}
[info] >        image: [Object] {"user":"      image: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       image: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 8221471211753, {"user":"      id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 8221471211753,"}}
[info] >        title: 'T Shirt', {"user":"      title: 'T Shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'T Shirt',"}}
[info] >        body_html: 'This is best t-shirt for you', {"user":"      body_html: 'This is best t-shirt for you',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       body_html: 'This is best t-shirt for you',"}}
[info] >        vendor: 'My Store', {"user":"      vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       vendor: 'My Store',"}}
[info] >        product_type: '', {"user":"      product_type: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_type: '',"}}
[info] >        created_at: '2023-10-25T01:51:02-07:00', {"user":"      created_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T01:51:02-07:00',"}}
[info] >        handle: 't-shirt', {"user":"      handle: 't-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       handle: 't-shirt',"}}
[info] >        updated_at: '2023-10-27T07:53:41-07:00', {"user":"      updated_at: '2023-10-27T07:53:41-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:53:41-07:00',"}}
[info] >        published_at: '2023-10-25T01:51:02-07:00', {"user":"      published_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_at: '2023-10-25T01:51:02-07:00',"}}
[info] >        template_suffix: '', {"user":"      template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       template_suffix: '',"}}
[info] >        published_scope: 'global', {"user":"      published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_scope: 'global',"}}
[info] >        tags: '', {"user":"      tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       tags: '',"}}
[info] >        status: 'active', {"user":"      status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       status: 'active',"}}
[info] >        admin_graphql_api_id: 'gid://shopify/Product/8221471211753', {"user":"      admin_graphql_api_id: 'gid://shopify/Product/8221471211753',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/Product/8221471211753',"}}
[info] >        variants: [Array], {"user":"      variants: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variants: [Array],"}}
[info] >        options: [Array], {"user":"      options: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       options: [Array],"}}
[info] >        images: [Array], {"user":"      images: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       images: [Array],"}}
[info] >        image: [Object] {"user":"      image: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       image: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 8224569819369, {"user":"      id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 8224569819369,"}}
[info] >        title: 'T-shirt Yellow', {"user":"      title: 'T-shirt Yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'T-shirt Yellow',"}}
[info] >        body_html: 'T-shirt yellow', {"user":"      body_html: 'T-shirt yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       body_html: 'T-shirt yellow',"}}
[info] >        vendor: 'coflow-test', {"user":"      vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       vendor: 'coflow-test',"}}
[info] >        product_type: 'Reward', {"user":"      product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_type: 'Reward',"}}
[info] >        created_at: '2023-10-27T07:51:51-07:00', {"user":"      created_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:51:51-07:00',"}}
[info] >        handle: 't-shirt-yellow', {"user":"      handle: 't-shirt-yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       handle: 't-shirt-yellow',"}}
[info] >        updated_at: '2023-10-30T09:08:50-07:00', {"user":"      updated_at: '2023-10-30T09:08:50-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-30T09:08:50-07:00',"}}
[info] >        published_at: '2023-10-27T07:51:51-07:00', {"user":"      published_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_at: '2023-10-27T07:51:51-07:00',"}}
[info] >        template_suffix: '', {"user":"      template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       template_suffix: '',"}}
[info] >        published_scope: 'global', {"user":"      published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       published_scope: 'global',"}}
[info] >        tags: '', {"user":"      tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       tags: '',"}}
[info] >        status: 'active', {"user":"      status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       status: 'active',"}}
[info] >        admin_graphql_api_id: 'gid://shopify/Product/8224569819369', {"user":"      admin_graphql_api_id: 'gid://shopify/Product/8224569819369',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/Product/8224569819369',"}}
[info] >        variants: [Array], {"user":"      variants: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variants: [Array],"}}
[info] >        options: [Array], {"user":"      options: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       options: [Array],"}}
[info] >        images: [Array], {"user":"      images: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       images: [Array],"}}
[info] >        image: [Object] {"user":"      image: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       image: [Object]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T09:56:18.794Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProducts" in 1995.617205ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finished \"us-central1-getProducts\" in 1995.617205ms"}}
[debug] [2023-10-31T09:56:18.794Z] [worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: IDLE"}}
[debug] [2023-10-31T09:56:18.794Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:56:18.794Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:56:18.794Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:56:42.708Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:56:43.709Z] Validating nodejs source
[debug] [2023-10-31T09:56:45.256Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:56:45.256Z] Building nodejs source
[debug] [2023-10-31T09:56:45.256Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:56:45.258Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:56:45.259Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8457

[debug] [2023-10-31T09:56:45.721Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi."}}
[debug] [2023-10-31T09:56:45.735Z] [worker-pool] Shutting down IDLE worker (us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getProducts)"}}
[debug] [2023-10-31T09:56:45.735Z] [worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: FINISHING"}}
[debug] [2023-10-31T09:56:45.743Z] [worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: exited"}}
[debug] [2023-10-31T09:56:45.744Z] [worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-2a31367f-a967-4efb-8d62-77f52e7a64dd]: FINISHED"}}
[debug] [2023-10-31T09:57:03.944Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:57:03.944Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:57:03.944Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:57:03.944Z"],"workRunningCount":1}
[debug] [2023-10-31T09:57:03.944Z] Accepted request GET /coflow-v1/us-central1/getProducts --> us-central1-getProducts
[debug] [2023-10-31T09:57:03.946Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:57:03.946Z] [functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/"}}
[debug] [2023-10-31T09:57:03.946Z] [worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:57:03.949Z] [worker-pool] addWorker(us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProducts)"}}
[debug] [2023-10-31T09:57:03.949Z] [worker-pool] Adding worker with key us-central1-getProducts, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProducts, total=1"}}
[debug] [2023-10-31T09:57:04.923Z] [runtime-status] [73870] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:57:04.925Z] [runtime-status] [73870] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:04.925Z] [runtime-status] [73870] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T09:57:04.927Z] [runtime-status] [73870] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:05.134Z] [runtime-status] [73870] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T09:57:05.135Z] [runtime-status] [73870] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T09:57:05.135Z] [runtime-status] [73870] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:05.136Z] [runtime-status] [73870] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:57:05.138Z] [runtime-status] [73870] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:05.138Z] [runtime-status] [73870] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T09:57:05.141Z] [runtime-status] [73870] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T09:57:05.193Z] [runtime-status] [73870] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T09:57:05.194Z] [runtime-status] [73870] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_36d8ccb6ceb6ae69.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73870] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_36d8ccb6ceb6ae69.sock"}}
[debug] [2023-10-31T09:57:05.281Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: IDLE"}}
[debug] [2023-10-31T09:57:05.281Z] [worker-pool] submitRequest(triggerId=us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProducts)"}}
[info] i  functions: Beginning execution of "us-central1-getProducts" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Beginning execution of \"us-central1-getProducts\""}}
[debug] [2023-10-31T09:57:05.281Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: BUSY"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== res.body:  [ {"user":"===== res.body:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res.body:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221764026601, {"user":"    id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221764026601,"}}
[info] >      title: 'Blue T-shirt', {"user":"    title: 'Blue T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Blue T-shirt',"}}
[info] >      body_html: 'This is blue t-shirt.', {"user":"    body_html: 'This is blue t-shirt.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is blue t-shirt.',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-25T05:42:00-07:00', {"user":"    created_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      handle: 'blue-t-shirt', {"user":"    handle: 'blue-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'blue-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:19-07:00', {"user":"    updated_at: '2023-10-30T09:09:19-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:19-07:00',"}}
[info] >      published_at: '2023-10-25T05:42:00-07:00', {"user":"    published_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221764026601', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221764026601',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221764026601',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8221764026601, {"user":"      product_id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221764026601,"}}
[info] >        id: 41529361793257, {"user":"      id: 41529361793257,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41529361793257,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T05:42:02-07:00', {"user":"      created_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        updated_at: '2023-10-25T05:42:02-07:00', {"user":"      updated_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 220, {"user":"      width: 220,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 220,"}}
[info] >        height: 255, {"user":"      height: 255,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 255,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224072794345, {"user":"    id: 8224072794345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224072794345,"}}
[info] >      title: 'Donation', {"user":"    title: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Donation',"}}
[info] >      body_html: 'This is donation product', {"user":"    body_html: 'This is donation product',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is donation product',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Donation', {"user":"    product_type: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Donation',"}}
[info] >      created_at: '2023-10-26T08:11:12-07:00', {"user":"    created_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      handle: 'donation', {"user":"    handle: 'donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'donation',"}}
[info] >      updated_at: '2023-10-27T04:21:09-07:00', {"user":"    updated_at: '2023-10-27T04:21:09-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T04:21:09-07:00',"}}
[info] >      published_at: '2023-10-26T08:11:12-07:00', {"user":"    published_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224072794345', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224072794345',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224072794345',"}}
[info] >      variants: [ {"user":"    variants: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: ["}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object] {"user":"      [Object], [Object], [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object]"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [], {"user":"    images: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [],"}}
[info] >      image: null {"user":"    image: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569655529, {"user":"    id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569655529,"}}
[info] >      title: 'Red T-shirt', {"user":"    title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Red T-shirt',"}}
[info] >      body_html: 'Red T-shirt', {"user":"    body_html: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'Red T-shirt',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:49:35-07:00', {"user":"    created_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      handle: 'red-t-shirt', {"user":"    handle: 'red-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'red-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:39-07:00', {"user":"    updated_at: '2023-10-30T09:09:39-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:39-07:00',"}}
[info] >      published_at: '2023-10-27T07:49:35-07:00', {"user":"    published_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569655529', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569655529',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537285783785, {"user":"      id: 41537285783785,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537285783785,"}}
[info] >        product_id: 8224569655529, {"user":"      product_id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569655529,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:49:37-07:00', {"user":"      created_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        updated_at: '2023-10-27T07:49:37-07:00', {"user":"      updated_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 637, {"user":"      width: 637,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 637,"}}
[info] >        height: 640, {"user":"      height: 640,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 640,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221471211753, {"user":"    id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221471211753,"}}
[info] >      title: 'T Shirt', {"user":"    title: 'T Shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T Shirt',"}}
[info] >      body_html: 'This is best t-shirt for you', {"user":"    body_html: 'This is best t-shirt for you',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is best t-shirt for you',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: '', {"user":"    product_type: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: '',"}}
[info] >      created_at: '2023-10-25T01:51:02-07:00', {"user":"    created_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      handle: 't-shirt', {"user":"    handle: 't-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt',"}}
[info] >      updated_at: '2023-10-27T07:53:41-07:00', {"user":"    updated_at: '2023-10-27T07:53:41-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T07:53:41-07:00',"}}
[info] >      published_at: '2023-10-25T01:51:02-07:00', {"user":"    published_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221471211753', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221471211753',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221471211753',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41527310024937, {"user":"      id: 41527310024937,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41527310024937,"}}
[info] >        product_id: 8221471211753, {"user":"      product_id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221471211753,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T01:51:04-07:00', {"user":"      created_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        updated_at: '2023-10-25T01:51:04-07:00', {"user":"      updated_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 960, {"user":"      width: 960,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 960,"}}
[info] >        height: 1456, {"user":"      height: 1456,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1456,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569819369, {"user":"    id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569819369,"}}
[info] >      title: 'T-shirt Yellow', {"user":"    title: 'T-shirt Yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T-shirt Yellow',"}}
[info] >      body_html: 'T-shirt yellow', {"user":"    body_html: 'T-shirt yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'T-shirt yellow',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:51:51-07:00', {"user":"    created_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      handle: 't-shirt-yellow', {"user":"    handle: 't-shirt-yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt-yellow',"}}
[info] >      updated_at: '2023-10-30T09:08:50-07:00', {"user":"    updated_at: '2023-10-30T09:08:50-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:08:50-07:00',"}}
[info] >      published_at: '2023-10-27T07:51:51-07:00', {"user":"    published_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569819369', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569819369',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569819369',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537292796137, {"user":"      id: 41537292796137,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537292796137,"}}
[info] >        product_id: 8224569819369, {"user":"      product_id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569819369,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:51:53-07:00', {"user":"      created_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        updated_at: '2023-10-27T07:51:53-07:00', {"user":"      updated_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 927, {"user":"      width: 927,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 927,"}}
[info] >        height: 1000, {"user":"      height: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1000,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-10-31T09:57:07.342Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProducts" in 2061.127942ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finished \"us-central1-getProducts\" in 2061.127942ms"}}
[debug] [2023-10-31T09:57:07.343Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: IDLE"}}
[debug] [2023-10-31T09:57:07.343Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:57:07.343Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:57:07.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:57:25.803Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:57:26.805Z] Validating nodejs source
[debug] [2023-10-31T09:57:28.341Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:57:28.341Z] Building nodejs source
[debug] [2023-10-31T09:57:28.341Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:57:28.342Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:57:28.344Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8016

[debug] [2023-10-31T09:57:28.679Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:57:28.679Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:57:28.679Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:57:28.679Z"],"workRunningCount":1}
[debug] [2023-10-31T09:57:28.679Z] Accepted request GET /coflow-v1/us-central1/getProducts --> us-central1-getProducts
[debug] [2023-10-31T09:57:28.682Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:57:28.682Z] [functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/"}}
[debug] [2023-10-31T09:57:28.682Z] [worker-pool] submitRequest(triggerId=us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProducts)"}}
[info] i  functions: Beginning execution of "us-central1-getProducts" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Beginning execution of \"us-central1-getProducts\""}}
[debug] [2023-10-31T09:57:28.683Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: BUSY"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T09:57:28.804Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi."}}
[debug] [2023-10-31T09:57:28.818Z] [worker-pool] Marking BUSY worker to finish (us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-getProducts)"}}
[debug] [2023-10-31T09:57:28.818Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: FINISHING"}}
[info] >  ===== res.body:  [ {"user":"===== res.body:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res.body:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221764026601, {"user":"    id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221764026601,"}}
[info] >      title: 'Blue T-shirt', {"user":"    title: 'Blue T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Blue T-shirt',"}}
[info] >      body_html: 'This is blue t-shirt.', {"user":"    body_html: 'This is blue t-shirt.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is blue t-shirt.',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-25T05:42:00-07:00', {"user":"    created_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      handle: 'blue-t-shirt', {"user":"    handle: 'blue-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'blue-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:19-07:00', {"user":"    updated_at: '2023-10-30T09:09:19-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:19-07:00',"}}
[info] >      published_at: '2023-10-25T05:42:00-07:00', {"user":"    published_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221764026601', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221764026601',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221764026601',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8221764026601, {"user":"      product_id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221764026601,"}}
[info] >        id: 41529361793257, {"user":"      id: 41529361793257,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41529361793257,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T05:42:02-07:00', {"user":"      created_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        updated_at: '2023-10-25T05:42:02-07:00', {"user":"      updated_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 220, {"user":"      width: 220,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 220,"}}
[info] >        height: 255, {"user":"      height: 255,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 255,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224072794345, {"user":"    id: 8224072794345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224072794345,"}}
[info] >      title: 'Donation', {"user":"    title: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Donation',"}}
[info] >      body_html: 'This is donation product', {"user":"    body_html: 'This is donation product',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is donation product',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Donation', {"user":"    product_type: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Donation',"}}
[info] >      created_at: '2023-10-26T08:11:12-07:00', {"user":"    created_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      handle: 'donation', {"user":"    handle: 'donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'donation',"}}
[info] >      updated_at: '2023-10-27T04:21:09-07:00', {"user":"    updated_at: '2023-10-27T04:21:09-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T04:21:09-07:00',"}}
[info] >      published_at: '2023-10-26T08:11:12-07:00', {"user":"    published_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224072794345', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224072794345',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224072794345',"}}
[info] >      variants: [ {"user":"    variants: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: ["}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object] {"user":"      [Object], [Object], [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object]"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [], {"user":"    images: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [],"}}
[info] >      image: null {"user":"    image: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569655529, {"user":"    id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569655529,"}}
[info] >      title: 'Red T-shirt', {"user":"    title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Red T-shirt',"}}
[info] >      body_html: 'Red T-shirt', {"user":"    body_html: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'Red T-shirt',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:49:35-07:00', {"user":"    created_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      handle: 'red-t-shirt', {"user":"    handle: 'red-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'red-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:39-07:00', {"user":"    updated_at: '2023-10-30T09:09:39-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:39-07:00',"}}
[info] >      published_at: '2023-10-27T07:49:35-07:00', {"user":"    published_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569655529', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569655529',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537285783785, {"user":"      id: 41537285783785,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537285783785,"}}
[info] >        product_id: 8224569655529, {"user":"      product_id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569655529,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:49:37-07:00', {"user":"      created_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        updated_at: '2023-10-27T07:49:37-07:00', {"user":"      updated_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 637, {"user":"      width: 637,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 637,"}}
[info] >        height: 640, {"user":"      height: 640,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 640,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221471211753, {"user":"    id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221471211753,"}}
[info] >      title: 'T Shirt', {"user":"    title: 'T Shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T Shirt',"}}
[info] >      body_html: 'This is best t-shirt for you', {"user":"    body_html: 'This is best t-shirt for you',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is best t-shirt for you',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: '', {"user":"    product_type: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: '',"}}
[info] >      created_at: '2023-10-25T01:51:02-07:00', {"user":"    created_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      handle: 't-shirt', {"user":"    handle: 't-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt',"}}
[info] >      updated_at: '2023-10-27T07:53:41-07:00', {"user":"    updated_at: '2023-10-27T07:53:41-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T07:53:41-07:00',"}}
[info] >      published_at: '2023-10-25T01:51:02-07:00', {"user":"    published_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221471211753', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221471211753',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221471211753',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41527310024937, {"user":"      id: 41527310024937,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41527310024937,"}}
[info] >        product_id: 8221471211753, {"user":"      product_id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221471211753,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T01:51:04-07:00', {"user":"      created_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        updated_at: '2023-10-25T01:51:04-07:00', {"user":"      updated_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 960, {"user":"      width: 960,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 960,"}}
[info] >        height: 1456, {"user":"      height: 1456,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1456,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569819369, {"user":"    id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569819369,"}}
[info] >      title: 'T-shirt Yellow', {"user":"    title: 'T-shirt Yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T-shirt Yellow',"}}
[info] >      body_html: 'T-shirt yellow', {"user":"    body_html: 'T-shirt yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'T-shirt yellow',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:51:51-07:00', {"user":"    created_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      handle: 't-shirt-yellow', {"user":"    handle: 't-shirt-yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt-yellow',"}}
[info] >      updated_at: '2023-10-30T09:08:50-07:00', {"user":"    updated_at: '2023-10-30T09:08:50-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:08:50-07:00',"}}
[info] >      published_at: '2023-10-27T07:51:51-07:00', {"user":"    published_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569819369', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569819369',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569819369',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537292796137, {"user":"      id: 41537292796137,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537292796137,"}}
[info] >        product_id: 8224569819369, {"user":"      product_id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569819369,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:51:53-07:00', {"user":"      created_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        updated_at: '2023-10-27T07:51:53-07:00', {"user":"      updated_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 927, {"user":"      width: 927,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 927,"}}
[info] >        height: 1000, {"user":"      height: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1000,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-10-31T09:57:30.415Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProducts" in 1732.5437080000002ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finished \"us-central1-getProducts\" in 1732.5437080000002ms"}}
[debug] [2023-10-31T09:57:30.415Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: IDLE --> FINISHING"}}
[debug] [2023-10-31T09:57:30.416Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:57:30.416Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:57:30.416Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:57:30.425Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: exited"}}
[debug] [2023-10-31T09:57:30.425Z] [worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-91463717-c151-43d5-9226-88971dba140a]: FINISHED"}}
[debug] [2023-10-31T09:57:39.095Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:57:39.095Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:57:39.095Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProducts-2023-10-31T09:57:39.095Z"],"workRunningCount":1}
[debug] [2023-10-31T09:57:39.095Z] Accepted request GET /coflow-v1/us-central1/getProducts --> us-central1-getProducts
[debug] [2023-10-31T09:57:39.097Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:57:39.097Z] [functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProducts, mapping to path=/"}}
[debug] [2023-10-31T09:57:39.097Z] [worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:57:39.101Z] [worker-pool] addWorker(us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProducts)"}}
[debug] [2023-10-31T09:57:39.101Z] [worker-pool] Adding worker with key us-central1-getProducts, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProducts, total=1"}}
[debug] [2023-10-31T09:57:40.008Z] [runtime-status] [73909] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:57:40.010Z] [runtime-status] [73909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:40.011Z] [runtime-status] [73909] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T09:57:40.012Z] [runtime-status] [73909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:40.198Z] [runtime-status] [73909] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T09:57:40.198Z] [runtime-status] [73909] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T09:57:40.199Z] [runtime-status] [73909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:40.201Z] [runtime-status] [73909] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:57:40.202Z] [runtime-status] [73909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:57:40.203Z] [runtime-status] [73909] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T09:57:40.205Z] [runtime-status] [73909] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T09:57:40.257Z] [runtime-status] [73909] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T09:57:40.257Z] [runtime-status] [73909] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_47aa431da6c7046b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[runtime-status] [73909] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_47aa431da6c7046b.sock"}}
[debug] [2023-10-31T09:57:40.324Z] [worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: IDLE"}}
[debug] [2023-10-31T09:57:40.324Z] [worker-pool] submitRequest(triggerId=us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProducts)"}}
[info] i  functions: Beginning execution of "us-central1-getProducts" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Beginning execution of \"us-central1-getProducts\""}}
[debug] [2023-10-31T09:57:40.324Z] [worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: BUSY"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== res.body:  [ {"user":"===== res.body:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res.body:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221764026601, {"user":"    id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221764026601,"}}
[info] >      title: 'Blue T-shirt', {"user":"    title: 'Blue T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Blue T-shirt',"}}
[info] >      body_html: 'This is blue t-shirt.', {"user":"    body_html: 'This is blue t-shirt.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is blue t-shirt.',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-25T05:42:00-07:00', {"user":"    created_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      handle: 'blue-t-shirt', {"user":"    handle: 'blue-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'blue-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:19-07:00', {"user":"    updated_at: '2023-10-30T09:09:19-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:19-07:00',"}}
[info] >      published_at: '2023-10-25T05:42:00-07:00', {"user":"    published_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221764026601', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221764026601',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221764026601',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8221764026601, {"user":"      product_id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221764026601,"}}
[info] >        id: 41529361793257, {"user":"      id: 41529361793257,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41529361793257,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T05:42:02-07:00', {"user":"      created_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        updated_at: '2023-10-25T05:42:02-07:00', {"user":"      updated_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 220, {"user":"      width: 220,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 220,"}}
[info] >        height: 255, {"user":"      height: 255,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 255,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224072794345, {"user":"    id: 8224072794345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224072794345,"}}
[info] >      title: 'Donation', {"user":"    title: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Donation',"}}
[info] >      body_html: 'This is donation product', {"user":"    body_html: 'This is donation product',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is donation product',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Donation', {"user":"    product_type: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Donation',"}}
[info] >      created_at: '2023-10-26T08:11:12-07:00', {"user":"    created_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      handle: 'donation', {"user":"    handle: 'donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'donation',"}}
[info] >      updated_at: '2023-10-27T04:21:09-07:00', {"user":"    updated_at: '2023-10-27T04:21:09-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T04:21:09-07:00',"}}
[info] >      published_at: '2023-10-26T08:11:12-07:00', {"user":"    published_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224072794345', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224072794345',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224072794345',"}}
[info] >      variants: [ {"user":"    variants: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: ["}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object] {"user":"      [Object], [Object], [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object]"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [], {"user":"    images: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [],"}}
[info] >      image: null {"user":"    image: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569655529, {"user":"    id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569655529,"}}
[info] >      title: 'Red T-shirt', {"user":"    title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Red T-shirt',"}}
[info] >      body_html: 'Red T-shirt', {"user":"    body_html: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'Red T-shirt',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:49:35-07:00', {"user":"    created_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      handle: 'red-t-shirt', {"user":"    handle: 'red-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'red-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:39-07:00', {"user":"    updated_at: '2023-10-30T09:09:39-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:39-07:00',"}}
[info] >      published_at: '2023-10-27T07:49:35-07:00', {"user":"    published_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569655529', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569655529',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537285783785, {"user":"      id: 41537285783785,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537285783785,"}}
[info] >        product_id: 8224569655529, {"user":"      product_id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569655529,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:49:37-07:00', {"user":"      created_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        updated_at: '2023-10-27T07:49:37-07:00', {"user":"      updated_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 637, {"user":"      width: 637,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 637,"}}
[info] >        height: 640, {"user":"      height: 640,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 640,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221471211753, {"user":"    id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221471211753,"}}
[info] >      title: 'T Shirt', {"user":"    title: 'T Shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T Shirt',"}}
[info] >      body_html: 'This is best t-shirt for you', {"user":"    body_html: 'This is best t-shirt for you',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is best t-shirt for you',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: '', {"user":"    product_type: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: '',"}}
[info] >      created_at: '2023-10-25T01:51:02-07:00', {"user":"    created_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      handle: 't-shirt', {"user":"    handle: 't-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt',"}}
[info] >      updated_at: '2023-10-27T07:53:41-07:00', {"user":"    updated_at: '2023-10-27T07:53:41-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T07:53:41-07:00',"}}
[info] >      published_at: '2023-10-25T01:51:02-07:00', {"user":"    published_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221471211753', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221471211753',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221471211753',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41527310024937, {"user":"      id: 41527310024937,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41527310024937,"}}
[info] >        product_id: 8221471211753, {"user":"      product_id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221471211753,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T01:51:04-07:00', {"user":"      created_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        updated_at: '2023-10-25T01:51:04-07:00', {"user":"      updated_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 960, {"user":"      width: 960,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 960,"}}
[info] >        height: 1456, {"user":"      height: 1456,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1456,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569819369, {"user":"    id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569819369,"}}
[info] >      title: 'T-shirt Yellow', {"user":"    title: 'T-shirt Yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T-shirt Yellow',"}}
[info] >      body_html: 'T-shirt yellow', {"user":"    body_html: 'T-shirt yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'T-shirt yellow',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:51:51-07:00', {"user":"    created_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      handle: 't-shirt-yellow', {"user":"    handle: 't-shirt-yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt-yellow',"}}
[info] >      updated_at: '2023-10-30T09:08:50-07:00', {"user":"    updated_at: '2023-10-30T09:08:50-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:08:50-07:00',"}}
[info] >      published_at: '2023-10-27T07:51:51-07:00', {"user":"    published_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569819369', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569819369',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569819369',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537292796137, {"user":"      id: 41537292796137,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537292796137,"}}
[info] >        product_id: 8224569819369, {"user":"      product_id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569819369,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:51:53-07:00', {"user":"      created_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        updated_at: '2023-10-27T07:51:53-07:00', {"user":"      updated_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 927, {"user":"      width: 927,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 927,"}}
[info] >        height: 1000, {"user":"      height: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1000,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-10-31T09:57:42.127Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProducts" in 1803.176775ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finished \"us-central1-getProducts\" in 1803.176775ms"}}
[debug] [2023-10-31T09:57:42.128Z] [worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: IDLE"}}
[debug] [2023-10-31T09:57:42.128Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:57:42.128Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:57:42.128Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:59:14.770Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:59:15.772Z] Validating nodejs source
[debug] [2023-10-31T09:59:17.308Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:59:17.308Z] Building nodejs source
[debug] [2023-10-31T09:59:17.308Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:59:17.309Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:59:17.309Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:59:17.310Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8674

[debug] [2023-10-31T09:59:17.782Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi."}}
[debug] [2023-10-31T09:59:17.795Z] [worker-pool] Shutting down IDLE worker (us-central1-getProducts) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getProducts)"}}
[debug] [2023-10-31T09:59:17.795Z] [worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: FINISHING"}}
[debug] [2023-10-31T09:59:17.802Z] [worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: exited"}}
[debug] [2023-10-31T09:59:17.802Z] [worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProducts"},"extension":{},"message":"[worker-us-central1-getProducts-b85a44e8-cefa-46de-bcaf-adb87390d380]: FINISHED"}}
[debug] [2023-10-31T09:59:18.309Z] Validating nodejs source
[debug] [2023-10-31T09:59:19.814Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:59:19.814Z] Building nodejs source
[debug] [2023-10-31T09:59:19.814Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:59:19.815Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:59:19.816Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8908

[debug] [2023-10-31T09:59:20.330Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, testShopifyAdminApi."}}
[debug] [2023-10-31T09:59:40.342Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-31T09:59:41.344Z] Validating nodejs source
[debug] [2023-10-31T09:59:42.923Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T09:59:42.923Z] Building nodejs source
[debug] [2023-10-31T09:59:42.924Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:59:42.925Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T09:59:42.926Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8106

[debug] [2023-10-31T09:59:43.438Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[info] ✔  functions[us-central1-getProduct]: http function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/getProduct). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/getProduct)."}}
[debug] [2023-10-31T09:59:57.384Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProduct-2023-10-31T09:59:57.384Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T09:59:57.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProduct-2023-10-31T09:59:57.384Z"],"workRunningCount":1}
[debug] [2023-10-31T09:59:57.385Z] Accepted request GET /coflow-v1/us-central1/getProduct?productId=8221764026601 --> us-central1-getProduct
[debug] [2023-10-31T09:59:57.387Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T09:59:57.388Z] [functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601"}}
[debug] [2023-10-31T09:59:57.388Z] [worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProducts: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T09:59:57.392Z] [worker-pool] addWorker(us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProduct)"}}
[debug] [2023-10-31T09:59:57.392Z] [worker-pool] Adding worker with key us-central1-getProduct, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProduct, total=1"}}
[debug] [2023-10-31T09:59:58.245Z] [runtime-status] [74027] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:59:58.247Z] [runtime-status] [74027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:59:58.248Z] [runtime-status] [74027] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T09:59:58.249Z] [runtime-status] [74027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:59:58.424Z] [runtime-status] [74027] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T09:59:58.424Z] [runtime-status] [74027] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T09:59:58.425Z] [runtime-status] [74027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:59:58.427Z] [runtime-status] [74027] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T09:59:58.428Z] [runtime-status] [74027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T09:59:58.429Z] [runtime-status] [74027] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T09:59:58.431Z] [runtime-status] [74027] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T09:59:58.476Z] [runtime-status] [74027] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T09:59:58.477Z] [runtime-status] [74027] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_7cb53eb508efee9e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74027] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_7cb53eb508efee9e.sock"}}
[debug] [2023-10-31T09:59:58.509Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: IDLE"}}
[debug] [2023-10-31T09:59:58.510Z] [worker-pool] submitRequest(triggerId=us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProduct)"}}
[info] i  functions: Beginning execution of "us-central1-getProduct" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Beginning execution of \"us-central1-getProduct\""}}
[debug] [2023-10-31T09:59:58.510Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: BUSY"}}
[info] >  { '0': '' } {"user":"{ '0': '' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"\u001b[90m> \u001b[39m { '0': '' }"}}
[debug] [2023-10-31T09:59:58.519Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProduct" in 8.548823ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finished \"us-central1-getProduct\" in 8.548823ms"}}
[debug] [2023-10-31T09:59:58.519Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: IDLE"}}
[debug] [2023-10-31T09:59:58.519Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T09:59:58.519Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T09:59:58.519Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T10:02:45.809Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T10:02:46.809Z] Validating nodejs source
[debug] [2023-10-31T10:02:48.621Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T10:02:48.621Z] Building nodejs source
[debug] [2023-10-31T10:02:48.621Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T10:02:48.622Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T10:02:48.623Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-10-31T10:02:48.642Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:02:48.642Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T10:02:48.643Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:02:48.642Z"],"workRunningCount":1}
[debug] [2023-10-31T10:02:48.643Z] Accepted request GET /coflow-v1/us-central1/getProduct?productId=8221764026601 --> us-central1-getProduct
[debug] [2023-10-31T10:02:48.645Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T10:02:48.645Z] [functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601"}}
[debug] [2023-10-31T10:02:48.645Z] [worker-pool] submitRequest(triggerId=us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProduct)"}}
[info] i  functions: Beginning execution of "us-central1-getProduct" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Beginning execution of \"us-central1-getProduct\""}}
[debug] [2023-10-31T10:02:48.645Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: BUSY"}}
[info] >  { '0': '' } {"user":"{ '0': '' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"\u001b[90m> \u001b[39m { '0': '' }"}}
[debug] [2023-10-31T10:02:48.650Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProduct" in 5.218863ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finished \"us-central1-getProduct\" in 5.218863ms"}}
[debug] [2023-10-31T10:02:48.651Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: IDLE"}}
[debug] [2023-10-31T10:02:48.651Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T10:02:48.651Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T10:02:48.652Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Serving at port 8961

[debug] [2023-10-31T10:02:49.229Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T10:02:49.246Z] [worker-pool] Shutting down IDLE worker (us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getProduct)"}}
[debug] [2023-10-31T10:02:49.246Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: FINISHING"}}
[debug] [2023-10-31T10:02:49.254Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: exited"}}
[debug] [2023-10-31T10:02:49.255Z] [worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-55a7b098-b7b5-4b92-a89f-5227c0216953]: FINISHED"}}
[debug] [2023-10-31T10:02:58.758Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:02:58.758Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T10:02:58.759Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:02:58.758Z"],"workRunningCount":1}
[debug] [2023-10-31T10:02:58.759Z] Accepted request GET /coflow-v1/us-central1/getProduct?productId=8221764026601 --> us-central1-getProduct
[debug] [2023-10-31T10:02:58.761Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T10:02:58.762Z] [functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601"}}
[debug] [2023-10-31T10:02:58.762Z] [worker-pool] Cleaned up workers for us-central1-getProduct: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProduct: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T10:02:58.766Z] [worker-pool] addWorker(us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProduct)"}}
[debug] [2023-10-31T10:02:58.767Z] [worker-pool] Adding worker with key us-central1-getProduct, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProduct, total=1"}}
[debug] [2023-10-31T10:02:59.624Z] [runtime-status] [74275] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T10:02:59.625Z] [runtime-status] [74275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:02:59.625Z] [runtime-status] [74275] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T10:02:59.626Z] [runtime-status] [74275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:02:59.820Z] [runtime-status] [74275] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T10:02:59.820Z] [runtime-status] [74275] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T10:02:59.820Z] [runtime-status] [74275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:02:59.822Z] [runtime-status] [74275] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T10:02:59.823Z] [runtime-status] [74275] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:02:59.823Z] [runtime-status] [74275] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T10:02:59.826Z] [runtime-status] [74275] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T10:02:59.875Z] [runtime-status] [74275] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T10:02:59.875Z] [runtime-status] [74275] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_42127e38d78b6c89.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74275] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_42127e38d78b6c89.sock"}}
[debug] [2023-10-31T10:02:59.886Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: IDLE"}}
[debug] [2023-10-31T10:02:59.886Z] [worker-pool] submitRequest(triggerId=us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProduct)"}}
[info] i  functions: Beginning execution of "us-central1-getProduct" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Beginning execution of \"us-central1-getProduct\""}}
[debug] [2023-10-31T10:02:59.887Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: BUSY"}}
[info] >  { productId: '8221764026601' } {"user":"{ productId: '8221764026601' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"\u001b[90m> \u001b[39m { productId: '8221764026601' }"}}
[debug] [2023-10-31T10:02:59.896Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProduct" in 9.691681ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finished \"us-central1-getProduct\" in 9.691681ms"}}
[debug] [2023-10-31T10:02:59.897Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: IDLE"}}
[debug] [2023-10-31T10:02:59.897Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T10:02:59.897Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T10:02:59.897Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T10:04:36.756Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T10:04:37.757Z] Validating nodejs source
[debug] [2023-10-31T10:04:39.648Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T10:04:39.648Z] Building nodejs source
[debug] [2023-10-31T10:04:39.648Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T10:04:39.649Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T10:04:39.650Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8108

[debug] [2023-10-31T10:04:40.073Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[debug] [2023-10-31T10:04:40.084Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:04:40.084Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T10:04:40.085Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:04:40.084Z"],"workRunningCount":1}
[debug] [2023-10-31T10:04:40.085Z] Accepted request GET /coflow-v1/us-central1/getProduct?productId=8221764026601 --> us-central1-getProduct
[debug] [2023-10-31T10:04:40.087Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T10:04:40.088Z] [functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601"}}
[debug] [2023-10-31T10:04:40.088Z] [worker-pool] submitRequest(triggerId=us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProduct)"}}
[info] i  functions: Beginning execution of "us-central1-getProduct" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Beginning execution of \"us-central1-getProduct\""}}
[debug] [2023-10-31T10:04:40.088Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: BUSY"}}
[info] >  { productId: '8221764026601' } {"user":"{ productId: '8221764026601' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"\u001b[90m> \u001b[39m { productId: '8221764026601' }"}}
[debug] [2023-10-31T10:04:40.093Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProduct" in 4.862837ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finished \"us-central1-getProduct\" in 4.862837ms"}}
[debug] [2023-10-31T10:04:40.093Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: IDLE"}}
[debug] [2023-10-31T10:04:40.094Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T10:04:40.094Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T10:04:40.094Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T10:04:40.095Z] [worker-pool] Shutting down IDLE worker (us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getProduct)"}}
[debug] [2023-10-31T10:04:40.095Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: FINISHING"}}
[debug] [2023-10-31T10:04:40.105Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: exited"}}
[debug] [2023-10-31T10:04:40.106Z] [worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-af147c4b-89cb-463c-9eb1-1007b851fdd1]: FINISHED"}}
[debug] [2023-10-31T10:04:44.676Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:04:44.676Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T10:04:44.676Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getProduct-2023-10-31T10:04:44.676Z"],"workRunningCount":1}
[debug] [2023-10-31T10:04:44.676Z] Accepted request GET /coflow-v1/us-central1/getProduct?productId=8221764026601 --> us-central1-getProduct
[debug] [2023-10-31T10:04:44.678Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T10:04:44.678Z] [functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getProduct?productId=8221764026601, mapping to path=/?productId=8221764026601"}}
[debug] [2023-10-31T10:04:44.678Z] [worker-pool] Cleaned up workers for us-central1-getProduct: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProduct: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T10:04:44.682Z] [worker-pool] addWorker(us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getProduct)"}}
[debug] [2023-10-31T10:04:44.683Z] [worker-pool] Adding worker with key us-central1-getProduct, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getProduct, total=1"}}
[debug] [2023-10-31T10:04:45.578Z] [runtime-status] [74349] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T10:04:45.579Z] [runtime-status] [74349] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:04:45.580Z] [runtime-status] [74349] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T10:04:45.581Z] [runtime-status] [74349] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:04:45.762Z] [runtime-status] [74349] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T10:04:45.762Z] [runtime-status] [74349] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T10:04:45.762Z] [runtime-status] [74349] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:04:45.763Z] [runtime-status] [74349] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T10:04:45.765Z] [runtime-status] [74349] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T10:04:45.765Z] [runtime-status] [74349] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T10:04:45.767Z] [runtime-status] [74349] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T10:04:45.811Z] [runtime-status] [74349] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T10:04:45.812Z] [runtime-status] [74349] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b19dd229b73e30ca.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[runtime-status] [74349] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b19dd229b73e30ca.sock"}}
[debug] [2023-10-31T10:04:45.907Z] [worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: IDLE"}}
[debug] [2023-10-31T10:04:45.907Z] [worker-pool] submitRequest(triggerId=us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getProduct)"}}
[info] i  functions: Beginning execution of "us-central1-getProduct" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Beginning execution of \"us-central1-getProduct\""}}
[debug] [2023-10-31T10:04:45.907Z] [worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: BUSY"}}
[info] >  { productId: '8221764026601' } {"user":"{ productId: '8221764026601' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"\u001b[90m> \u001b[39m { productId: '8221764026601' }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products/8221764026601.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products/8221764026601.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products/8221764026601.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products/8221764026601.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-10-31T10:04:47.880Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getProduct" in 1973.071515ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finished \"us-central1-getProduct\" in 1973.071515ms"}}
[debug] [2023-10-31T10:04:47.881Z] [worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: IDLE"}}
[debug] [2023-10-31T10:04:47.881Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T10:04:47.881Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T10:04:47.881Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T10:06:29.080Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T10:06:30.081Z] Validating nodejs source
[debug] [2023-10-31T10:06:31.643Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T10:06:31.643Z] Building nodejs source
[debug] [2023-10-31T10:06:31.643Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T10:06:31.644Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T10:06:31.645Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8943

[debug] [2023-10-31T10:06:32.166Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T10:06:32.178Z] [worker-pool] Shutting down IDLE worker (us-central1-getProduct) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getProduct)"}}
[debug] [2023-10-31T10:06:32.178Z] [worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: FINISHING"}}
[debug] [2023-10-31T10:06:32.186Z] [worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: exited"}}
[debug] [2023-10-31T10:06:32.186Z] [worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getProduct"},"extension":{},"message":"[worker-us-central1-getProduct-1bc1954b-0879-487b-9da1-82c4d5bc6f88]: FINISHED"}}
[debug] [2023-10-31T11:10:21.020Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:10:22.020Z] Validating nodejs source
[debug] [2023-10-31T11:10:24.063Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:10:24.063Z] Building nodejs source
[debug] [2023-10-31T11:10:24.063Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:10:24.064Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:10:24.064Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8405

[debug] [2023-10-31T11:10:24.655Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:10:46.919Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:10:47.920Z] Validating nodejs source
[debug] [2023-10-31T11:10:49.504Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:10:49.505Z] Building nodejs source
[debug] [2023-10-31T11:10:49.505Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:10:49.506Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:10:49.506Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8693

[debug] [2023-10-31T11:10:49.932Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:10:51.801Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:10:52.803Z] Validating nodejs source
[debug] [2023-10-31T11:10:54.305Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:10:54.305Z] Building nodejs source
[debug] [2023-10-31T11:10:54.305Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:10:54.306Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:10:54.307Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8525

[debug] [2023-10-31T11:10:54.732Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:13:12.809Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:13:13.811Z] Validating nodejs source
[debug] [2023-10-31T11:13:15.277Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:13:15.277Z] Building nodejs source
[debug] [2023-10-31T11:13:15.277Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:13:15.278Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:13:15.279Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8486

[debug] [2023-10-31T11:13:15.763Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:14:31.225Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:14:32.227Z] Validating nodejs source
[debug] [2023-10-31T11:14:33.691Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:14:33.691Z] Building nodejs source
[debug] [2023-10-31T11:14:33.691Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:14:33.692Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:14:33.692Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8942

[debug] [2023-10-31T11:14:34.110Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:14:54.689Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:14:55.689Z] Validating nodejs source
[debug] [2023-10-31T11:14:57.145Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:14:57.146Z] Building nodejs source
[debug] [2023-10-31T11:14:57.146Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:14:57.147Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:14:57.147Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8100

[debug] [2023-10-31T11:14:57.572Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:19:41.591Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:19:42.591Z] Validating nodejs source
[debug] [2023-10-31T11:19:44.328Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:19:44.329Z] Building nodejs source
[debug] [2023-10-31T11:19:44.329Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:19:44.330Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:19:44.331Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8198

[debug] [2023-10-31T11:19:44.755Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:22:52.419Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:22:53.421Z] Validating nodejs source
[debug] [2023-10-31T11:22:54.944Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:22:54.944Z] Building nodejs source
[debug] [2023-10-31T11:22:54.945Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:22:54.945Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:22:54.946Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8860

[debug] [2023-10-31T11:22:55.423Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:23:09.648Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:23:10.650Z] Validating nodejs source
[debug] [2023-10-31T11:23:12.458Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:23:12.459Z] Building nodejs source
[debug] [2023-10-31T11:23:12.459Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:23:12.460Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:23:12.461Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8724

[debug] [2023-10-31T11:23:12.929Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:23:22.448Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:23:22.524Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:23:23.525Z] Validating nodejs source
[debug] [2023-10-31T11:23:26.263Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:23:26.264Z] Building nodejs source
[debug] [2023-10-31T11:23:26.264Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:23:26.265Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:23:26.265Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8635

[debug] [2023-10-31T11:23:26.715Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T11:25:20.925Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T11:25:21.925Z] Validating nodejs source
[debug] [2023-10-31T11:25:24.536Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T11:25:24.536Z] Building nodejs source
[debug] [2023-10-31T11:25:24.536Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T11:25:24.537Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T11:25:24.537Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8950

[debug] [2023-10-31T11:25:24.986Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T15:01:24.405Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:01:25.407Z] Validating nodejs source
[debug] [2023-10-31T15:01:27.563Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:01:27.564Z] Building nodejs source
[debug] [2023-10-31T15:01:27.564Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:01:27.565Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:01:27.566Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8356

[debug] [2023-10-31T15:01:27.997Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T15:01:49.456Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:01:50.458Z] Validating nodejs source
[debug] [2023-10-31T15:01:51.977Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:01:51.977Z] Building nodejs source
[debug] [2023-10-31T15:01:51.977Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:01:51.978Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:01:51.979Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8800

[debug] [2023-10-31T15:01:52.406Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T15:08:43.002Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:08:44.003Z] Validating nodejs source
[debug] [2023-10-31T15:08:46.171Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:08:46.172Z] Building nodejs source
[debug] [2023-10-31T15:08:46.172Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:08:46.173Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:08:46.174Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8829

[debug] [2023-10-31T15:08:46.858Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T15:09:13.366Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:09:14.367Z] Validating nodejs source
[debug] [2023-10-31T15:09:15.945Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:09:15.946Z] Building nodejs source
[debug] [2023-10-31T15:09:15.946Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:09:15.946Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:09:15.947Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8171

[debug] [2023-10-31T15:09:16.597Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, testShopifyAdminApi."}}
[debug] [2023-10-31T15:09:39.216Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:09:40.218Z] Validating nodejs source
[debug] [2023-10-31T15:09:41.817Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:09:41.817Z] Building nodejs source
[debug] [2023-10-31T15:09:41.817Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:09:41.818Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:09:41.819Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8677

[debug] [2023-10-31T15:09:42.275Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi."}}
[info] ✔  functions[us-central1-getCheckout]: http function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/getCheckout). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/getCheckout)."}}
[debug] [2023-10-31T15:10:16.044Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:10:16.044Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:10:16.044Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:10:16.044Z"],"workRunningCount":1}
[debug] [2023-10-31T15:10:16.045Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae --> us-central1-getCheckout
[debug] [2023-10-31T15:10:16.052Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:10:16.053Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae, mapping to path=/?checkoutId=a12c343c5728baaecca1bc1320bafaae {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae, mapping to path=/?checkoutId=a12c343c5728baaecca1bc1320bafaae"}}
[debug] [2023-10-31T15:10:16.053Z] [worker-pool] Cleaned up workers for us-central1-getProduct: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getProduct: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:10:16.060Z] [worker-pool] addWorker(us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getCheckout)"}}
[debug] [2023-10-31T15:10:16.061Z] [worker-pool] Adding worker with key us-central1-getCheckout, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getCheckout, total=1"}}
[debug] [2023-10-31T15:10:17.945Z] [runtime-status] [83977] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:10:17.946Z] [runtime-status] [83977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:10:17.946Z] [runtime-status] [83977] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T15:10:17.947Z] [runtime-status] [83977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:10:18.122Z] [runtime-status] [83977] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T15:10:18.122Z] [runtime-status] [83977] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T15:10:18.123Z] [runtime-status] [83977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:10:18.124Z] [runtime-status] [83977] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:10:18.126Z] [runtime-status] [83977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:10:18.127Z] [runtime-status] [83977] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T15:10:18.129Z] [runtime-status] [83977] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T15:10:18.183Z] [runtime-status] [83977] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T15:10:18.183Z] [runtime-status] [83977] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_9c6867731e976dd7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [83977] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_9c6867731e976dd7.sock"}}
[debug] [2023-10-31T15:10:18.193Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE"}}
[debug] [2023-10-31T15:10:18.193Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:10:18.193Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765019545, {"user":"    start: 1698765019545,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765019545,"}}
[info] >      socket: 1698765019545, {"user":"    socket: 1698765019545,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765019545,"}}
[info] >      lookup: 1698765019886, {"user":"    lookup: 1698765019886,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765019886,"}}
[info] >      connect: 1698765020106, {"user":"    connect: 1698765020106,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765020106,"}}
[info] >      secureConnect: 1698765020433, {"user":"    secureConnect: 1698765020433,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765020433,"}}
[info] >      upload: 1698765020433, {"user":"    upload: 1698765020433,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765020433,"}}
[info] >      response: 1698765020812, {"user":"    response: 1698765020812,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765020812,"}}
[info] >      end: 1698765020815, {"user":"    end: 1698765020815,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765020815,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 341, {"user":"      dns: 341,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 341,"}}
[info] >        tcp: 220, {"user":"      tcp: 220,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 220,"}}
[info] >        tls: 327, {"user":"      tls: 327,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 327,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 379, {"user":"      firstByte: 379,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 379,"}}
[info] >        download: 3, {"user":"      download: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 3,"}}
[info] >        total: 1270 {"user":"      total: 1270","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 1270"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:10:20.828Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 2634.479056ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 2634.479056ms"}}
[debug] [2023-10-31T15:10:20.828Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE"}}
[debug] [2023-10-31T15:10:20.828Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:10:20.828Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:10:20.828Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:15:48.267Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:15:48.267Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:15:48.267Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:15:48.267Z"],"workRunningCount":1}
[debug] [2023-10-31T15:15:48.267Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae --> us-central1-getCheckout
[debug] [2023-10-31T15:15:48.268Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:15:48.269Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae, mapping to path=/?checkoutId=a12c343c5728baaecca1bc1320bafaae {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae, mapping to path=/?checkoutId=a12c343c5728baaecca1bc1320bafaae"}}
[debug] [2023-10-31T15:15:48.269Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:15:48.269Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY"}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765349410, {"user":"    start: 1698765349410,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765349410,"}}
[info] >      socket: 1698765349410, {"user":"    socket: 1698765349410,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765349410,"}}
[info] >      lookup: 1698765349411, {"user":"    lookup: 1698765349411,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765349411,"}}
[info] >      connect: 1698765349629, {"user":"    connect: 1698765349629,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765349629,"}}
[info] >      secureConnect: 1698765349953, {"user":"    secureConnect: 1698765349953,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765349953,"}}
[info] >      upload: 1698765349953, {"user":"    upload: 1698765349953,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765349953,"}}
[info] >      response: 1698765350356, {"user":"    response: 1698765350356,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765350356,"}}
[info] >      end: 1698765350358, {"user":"    end: 1698765350358,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765350358,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 1, {"user":"      dns: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 1,"}}
[info] >        tcp: 218, {"user":"      tcp: 218,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 218,"}}
[info] >        tls: 324, {"user":"      tls: 324,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 324,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 403, {"user":"      firstByte: 403,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 403,"}}
[info] >        download: 2, {"user":"      download: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 2,"}}
[info] >        total: 948 {"user":"      total: 948","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 948"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:15:50.365Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 2095.815177ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 2095.815177ms"}}
[debug] [2023-10-31T15:15:50.365Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE"}}
[debug] [2023-10-31T15:15:50.365Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:15:50.365Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:15:50.366Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:16:56.546Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:16:56.546Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:16:56.547Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:16:56.546Z"],"workRunningCount":1}
[debug] [2023-10-31T15:16:56.547Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f --> us-central1-getCheckout
[debug] [2023-10-31T15:16:56.549Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:16:56.549Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f"}}
[debug] [2023-10-31T15:16:56.549Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:16:56.549Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765417469, {"user":"    start: 1698765417469,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765417469,"}}
[info] >      socket: 1698765417469, {"user":"    socket: 1698765417469,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765417469,"}}
[info] >      lookup: 1698765417470, {"user":"    lookup: 1698765417470,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765417470,"}}
[info] >      connect: 1698765417687, {"user":"    connect: 1698765417687,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765417687,"}}
[info] >      secureConnect: 1698765418014, {"user":"    secureConnect: 1698765418014,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765418014,"}}
[info] >      upload: 1698765418014, {"user":"    upload: 1698765418014,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765418014,"}}
[info] >      response: 1698765418401, {"user":"    response: 1698765418401,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765418401,"}}
[info] >      end: 1698765418402, {"user":"    end: 1698765418402,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765418402,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 1, {"user":"      dns: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 1,"}}
[info] >        tcp: 217, {"user":"      tcp: 217,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 217,"}}
[info] >        tls: 327, {"user":"      tls: 327,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 327,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 387, {"user":"      firstByte: 387,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 387,"}}
[info] >        download: 1, {"user":"      download: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 1,"}}
[info] >        total: 933 {"user":"      total: 933","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 933"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:16:58.409Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 1859.803931ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 1859.803931ms"}}
[debug] [2023-10-31T15:16:58.409Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE"}}
[debug] [2023-10-31T15:16:58.409Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:16:58.409Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:16:58.409Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:19:42.406Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:19:42.406Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:19:42.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:19:42.406Z"],"workRunningCount":1}
[debug] [2023-10-31T15:19:42.406Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f --> us-central1-getCheckout
[debug] [2023-10-31T15:19:42.407Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:19:42.408Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f"}}
[debug] [2023-10-31T15:19:42.408Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:19:42.408Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY"}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765583531, {"user":"    start: 1698765583531,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765583531,"}}
[info] >      socket: 1698765583531, {"user":"    socket: 1698765583531,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765583531,"}}
[info] >      lookup: 1698765583532, {"user":"    lookup: 1698765583532,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765583532,"}}
[info] >      connect: 1698765583749, {"user":"    connect: 1698765583749,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765583749,"}}
[info] >      secureConnect: 1698765584078, {"user":"    secureConnect: 1698765584078,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765584078,"}}
[info] >      upload: 1698765584078, {"user":"    upload: 1698765584078,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765584078,"}}
[info] >      response: 1698765584460, {"user":"    response: 1698765584460,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765584460,"}}
[info] >      end: 1698765584461, {"user":"    end: 1698765584461,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765584461,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 1, {"user":"      dns: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 1,"}}
[info] >        tcp: 217, {"user":"      tcp: 217,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 217,"}}
[info] >        tls: 329, {"user":"      tls: 329,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 329,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 382, {"user":"      firstByte: 382,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 382,"}}
[info] >        download: 1, {"user":"      download: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 1,"}}
[info] >        total: 930 {"user":"      total: 930","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 930"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:19:44.470Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 2063.037861ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 2063.037861ms"}}
[debug] [2023-10-31T15:19:44.470Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE"}}
[debug] [2023-10-31T15:19:44.470Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:19:44.470Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:19:44.470Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:19:48.015Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:19:48.015Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:19:48.015Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:19:48.015Z"],"workRunningCount":1}
[debug] [2023-10-31T15:19:48.015Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f --> us-central1-getCheckout
[debug] [2023-10-31T15:19:48.016Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:19:48.016Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f"}}
[debug] [2023-10-31T15:19:48.017Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:19:48.017Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY"}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765588930, {"user":"    start: 1698765588930,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765588930,"}}
[info] >      socket: 1698765588930, {"user":"    socket: 1698765588930,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765588930,"}}
[info] >      lookup: 1698765588931, {"user":"    lookup: 1698765588931,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765588931,"}}
[info] >      connect: 1698765589149, {"user":"    connect: 1698765589149,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765589149,"}}
[info] >      secureConnect: 1698765589474, {"user":"    secureConnect: 1698765589474,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765589474,"}}
[info] >      upload: 1698765589475, {"user":"    upload: 1698765589475,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765589475,"}}
[info] >      response: 1698765589842, {"user":"    response: 1698765589842,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765589842,"}}
[info] >      end: 1698765589842, {"user":"    end: 1698765589842,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765589842,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 1, {"user":"      dns: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 1,"}}
[info] >        tcp: 218, {"user":"      tcp: 218,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 218,"}}
[info] >        tls: 325, {"user":"      tls: 325,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 325,"}}
[info] >        request: 1, {"user":"      request: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 1,"}}
[info] >        firstByte: 367, {"user":"      firstByte: 367,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 367,"}}
[info] >        download: 0, {"user":"      download: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 0,"}}
[info] >        total: 912 {"user":"      total: 912","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 912"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:19:49.850Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 1833.888399ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 1833.888399ms"}}
[debug] [2023-10-31T15:19:49.850Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE"}}
[debug] [2023-10-31T15:19:49.850Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:19:49.850Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:19:49.850Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:21:01.249Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:21:02.250Z] Validating nodejs source
[debug] [2023-10-31T15:21:04.022Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:21:04.022Z] Building nodejs source
[debug] [2023-10-31T15:21:04.022Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:21:04.023Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:21:04.024Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-10-31T15:21:04.203Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:21:04.203Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:21:04.204Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:21:04.203Z"],"workRunningCount":1}
[debug] [2023-10-31T15:21:04.205Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f --> us-central1-getCheckout
[debug] [2023-10-31T15:21:04.208Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:21:04.208Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f"}}
[debug] [2023-10-31T15:21:04.208Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:21:04.209Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: BUSY"}}
[info] Serving at port 8708

[debug] [2023-10-31T15:21:04.596Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:21:04.612Z] [worker-pool] Marking BUSY worker to finish (us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-getCheckout)"}}
[debug] [2023-10-31T15:21:04.612Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: FINISHING"}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765665364, {"user":"    start: 1698765665364,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765665364,"}}
[info] >      socket: 1698765665364, {"user":"    socket: 1698765665364,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765665364,"}}
[info] >      lookup: 1698765665364, {"user":"    lookup: 1698765665364,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765665364,"}}
[info] >      connect: 1698765665582, {"user":"    connect: 1698765665582,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765665582,"}}
[info] >      secureConnect: 1698765665906, {"user":"    secureConnect: 1698765665906,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765665906,"}}
[info] >      upload: 1698765665906, {"user":"    upload: 1698765665906,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765665906,"}}
[info] >      response: 1698765666284, {"user":"    response: 1698765666284,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765666284,"}}
[info] >      end: 1698765666285, {"user":"    end: 1698765666285,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765666285,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 0, {"user":"      dns: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 0,"}}
[info] >        tcp: 218, {"user":"      tcp: 218,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 218,"}}
[info] >        tls: 324, {"user":"      tls: 324,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 324,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 378, {"user":"      firstByte: 378,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 378,"}}
[info] >        download: 1, {"user":"      download: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 1,"}}
[info] >        total: 921 {"user":"      total: 921","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 921"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:21:06.293Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 2084.00522ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 2084.00522ms"}}
[debug] [2023-10-31T15:21:06.293Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: IDLE --> FINISHING"}}
[debug] [2023-10-31T15:21:06.293Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:21:06.293Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:21:06.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:21:06.303Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: exited"}}
[debug] [2023-10-31T15:21:06.303Z] [worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-039ed563-d56c-4529-835c-e25c427e149e]: FINISHED"}}
[debug] [2023-10-31T15:21:46.976Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:21:47.673Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:21:48.672Z] Validating nodejs source
[debug] [2023-10-31T15:21:55.557Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:21:55.557Z] Building nodejs source
[debug] [2023-10-31T15:21:55.557Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:21:55.558Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:21:55.559Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8926

[debug] [2023-10-31T15:21:55.991Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:21:58.994Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:21:58.994Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:21:58.994Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:21:58.994Z"],"workRunningCount":1}
[debug] [2023-10-31T15:21:58.994Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f --> us-central1-getCheckout
[debug] [2023-10-31T15:21:58.996Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:21:58.996Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a17d2998814d05b474f509b9e47d967f, mapping to path=/?checkoutId=a17d2998814d05b474f509b9e47d967f"}}
[debug] [2023-10-31T15:21:58.996Z] [worker-pool] Cleaned up workers for us-central1-getCheckout: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getCheckout: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:21:59.003Z] [worker-pool] addWorker(us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-getCheckout)"}}
[debug] [2023-10-31T15:21:59.003Z] [worker-pool] Adding worker with key us-central1-getCheckout, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-getCheckout, total=1"}}
[debug] [2023-10-31T15:21:59.917Z] [runtime-status] [84363] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:21:59.918Z] [runtime-status] [84363] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:21:59.919Z] [runtime-status] [84363] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T15:21:59.920Z] [runtime-status] [84363] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:22:00.107Z] [runtime-status] [84363] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T15:22:00.108Z] [runtime-status] [84363] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T15:22:00.108Z] [runtime-status] [84363] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:22:00.109Z] [runtime-status] [84363] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:22:00.111Z] [runtime-status] [84363] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:22:00.111Z] [runtime-status] [84363] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T15:22:00.113Z] [runtime-status] [84363] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T15:22:00.158Z] [runtime-status] [84363] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T15:22:00.159Z] [runtime-status] [84363] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a7847af3431c796b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[runtime-status] [84363] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a7847af3431c796b.sock"}}
[debug] [2023-10-31T15:22:00.226Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: IDLE"}}
[debug] [2023-10-31T15:22:00.226Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:22:00.227Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: BUSY"}}
[info] >  ===== checkoutId:  a17d2998814d05b474f509b9e47d967f {"user":"===== checkoutId:  a17d2998814d05b474f509b9e47d967f","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== checkoutId:  a17d2998814d05b474f509b9e47d967f"}}
[info] >  ===== url:  https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json {"user":"===== url:  https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== url:  https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a17d2998814d05b474f509b9e47d967f.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765722172, {"user":"    start: 1698765722172,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765722172,"}}
[info] >      socket: 1698765722172, {"user":"    socket: 1698765722172,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765722172,"}}
[info] >      lookup: 1698765722174, {"user":"    lookup: 1698765722174,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765722174,"}}
[info] >      connect: 1698765724495, {"user":"    connect: 1698765724495,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765724495,"}}
[info] >      secureConnect: 1698765724923, {"user":"    secureConnect: 1698765724923,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765724923,"}}
[info] >      upload: 1698765724923, {"user":"    upload: 1698765724923,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765724923,"}}
[info] >      response: 1698765733247, {"user":"    response: 1698765733247,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765733247,"}}
[info] >      end: 1698765733250, {"user":"    end: 1698765733250,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765733250,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 2, {"user":"      dns: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 2,"}}
[info] >        tcp: 2321, {"user":"      tcp: 2321,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 2321,"}}
[info] >        tls: 428, {"user":"      tls: 428,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 428,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 8324, {"user":"      firstByte: 8324,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 8324,"}}
[info] >        download: 3, {"user":"      download: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 3,"}}
[info] >        total: 11078 {"user":"      total: 11078","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 11078"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:22:13.259Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 13032.680817ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 13032.680817ms"}}
[debug] [2023-10-31T15:22:13.260Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: IDLE"}}
[debug] [2023-10-31T15:22:13.260Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:22:13.260Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:22:13.260Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:23:07.355Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:23:07.355Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:23:07.355Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/getCheckout-2023-10-31T15:23:07.355Z"],"workRunningCount":1}
[debug] [2023-10-31T15:23:07.355Z] Accepted request GET /coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae --> us-central1-getCheckout
[debug] [2023-10-31T15:23:07.358Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:23:07.358Z] [functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae, mapping to path=/?checkoutId=a12c343c5728baaecca1bc1320bafaae {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/getCheckout?checkoutId=a12c343c5728baaecca1bc1320bafaae, mapping to path=/?checkoutId=a12c343c5728baaecca1bc1320bafaae"}}
[debug] [2023-10-31T15:23:07.358Z] [worker-pool] submitRequest(triggerId=us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-getCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-getCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-getCheckout\""}}
[debug] [2023-10-31T15:23:07.358Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: BUSY"}}
[info] >  ===== checkoutId:  a12c343c5728baaecca1bc1320bafaae {"user":"===== checkoutId:  a12c343c5728baaecca1bc1320bafaae","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== checkoutId:  a12c343c5728baaecca1bc1320bafaae"}}
[info] >  ===== url:  https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json {"user":"===== url:  https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== url:  https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts/a12c343c5728baaecca1bc1320bafaae.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== getCheckout error:  HTTPError: Response code 403 (Forbidden) {"user":"===== getCheckout error:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getCheckout error:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698765789604, {"user":"    start: 1698765789604,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698765789604,"}}
[info] >      socket: 1698765789604, {"user":"    socket: 1698765789604,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698765789604,"}}
[info] >      lookup: 1698765789605, {"user":"    lookup: 1698765789605,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698765789605,"}}
[info] >      connect: 1698765789823, {"user":"    connect: 1698765789823,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698765789823,"}}
[info] >      secureConnect: 1698765790151, {"user":"    secureConnect: 1698765790151,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698765790151,"}}
[info] >      upload: 1698765790151, {"user":"    upload: 1698765790151,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698765790151,"}}
[info] >      response: 1698765790527, {"user":"    response: 1698765790527,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698765790527,"}}
[info] >      end: 1698765790528, {"user":"    end: 1698765790528,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698765790528,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 1, {"user":"      dns: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 1,"}}
[info] >        tcp: 218, {"user":"      tcp: 218,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 218,"}}
[info] >        tls: 328, {"user":"      tls: 328,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 328,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 376, {"user":"      firstByte: 376,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 376,"}}
[info] >        download: 1, {"user":"      download: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 1,"}}
[info] >        total: 924 {"user":"      total: 924","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 924"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:23:10.537Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-getCheckout" in 3178.81418ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finished \"us-central1-getCheckout\" in 3178.81418ms"}}
[debug] [2023-10-31T15:23:10.537Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: IDLE"}}
[debug] [2023-10-31T15:23:10.537Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:23:10.537Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:23:10.537Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:30:04.592Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:30:05.594Z] Validating nodejs source
[debug] [2023-10-31T15:30:07.490Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:30:07.490Z] Building nodejs source
[debug] [2023-10-31T15:30:07.490Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:30:07.491Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:30:07.492Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8591

[debug] [2023-10-31T15:30:07.997Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:30:08.012Z] [worker-pool] Shutting down IDLE worker (us-central1-getCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-getCheckout)"}}
[debug] [2023-10-31T15:30:08.012Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: FINISHING"}}
[debug] [2023-10-31T15:30:08.027Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: exited"}}
[debug] [2023-10-31T15:30:08.028Z] [worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-getCheckout"},"extension":{},"message":"[worker-us-central1-getCheckout-e639b2b4-211d-4022-a6ba-994ff4f7ce9e]: FINISHED"}}
[debug] [2023-10-31T15:30:26.382Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:30:27.384Z] Validating nodejs source
[debug] [2023-10-31T15:30:28.966Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:30:28.966Z] Building nodejs source
[debug] [2023-10-31T15:30:28.966Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:30:28.968Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:30:28.969Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8854

[debug] [2023-10-31T15:30:29.430Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:32:45.171Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:32:46.172Z] Validating nodejs source
[debug] [2023-10-31T15:32:50.754Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:32:50.754Z] Building nodejs source
[debug] [2023-10-31T15:32:50.754Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:32:50.755Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:32:50.755Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8823

[debug] [2023-10-31T15:32:51.182Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[info] ✔  functions[us-central1-createCheckout]: http function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/createCheckout). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/createCheckout)."}}
[debug] [2023-10-31T15:52:32.833Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:52:33.834Z] Validating nodejs source
[debug] [2023-10-31T15:52:36.211Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:52:36.212Z] Building nodejs source
[debug] [2023-10-31T15:52:36.212Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:52:36.213Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:52:36.214Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8968

[debug] [2023-10-31T15:52:36.906Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:55:23.750Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:55:24.752Z] Validating nodejs source
[debug] [2023-10-31T15:55:26.562Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:55:26.563Z] Building nodejs source
[debug] [2023-10-31T15:55:26.563Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:55:26.564Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:55:26.565Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8301

[debug] [2023-10-31T15:55:27.019Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:56:13.225Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:56:14.226Z] Validating nodejs source
[debug] [2023-10-31T15:56:16.283Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:56:16.283Z] Building nodejs source
[debug] [2023-10-31T15:56:16.284Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:56:16.285Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:56:16.285Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:56:16.286Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8170

[debug] [2023-10-31T15:56:16.740Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:56:17.286Z] Validating nodejs source
[debug] [2023-10-31T15:56:19.246Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:56:19.246Z] Building nodejs source
[debug] [2023-10-31T15:56:19.246Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:56:19.247Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:56:19.248Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8195

[debug] [2023-10-31T15:56:19.756Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:58:06.804Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:06.804Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:58:06.804Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:06.804Z"],"workRunningCount":1}
[debug] [2023-10-31T15:58:06.804Z] Accepted request OPTIONS /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T15:58:06.809Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:58:06.809Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T15:58:06.810Z] [worker-pool] Cleaned up workers for us-central1-getCheckout: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-getCheckout: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:58:06.816Z] [worker-pool] addWorker(us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createCheckout)"}}
[debug] [2023-10-31T15:58:06.816Z] [worker-pool] Adding worker with key us-central1-createCheckout, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createCheckout, total=1"}}
[debug] [2023-10-31T15:58:08.775Z] [runtime-status] [85717] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:58:08.777Z] [runtime-status] [85717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:58:08.778Z] [runtime-status] [85717] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T15:58:08.779Z] [runtime-status] [85717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:58:09.137Z] [runtime-status] [85717] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T15:58:09.138Z] [runtime-status] [85717] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T15:58:09.138Z] [runtime-status] [85717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:58:09.139Z] [runtime-status] [85717] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:58:09.143Z] [runtime-status] [85717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:58:09.143Z] [runtime-status] [85717] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T15:58:09.148Z] [runtime-status] [85717] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T15:58:09.237Z] [runtime-status] [85717] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T15:58:09.238Z] [runtime-status] [85717] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_0a71e1d65297c005.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_0a71e1d65297c005.sock"}}
[debug] [2023-10-31T15:58:09.246Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE"}}
[debug] [2023-10-31T15:58:09.247Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T15:58:09.247Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY"}}
[debug] [2023-10-31T15:58:09.252Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 4.861249ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 4.861249ms"}}
[debug] [2023-10-31T15:58:09.252Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE"}}
[debug] [2023-10-31T15:58:09.252Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:58:09.252Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:58:09.252Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:58:09.254Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:09.254Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:58:09.254Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:09.254Z"],"workRunningCount":1}
[debug] [2023-10-31T15:58:09.254Z] Accepted request POST /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T15:58:09.254Z] ID Token: eyJhbGciOiJSUzI1NiIsImtpZCI6IjBkMGU4NmJkNjQ3NDBjYWQyNDc1NjI4ZGEyZWM0OTZkZjUyYWRiNWQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY29mbG93LXYxIiwiYXVkIjoiY29mbG93LXYxIiwiYXV0aF90aW1lIjoxNjk4NDAxMjg3LCJ1c2VyX2lkIjoiYkN6ckRhNVdhTWEyYklkelhwZjhwYnZsSTlwMiIsInN1YiI6ImJDenJEYTVXYU1hMmJJZHpYcGY4cGJ2bEk5cDIiLCJpYXQiOjE2OTg3Njc4MjIsImV4cCI6MTY5ODc3MTQyMiwiZW1haWwiOiJ0ZXN0QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJ0ZXN0QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.g6JkZGBWqPDrhQgf_d6y6ZAVYMqOoD_Cex0snQuAt5YbmGtMlu-FydbCPBJEjQ_QeKFZQg6ztg3A7tBaCESxXyjeHl0dVuF_j51juj4Xzo0GdQhRQatF-dotEJO8bQs7JgdU01kdxJK_bbpk29FT3M4xHAYNtHNYs-PsAtCOclXb5-qojz4I_docnw-NpKgw2SEu_sSOI7GTXJAaOm-Y_JWj2UfWqr2WwvkEtRUsH6vW1MaZo0joBRsKLDoOQB3Dw9U0eVnzpAVyISdxs3GEw1nnGmGg3P-H1MM62FtUiiYVVe16eliGjtVucxIsgNd3kw5RSTXN3g5psnvzS10Q2Q
[debug] [2023-10-31T15:58:09.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:58:09.256Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T15:58:09.257Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T15:58:09.257Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY"}}
[info] >  {"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"} {"user":{"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"key\":\"x-callable-context-auth\",\"value\":\"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D\",\"severity\":\"DEBUG\",\"message\":\"Callable functions auth override\"}"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  ===== createCheckout ===== {"user":"===== createCheckout =====","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== createCheckout ====="}}
[debug] [2023-10-31T15:58:09.283Z] [runtime-status] [85717] No callable functions auth found {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] No callable functions auth found"}}
[debug] [2023-10-31T15:58:09.286Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 29.909357ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 29.909357ms"}}
[debug] [2023-10-31T15:58:09.287Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE"}}
[debug] [2023-10-31T15:58:09.287Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:58:09.287Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:58:09.287Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:58:33.600Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:33.600Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:58:33.600Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:33.600Z"],"workRunningCount":1}
[debug] [2023-10-31T15:58:33.600Z] Accepted request OPTIONS /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T15:58:33.602Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:58:33.603Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T15:58:33.603Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T15:58:33.603Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY"}}
[debug] [2023-10-31T15:58:33.606Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 3.062695ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 3.062695ms"}}
[debug] [2023-10-31T15:58:33.606Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE"}}
[debug] [2023-10-31T15:58:33.606Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:58:33.607Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:58:33.607Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:58:33.609Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:33.609Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:58:33.609Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:58:33.609Z"],"workRunningCount":1}
[debug] [2023-10-31T15:58:33.609Z] Accepted request POST /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T15:58:33.609Z] ID Token: eyJhbGciOiJSUzI1NiIsImtpZCI6IjBkMGU4NmJkNjQ3NDBjYWQyNDc1NjI4ZGEyZWM0OTZkZjUyYWRiNWQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY29mbG93LXYxIiwiYXVkIjoiY29mbG93LXYxIiwiYXV0aF90aW1lIjoxNjk4NDAxMjg3LCJ1c2VyX2lkIjoiYkN6ckRhNVdhTWEyYklkelhwZjhwYnZsSTlwMiIsInN1YiI6ImJDenJEYTVXYU1hMmJJZHpYcGY4cGJ2bEk5cDIiLCJpYXQiOjE2OTg3Njc4MjIsImV4cCI6MTY5ODc3MTQyMiwiZW1haWwiOiJ0ZXN0QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJ0ZXN0QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.g6JkZGBWqPDrhQgf_d6y6ZAVYMqOoD_Cex0snQuAt5YbmGtMlu-FydbCPBJEjQ_QeKFZQg6ztg3A7tBaCESxXyjeHl0dVuF_j51juj4Xzo0GdQhRQatF-dotEJO8bQs7JgdU01kdxJK_bbpk29FT3M4xHAYNtHNYs-PsAtCOclXb5-qojz4I_docnw-NpKgw2SEu_sSOI7GTXJAaOm-Y_JWj2UfWqr2WwvkEtRUsH6vW1MaZo0joBRsKLDoOQB3Dw9U0eVnzpAVyISdxs3GEw1nnGmGg3P-H1MM62FtUiiYVVe16eliGjtVucxIsgNd3kw5RSTXN3g5psnvzS10Q2Q
[debug] [2023-10-31T15:58:33.611Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:58:33.612Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T15:58:33.612Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T15:58:33.612Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: BUSY"}}
[info] >  {"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"} {"user":{"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"key\":\"x-callable-context-auth\",\"value\":\"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D\",\"severity\":\"DEBUG\",\"message\":\"Callable functions auth override\"}"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  ===== createCheckout ===== {"user":"===== createCheckout =====","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== createCheckout ====="}}
[debug] [2023-10-31T15:58:33.615Z] [runtime-status] [85717] No callable functions auth found {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85717] No callable functions auth found"}}
[debug] [2023-10-31T15:58:33.616Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 4.21305ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 4.21305ms"}}
[debug] [2023-10-31T15:58:33.616Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: IDLE"}}
[debug] [2023-10-31T15:58:33.616Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:58:33.617Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:58:33.617Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:59:04.550Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T15:59:05.552Z] Validating nodejs source
[debug] [2023-10-31T15:59:09.571Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T15:59:09.571Z] Building nodejs source
[debug] [2023-10-31T15:59:09.572Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:59:09.574Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T15:59:09.576Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8939

[debug] [2023-10-31T15:59:10.373Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T15:59:10.388Z] [worker-pool] Shutting down IDLE worker (us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createCheckout)"}}
[debug] [2023-10-31T15:59:10.388Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: FINISHING"}}
[debug] [2023-10-31T15:59:10.398Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: exited"}}
[debug] [2023-10-31T15:59:10.398Z] [worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-9881411c-cd31-4bad-8d01-542e2d29d33c]: FINISHED"}}
[debug] [2023-10-31T15:59:37.098Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:59:37.098Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:59:37.098Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:59:37.098Z"],"workRunningCount":1}
[debug] [2023-10-31T15:59:37.098Z] Accepted request OPTIONS /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T15:59:37.101Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:59:37.101Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T15:59:37.101Z] [worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T15:59:37.105Z] [worker-pool] addWorker(us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createCheckout)"}}
[debug] [2023-10-31T15:59:37.106Z] [worker-pool] Adding worker with key us-central1-createCheckout, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createCheckout, total=1"}}
[debug] [2023-10-31T15:59:38.953Z] [runtime-status] [85777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:59:38.954Z] [runtime-status] [85777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:59:38.954Z] [runtime-status] [85777] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T15:59:38.955Z] [runtime-status] [85777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:59:39.131Z] [runtime-status] [85777] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T15:59:39.131Z] [runtime-status] [85777] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T15:59:39.132Z] [runtime-status] [85777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:59:39.133Z] [runtime-status] [85777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T15:59:39.135Z] [runtime-status] [85777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T15:59:39.135Z] [runtime-status] [85777] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T15:59:39.137Z] [runtime-status] [85777] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T15:59:39.187Z] [runtime-status] [85777] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T15:59:39.188Z] [runtime-status] [85777] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_d35c4847d01fb406.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_d35c4847d01fb406.sock"}}
[debug] [2023-10-31T15:59:39.239Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: IDLE"}}
[debug] [2023-10-31T15:59:39.239Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T15:59:39.240Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: BUSY"}}
[debug] [2023-10-31T15:59:39.246Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 5.844723ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 5.844723ms"}}
[debug] [2023-10-31T15:59:39.246Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: IDLE"}}
[debug] [2023-10-31T15:59:39.246Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:59:39.246Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:59:39.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:59:39.248Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:59:39.248Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T15:59:39.248Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T15:59:39.248Z"],"workRunningCount":1}
[debug] [2023-10-31T15:59:39.248Z] Accepted request POST /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T15:59:39.248Z] ID Token: eyJhbGciOiJSUzI1NiIsImtpZCI6IjBkMGU4NmJkNjQ3NDBjYWQyNDc1NjI4ZGEyZWM0OTZkZjUyYWRiNWQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY29mbG93LXYxIiwiYXVkIjoiY29mbG93LXYxIiwiYXV0aF90aW1lIjoxNjk4NDAxMjg3LCJ1c2VyX2lkIjoiYkN6ckRhNVdhTWEyYklkelhwZjhwYnZsSTlwMiIsInN1YiI6ImJDenJEYTVXYU1hMmJJZHpYcGY4cGJ2bEk5cDIiLCJpYXQiOjE2OTg3Njc4MjIsImV4cCI6MTY5ODc3MTQyMiwiZW1haWwiOiJ0ZXN0QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJ0ZXN0QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.g6JkZGBWqPDrhQgf_d6y6ZAVYMqOoD_Cex0snQuAt5YbmGtMlu-FydbCPBJEjQ_QeKFZQg6ztg3A7tBaCESxXyjeHl0dVuF_j51juj4Xzo0GdQhRQatF-dotEJO8bQs7JgdU01kdxJK_bbpk29FT3M4xHAYNtHNYs-PsAtCOclXb5-qojz4I_docnw-NpKgw2SEu_sSOI7GTXJAaOm-Y_JWj2UfWqr2WwvkEtRUsH6vW1MaZo0joBRsKLDoOQB3Dw9U0eVnzpAVyISdxs3GEw1nnGmGg3P-H1MM62FtUiiYVVe16eliGjtVucxIsgNd3kw5RSTXN3g5psnvzS10Q2Q
[debug] [2023-10-31T15:59:39.250Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T15:59:39.250Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T15:59:39.250Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T15:59:39.251Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: BUSY"}}
[info] >  {"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"} {"user":{"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"key\":\"x-callable-context-auth\",\"value\":\"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D\",\"severity\":\"DEBUG\",\"message\":\"Callable functions auth override\"}"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-10-31T15:59:39.275Z] [runtime-status] [85777] No callable functions auth found {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85777] No callable functions auth found"}}
[info] >  ===== createCheckout:  { {"user":"===== createCheckout:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== createCheckout:  {"}}
[info] >    user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    email: '', {"user":"  email: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: '',"}}
[info] >    lineItems: { {"user":"  lineItems: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   lineItems: {"}}
[info] >      variantId: 'gid://shopify/ProductVariant/45876651884777', {"user":"    variantId: 'gid://shopify/ProductVariant/45876651884777',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     variantId: 'gid://shopify/ProductVariant/45876651884777',"}}
[info] >      quantity: 1 {"user":"    quantity: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     quantity: 1"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T15:59:39.282Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 31.487114ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 31.487114ms"}}
[debug] [2023-10-31T15:59:39.283Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: IDLE"}}
[debug] [2023-10-31T15:59:39.283Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T15:59:39.283Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T15:59:39.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:04:34.869Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:04:34.946Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:04:35.947Z] Validating nodejs source
[debug] [2023-10-31T16:04:38.623Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:04:38.623Z] Building nodejs source
[debug] [2023-10-31T16:04:38.623Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:04:38.625Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:04:38.626Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8948

[debug] [2023-10-31T16:04:39.408Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:04:39.422Z] [worker-pool] Shutting down IDLE worker (us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createCheckout)"}}
[debug] [2023-10-31T16:04:39.422Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: FINISHING"}}
[debug] [2023-10-31T16:04:39.432Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: exited"}}
[debug] [2023-10-31T16:04:39.432Z] [worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-c9082ffb-d0e5-433b-9a02-c7fcd7b442f9]: FINISHED"}}
[debug] [2023-10-31T16:04:44.193Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:04:44.192Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:04:44.193Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:04:44.192Z"],"workRunningCount":1}
[debug] [2023-10-31T16:04:44.193Z] Accepted request OPTIONS /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T16:04:44.196Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T16:04:44.196Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T16:04:44.196Z] [worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:04:44.199Z] [worker-pool] addWorker(us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createCheckout)"}}
[debug] [2023-10-31T16:04:44.199Z] [worker-pool] Adding worker with key us-central1-createCheckout, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createCheckout, total=1"}}
[debug] [2023-10-31T16:04:46.261Z] [runtime-status] [85989] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T16:04:46.262Z] [runtime-status] [85989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:04:46.263Z] [runtime-status] [85989] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T16:04:46.264Z] [runtime-status] [85989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:04:46.437Z] [runtime-status] [85989] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T16:04:46.437Z] [runtime-status] [85989] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T16:04:46.438Z] [runtime-status] [85989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:04:46.439Z] [runtime-status] [85989] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T16:04:46.441Z] [runtime-status] [85989] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:04:46.441Z] [runtime-status] [85989] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T16:04:46.444Z] [runtime-status] [85989] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T16:04:46.501Z] [runtime-status] [85989] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T16:04:46.502Z] [runtime-status] [85989] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a0dcf641e20baf01.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a0dcf641e20baf01.sock"}}
[debug] [2023-10-31T16:04:46.533Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: IDLE"}}
[debug] [2023-10-31T16:04:46.533Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T16:04:46.533Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: BUSY"}}
[debug] [2023-10-31T16:04:46.540Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 6.427813ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 6.427813ms"}}
[debug] [2023-10-31T16:04:46.540Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: IDLE"}}
[debug] [2023-10-31T16:04:46.540Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T16:04:46.540Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T16:04:46.540Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:04:46.542Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:04:46.542Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:04:46.542Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:04:46.542Z"],"workRunningCount":1}
[debug] [2023-10-31T16:04:46.542Z] Accepted request POST /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T16:04:46.542Z] ID Token: eyJhbGciOiJSUzI1NiIsImtpZCI6IjBkMGU4NmJkNjQ3NDBjYWQyNDc1NjI4ZGEyZWM0OTZkZjUyYWRiNWQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY29mbG93LXYxIiwiYXVkIjoiY29mbG93LXYxIiwiYXV0aF90aW1lIjoxNjk4NDAxMjg3LCJ1c2VyX2lkIjoiYkN6ckRhNVdhTWEyYklkelhwZjhwYnZsSTlwMiIsInN1YiI6ImJDenJEYTVXYU1hMmJJZHpYcGY4cGJ2bEk5cDIiLCJpYXQiOjE2OTg3Njc4MjIsImV4cCI6MTY5ODc3MTQyMiwiZW1haWwiOiJ0ZXN0QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJ0ZXN0QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.g6JkZGBWqPDrhQgf_d6y6ZAVYMqOoD_Cex0snQuAt5YbmGtMlu-FydbCPBJEjQ_QeKFZQg6ztg3A7tBaCESxXyjeHl0dVuF_j51juj4Xzo0GdQhRQatF-dotEJO8bQs7JgdU01kdxJK_bbpk29FT3M4xHAYNtHNYs-PsAtCOclXb5-qojz4I_docnw-NpKgw2SEu_sSOI7GTXJAaOm-Y_JWj2UfWqr2WwvkEtRUsH6vW1MaZo0joBRsKLDoOQB3Dw9U0eVnzpAVyISdxs3GEw1nnGmGg3P-H1MM62FtUiiYVVe16eliGjtVucxIsgNd3kw5RSTXN3g5psnvzS10Q2Q
[debug] [2023-10-31T16:04:46.544Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T16:04:46.545Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T16:04:46.545Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T16:04:46.545Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: BUSY"}}
[info] >  {"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"} {"user":{"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"key\":\"x-callable-context-auth\",\"value\":\"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D\",\"severity\":\"DEBUG\",\"message\":\"Callable functions auth override\"}"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-10-31T16:04:46.566Z] [runtime-status] [85989] No callable functions auth found {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [85989] No callable functions auth found"}}
[info] >  ===== checkout:  { {"user":"===== checkout:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== checkout:  {"}}
[info] >    user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    lineItems: { {"user":"  lineItems: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   lineItems: {"}}
[info] >      variantId: 'gid://shopify/ProductVariant/45876651884777', {"user":"    variantId: 'gid://shopify/ProductVariant/45876651884777',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     variantId: 'gid://shopify/ProductVariant/45876651884777',"}}
[info] >      quantity: 1 {"user":"    quantity: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     quantity: 1"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T16:04:46.575Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 30.000435ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 30.000435ms"}}
[debug] [2023-10-31T16:04:46.575Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: IDLE"}}
[debug] [2023-10-31T16:04:46.575Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T16:04:46.576Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T16:04:46.576Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:07:46.758Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:07:47.760Z] Validating nodejs source
[debug] [2023-10-31T16:07:49.545Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:07:49.546Z] Building nodejs source
[debug] [2023-10-31T16:07:49.546Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:07:49.547Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:07:49.548Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8181

[debug] [2023-10-31T16:07:50.038Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:07:50.052Z] [worker-pool] Shutting down IDLE worker (us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createCheckout)"}}
[debug] [2023-10-31T16:07:50.052Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: FINISHING"}}
[debug] [2023-10-31T16:07:50.061Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: exited"}}
[debug] [2023-10-31T16:07:50.061Z] [worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-5f601eec-4acc-49ff-87ab-8af8540925c3]: FINISHED"}}
[debug] [2023-10-31T16:08:45.804Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:08:45.804Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:08:45.805Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:08:45.804Z"],"workRunningCount":1}
[debug] [2023-10-31T16:08:45.805Z] Accepted request OPTIONS /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T16:08:45.806Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T16:08:45.807Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T16:08:45.807Z] [worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:08:45.812Z] [worker-pool] addWorker(us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createCheckout)"}}
[debug] [2023-10-31T16:08:45.812Z] [worker-pool] Adding worker with key us-central1-createCheckout, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createCheckout, total=1"}}
[debug] [2023-10-31T16:08:46.683Z] [runtime-status] [86140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T16:08:46.685Z] [runtime-status] [86140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:08:46.686Z] [runtime-status] [86140] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T16:08:46.688Z] [runtime-status] [86140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:08:46.912Z] [runtime-status] [86140] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T16:08:46.912Z] [runtime-status] [86140] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T16:08:46.912Z] [runtime-status] [86140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:08:46.913Z] [runtime-status] [86140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T16:08:46.915Z] [runtime-status] [86140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:08:46.916Z] [runtime-status] [86140] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T16:08:46.917Z] [runtime-status] [86140] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T16:08:46.970Z] [runtime-status] [86140] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T16:08:46.970Z] [runtime-status] [86140] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_6756f05e43632588.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_6756f05e43632588.sock"}}
[debug] [2023-10-31T16:08:47.038Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: IDLE"}}
[debug] [2023-10-31T16:08:47.038Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T16:08:47.039Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: BUSY"}}
[debug] [2023-10-31T16:08:47.043Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 4.723764ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 4.723764ms"}}
[debug] [2023-10-31T16:08:47.043Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: IDLE"}}
[debug] [2023-10-31T16:08:47.044Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T16:08:47.044Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T16:08:47.044Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:08:47.045Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:08:47.045Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:08:47.045Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/createCheckout-2023-10-31T16:08:47.045Z"],"workRunningCount":1}
[debug] [2023-10-31T16:08:47.045Z] Accepted request POST /coflow-v1/us-central1/createCheckout --> us-central1-createCheckout
[debug] [2023-10-31T16:08:47.045Z] ID Token: eyJhbGciOiJSUzI1NiIsImtpZCI6IjBkMGU4NmJkNjQ3NDBjYWQyNDc1NjI4ZGEyZWM0OTZkZjUyYWRiNWQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY29mbG93LXYxIiwiYXVkIjoiY29mbG93LXYxIiwiYXV0aF90aW1lIjoxNjk4NDAxMjg3LCJ1c2VyX2lkIjoiYkN6ckRhNVdhTWEyYklkelhwZjhwYnZsSTlwMiIsInN1YiI6ImJDenJEYTVXYU1hMmJJZHpYcGY4cGJ2bEk5cDIiLCJpYXQiOjE2OTg3Njc4MjIsImV4cCI6MTY5ODc3MTQyMiwiZW1haWwiOiJ0ZXN0QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJ0ZXN0QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.g6JkZGBWqPDrhQgf_d6y6ZAVYMqOoD_Cex0snQuAt5YbmGtMlu-FydbCPBJEjQ_QeKFZQg6ztg3A7tBaCESxXyjeHl0dVuF_j51juj4Xzo0GdQhRQatF-dotEJO8bQs7JgdU01kdxJK_bbpk29FT3M4xHAYNtHNYs-PsAtCOclXb5-qojz4I_docnw-NpKgw2SEu_sSOI7GTXJAaOm-Y_JWj2UfWqr2WwvkEtRUsH6vW1MaZo0joBRsKLDoOQB3Dw9U0eVnzpAVyISdxs3GEw1nnGmGg3P-H1MM62FtUiiYVVe16eliGjtVucxIsgNd3kw5RSTXN3g5psnvzS10Q2Q
[debug] [2023-10-31T16:08:47.048Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T16:08:47.048Z] [functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/createCheckout, mapping to path=/"}}
[debug] [2023-10-31T16:08:47.048Z] [worker-pool] submitRequest(triggerId=us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createCheckout)"}}
[info] i  functions: Beginning execution of "us-central1-createCheckout" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Beginning execution of \"us-central1-createCheckout\""}}
[debug] [2023-10-31T16:08:47.049Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: BUSY"}}
[info] >  {"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"} {"user":{"key":"x-callable-context-auth","value":"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D","severity":"DEBUG","message":"Callable functions auth override"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"key\":\"x-callable-context-auth\",\"value\":\"%7B%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22token%22%3A%7B%22iss%22%3A%22https%3A%2F%2Fsecuretoken.google.com%2Fcoflow-v1%22%2C%22aud%22%3A%22coflow-v1%22%2C%22auth_time%22%3A1698401287%2C%22user_id%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22sub%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%2C%22iat%22%3A1698767822%2C%22exp%22%3A1698771422%2C%22email%22%3A%22test%40gmail.com%22%2C%22email_verified%22%3Afalse%2C%22firebase%22%3A%7B%22identities%22%3A%7B%22email%22%3A%5B%22test%40gmail.com%22%5D%7D%2C%22sign_in_provider%22%3A%22password%22%7D%2C%22uid%22%3A%22bCzrDa5WaMa2bIdzXpf8pbvlI9p2%22%7D%7D\",\"severity\":\"DEBUG\",\"message\":\"Callable functions auth override\"}"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-10-31T16:08:47.066Z] [runtime-status] [86140] No callable functions auth found {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[runtime-status] [86140] No callable functions auth found"}}
[info] >  ===== checkout:  { {"user":"===== checkout:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== checkout:  {"}}
[info] >    user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   user_id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   customerId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    lineItems: { {"user":"  lineItems: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   lineItems: {"}}
[info] >      variantId: 'gid://shopify/ProductVariant/45876651884777', {"user":"    variantId: 'gid://shopify/ProductVariant/45876651884777',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     variantId: 'gid://shopify/ProductVariant/45876651884777',"}}
[info] >      quantity: 1 {"user":"    quantity: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     quantity: 1"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/checkouts.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/checkouts.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/checkouts.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== createCheckout:  HTTPError: Response code 403 (Forbidden) {"user":"===== createCheckout:  HTTPError: Response code 403 (Forbidden)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== createCheckout:  HTTPError: Response code 403 (Forbidden)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698768528442, {"user":"    start: 1698768528442,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698768528442,"}}
[info] >      socket: 1698768528442, {"user":"    socket: 1698768528442,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698768528442,"}}
[info] >      lookup: 1698768528739, {"user":"    lookup: 1698768528739,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698768528739,"}}
[info] >      connect: 1698768529035, {"user":"    connect: 1698768529035,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698768529035,"}}
[info] >      secureConnect: 1698768529340, {"user":"    secureConnect: 1698768529340,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698768529340,"}}
[info] >      upload: 1698768529340, {"user":"    upload: 1698768529340,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698768529340,"}}
[info] >      response: 1698768530596, {"user":"    response: 1698768530596,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698768530596,"}}
[info] >      end: 1698768530599, {"user":"    end: 1698768530599,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698768530599,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 297, {"user":"      dns: 297,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 297,"}}
[info] >        tcp: 296, {"user":"      tcp: 296,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 296,"}}
[info] >        tls: 305, {"user":"      tls: 305,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 305,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 1256, {"user":"      firstByte: 1256,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 1256,"}}
[info] >        download: 3, {"user":"      download: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 3,"}}
[info] >        total: 2157 {"user":"      total: 2157","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 2157"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T16:08:50.612Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-createCheckout" in 3563.812316ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finished \"us-central1-createCheckout\" in 3563.812316ms"}}
[debug] [2023-10-31T16:08:50.613Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: IDLE"}}
[debug] [2023-10-31T16:08:50.613Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T16:08:50.613Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T16:08:50.613Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:30:26.305Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/handleShopifyCheckoutSuccess-2023-10-31T16:30:26.305Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:30:26.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/handleShopifyCheckoutSuccess-2023-10-31T16:30:26.305Z"],"workRunningCount":1}
[debug] [2023-10-31T16:30:26.305Z] Accepted request POST /coflow-v1/us-central1/handleShopifyCheckoutSuccess --> us-central1-handleShopifyCheckoutSuccess
[debug] [2023-10-31T16:30:26.308Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T16:30:26.308Z] [functions] Got req.url=/coflow-v1/us-central1/handleShopifyCheckoutSuccess, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/handleShopifyCheckoutSuccess, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:30:26.311Z] [worker-pool] addWorker(us-central1-handleShopifyCheckoutSuccess) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-handleShopifyCheckoutSuccess)"}}
[debug] [2023-10-31T16:30:26.311Z] [worker-pool] Adding worker with key us-central1-handleShopifyCheckoutSuccess, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-handleShopifyCheckoutSuccess, total=1"}}
[debug] [2023-10-31T16:30:28.101Z] [runtime-status] [86941] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T16:30:28.102Z] [runtime-status] [86941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:30:28.103Z] [runtime-status] [86941] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T16:30:28.104Z] [runtime-status] [86941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:30:28.433Z] [runtime-status] [86941] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T16:30:28.434Z] [runtime-status] [86941] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T16:30:28.434Z] [runtime-status] [86941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:30:28.435Z] [runtime-status] [86941] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T16:30:28.438Z] [runtime-status] [86941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T16:30:28.438Z] [runtime-status] [86941] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T16:30:28.441Z] [runtime-status] [86941] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T16:30:28.524Z] [runtime-status] [86941] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T16:30:28.524Z] [runtime-status] [86941] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_e4b7416c5aec7b46.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[runtime-status] [86941] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_e4b7416c5aec7b46.sock"}}
[debug] [2023-10-31T16:30:28.542Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: IDLE"}}
[debug] [2023-10-31T16:30:28.542Z] [worker-pool] submitRequest(triggerId=us-central1-handleShopifyCheckoutSuccess) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-handleShopifyCheckoutSuccess)"}}
[info] i  functions: Beginning execution of "us-central1-handleShopifyCheckoutSuccess" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Beginning execution of \"us-central1-handleShopifyCheckoutSuccess\""}}
[debug] [2023-10-31T16:30:28.542Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: BUSY"}}
[info] >  ===== params:  { {"user":"===== params:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== params:  {"}}
[info] >    id: 5399632478441, {"user":"  id: 5399632478441,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 5399632478441,"}}
[info] >    admin_graphql_api_id: 'gid://shopify/Order/5399632478441', {"user":"  admin_graphql_api_id: 'gid://shopify/Order/5399632478441',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   admin_graphql_api_id: 'gid://shopify/Order/5399632478441',"}}
[info] >    app_id: 12875497473, {"user":"  app_id: 12875497473,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   app_id: 12875497473,"}}
[info] >    browser_ip: '50.7.251.66', {"user":"  browser_ip: '50.7.251.66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   browser_ip: '50.7.251.66',"}}
[info] >    buyer_accepts_marketing: false, {"user":"  buyer_accepts_marketing: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   buyer_accepts_marketing: false,"}}
[info] >    cancel_reason: null, {"user":"  cancel_reason: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   cancel_reason: null,"}}
[info] >    cancelled_at: null, {"user":"  cancelled_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   cancelled_at: null,"}}
[info] >    cart_token: null, {"user":"  cart_token: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   cart_token: null,"}}
[info] >    checkout_id: 34336251511017, {"user":"  checkout_id: 34336251511017,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   checkout_id: 34336251511017,"}}
[info] >    checkout_token: 'f1d2aeed2c2c325964f743b283afdab1', {"user":"  checkout_token: 'f1d2aeed2c2c325964f743b283afdab1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   checkout_token: 'f1d2aeed2c2c325964f743b283afdab1',"}}
[info] >    client_details: { {"user":"  client_details: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   client_details: {"}}
[info] >      accept_language: 'en', {"user":"    accept_language: 'en',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     accept_language: 'en',"}}
[info] >      browser_height: null, {"user":"    browser_height: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     browser_height: null,"}}
[info] >      browser_ip: '50.7.251.66', {"user":"    browser_ip: '50.7.251.66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     browser_ip: '50.7.251.66',"}}
[info] >      browser_width: null, {"user":"    browser_width: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     browser_width: null,"}}
[info] >      session_hash: null, {"user":"    session_hash: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     session_hash: null,"}}
[info] >      user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36' {"user":"    user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    closed_at: null, {"user":"  closed_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   closed_at: null,"}}
[info] >    confirmation_number: 'UCEVXEMCT', {"user":"  confirmation_number: 'UCEVXEMCT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   confirmation_number: 'UCEVXEMCT',"}}
[info] >    confirmed: true, {"user":"  confirmed: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   confirmed: true,"}}
[info] >    contact_email: 'test@gmail.com', {"user":"  contact_email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   contact_email: 'test@gmail.com',"}}
[info] >    created_at: '2023-10-31T09:30:23-07:00', {"user":"  created_at: '2023-10-31T09:30:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_at: '2023-10-31T09:30:23-07:00',"}}
[info] >    currency: 'CNY', {"user":"  currency: 'CNY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   currency: 'CNY',"}}
[info] >    current_subtotal_price: '0.00', {"user":"  current_subtotal_price: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_subtotal_price: '0.00',"}}
[info] >    current_subtotal_price_set: { {"user":"  current_subtotal_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_subtotal_price_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    current_total_additional_fees_set: null, {"user":"  current_total_additional_fees_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_additional_fees_set: null,"}}
[info] >    current_total_discounts: '10.00', {"user":"  current_total_discounts: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_discounts: '10.00',"}}
[info] >    current_total_discounts_set: { {"user":"  current_total_discounts_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_discounts_set: {"}}
[info] >      shop_money: { amount: '10.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '10.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '10.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '10.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '10.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '10.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    current_total_duties_set: null, {"user":"  current_total_duties_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_duties_set: null,"}}
[info] >    current_total_price: '4.95', {"user":"  current_total_price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_price: '4.95',"}}
[info] >    current_total_price_set: { {"user":"  current_total_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_price_set: {"}}
[info] >      shop_money: { amount: '4.95', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '4.95', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '4.95', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '4.95', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '4.95', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '4.95', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    current_total_tax: '0.00', {"user":"  current_total_tax: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_tax: '0.00',"}}
[info] >    current_total_tax_set: { {"user":"  current_total_tax_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_tax_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    customer_locale: 'en', {"user":"  customer_locale: 'en',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer_locale: 'en',"}}
[info] >    device_id: null, {"user":"  device_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   device_id: null,"}}
[info] >    discount_codes: [ { code: 'IO7pKnt4', amount: '10.00', type: 'percentage' } ], {"user":"  discount_codes: [ { code: 'IO7pKnt4', amount: '10.00', type: 'percentage' } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   discount_codes: [ { code: 'IO7pKnt4', amount: '10.00', type: 'percentage' } ],"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    estimated_taxes: false, {"user":"  estimated_taxes: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   estimated_taxes: false,"}}
[info] >    financial_status: 'paid', {"user":"  financial_status: 'paid',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   financial_status: 'paid',"}}
[info] >    fulfillment_status: null, {"user":"  fulfillment_status: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   fulfillment_status: null,"}}
[info] >    landing_site: '/checkouts/co/a12c343c5728baaecca1bc1320bafaae', {"user":"  landing_site: '/checkouts/co/a12c343c5728baaecca1bc1320bafaae',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   landing_site: '/checkouts/co/a12c343c5728baaecca1bc1320bafaae',"}}
[info] >    landing_site_ref: null, {"user":"  landing_site_ref: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   landing_site_ref: null,"}}
[info] >    location_id: null, {"user":"  location_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   location_id: null,"}}
[info] >    merchant_of_record_app_id: null, {"user":"  merchant_of_record_app_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   merchant_of_record_app_id: null,"}}
[info] >    name: '#1009', {"user":"  name: '#1009',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: '#1009',"}}
[info] >    note: null, {"user":"  note: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   note: null,"}}
[info] >    note_attributes: [ {"user":"  note_attributes: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   note_attributes: ["}}
[info] >      { name: 'userId', value: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2' }, {"user":"    { name: 'userId', value: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     { name: 'userId', value: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2' },"}}
[info] >      { name: 'email', value: 'test@gmail.com' }, {"user":"    { name: 'email', value: 'test@gmail.com' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     { name: 'email', value: 'test@gmail.com' },"}}
[info] >      { name: 'type', value: 'product' } {"user":"    { name: 'type', value: 'product' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     { name: 'type', value: 'product' }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    number: 9, {"user":"  number: 9,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   number: 9,"}}
[info] >    order_number: 1009, {"user":"  order_number: 1009,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   order_number: 1009,"}}
[info] >    order_status_url: 'https://coflow-test.myshopify.com/66893775081/orders/5833e9f05a509633ca2e8451970e5d53/authenticate?key=8d0766b312215730993cc6f7b152ccad', {"user":"  order_status_url: 'https://coflow-test.myshopify.com/66893775081/orders/5833e9f05a509633ca2e8451970e5d53/authenticate?key=8d0766b312215730993cc6f7b152ccad',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   order_status_url: 'https://coflow-test.myshopify.com/66893775081/orders/5833e9f05a509633ca2e8451970e5d53/authenticate?key=8d0766b312215730993cc6f7b152ccad',"}}
[info] >    original_total_additional_fees_set: null, {"user":"  original_total_additional_fees_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   original_total_additional_fees_set: null,"}}
[info] >    original_total_duties_set: null, {"user":"  original_total_duties_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   original_total_duties_set: null,"}}
[info] >    payment_gateway_names: [ 'bogus' ], {"user":"  payment_gateway_names: [ 'bogus' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_gateway_names: [ 'bogus' ],"}}
[info] >    phone: null, {"user":"  phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   phone: null,"}}
[info] >    po_number: null, {"user":"  po_number: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   po_number: null,"}}
[info] >    presentment_currency: 'CNY', {"user":"  presentment_currency: 'CNY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   presentment_currency: 'CNY',"}}
[info] >    processed_at: '2023-10-31T09:30:22-07:00', {"user":"  processed_at: '2023-10-31T09:30:22-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   processed_at: '2023-10-31T09:30:22-07:00',"}}
[info] >    reference: 'b38e4b10dce09efb778493edc59e0631', {"user":"  reference: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   reference: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >    referring_site: 'http://192.168.0.128:3000/', {"user":"  referring_site: 'http://192.168.0.128:3000/',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   referring_site: 'http://192.168.0.128:3000/',"}}
[info] >    source_identifier: 'b38e4b10dce09efb778493edc59e0631', {"user":"  source_identifier: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   source_identifier: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >    source_name: '12875497473', {"user":"  source_name: '12875497473',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   source_name: '12875497473',"}}
[info] >    source_url: null, {"user":"  source_url: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   source_url: null,"}}
[info] >    subtotal_price: '0.00', {"user":"  subtotal_price: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   subtotal_price: '0.00',"}}
[info] >    subtotal_price_set: { {"user":"  subtotal_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   subtotal_price_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    tags: '', {"user":"  tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   tags: '',"}}
[info] >    tax_exempt: false, {"user":"  tax_exempt: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   tax_exempt: false,"}}
[info] >    tax_lines: [], {"user":"  tax_lines: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   tax_lines: [],"}}
[info] >    taxes_included: false, {"user":"  taxes_included: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   taxes_included: false,"}}
[info] >    test: true, {"user":"  test: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   test: true,"}}
[info] >    token: '5833e9f05a509633ca2e8451970e5d53', {"user":"  token: '5833e9f05a509633ca2e8451970e5d53',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   token: '5833e9f05a509633ca2e8451970e5d53',"}}
[info] >    total_discounts: '10.00', {"user":"  total_discounts: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_discounts: '10.00',"}}
[info] >    total_discounts_set: { {"user":"  total_discounts_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_discounts_set: {"}}
[info] >      shop_money: { amount: '10.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '10.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '10.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '10.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '10.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '10.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_line_items_price: '10.00', {"user":"  total_line_items_price: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_line_items_price: '10.00',"}}
[info] >    total_line_items_price_set: { {"user":"  total_line_items_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_line_items_price_set: {"}}
[info] >      shop_money: { amount: '10.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '10.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '10.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '10.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '10.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '10.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_outstanding: '0.00', {"user":"  total_outstanding: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_outstanding: '0.00',"}}
[info] >    total_price: '4.95', {"user":"  total_price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_price: '4.95',"}}
[info] >    total_price_set: { {"user":"  total_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_price_set: {"}}
[info] >      shop_money: { amount: '4.95', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '4.95', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '4.95', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '4.95', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '4.95', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '4.95', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_shipping_price_set: { {"user":"  total_shipping_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_shipping_price_set: {"}}
[info] >      shop_money: { amount: '4.95', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '4.95', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '4.95', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '4.95', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '4.95', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '4.95', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_tax: '0.00', {"user":"  total_tax: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_tax: '0.00',"}}
[info] >    total_tax_set: { {"user":"  total_tax_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_tax_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_tip_received: '0.00', {"user":"  total_tip_received: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_tip_received: '0.00',"}}
[info] >    total_weight: 100, {"user":"  total_weight: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_weight: 100,"}}
[info] >    updated_at: '2023-10-31T09:30:24-07:00', {"user":"  updated_at: '2023-10-31T09:30:24-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated_at: '2023-10-31T09:30:24-07:00',"}}
[info] >    user_id: null, {"user":"  user_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   user_id: null,"}}
[info] >    billing_address: { {"user":"  billing_address: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   billing_address: {"}}
[info] >      first_name: null, {"user":"    first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     first_name: null,"}}
[info] >      address1: 'test', {"user":"    address1: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address1: 'test',"}}
[info] >      phone: null, {"user":"    phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: null,"}}
[info] >      city: 'test', {"user":"    city: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     city: 'test',"}}
[info] >      zip: '111222', {"user":"    zip: '111222',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     zip: '111222',"}}
[info] >      province: 'Anhui', {"user":"    province: 'Anhui',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province: 'Anhui',"}}
[info] >      country: 'China', {"user":"    country: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country: 'China',"}}
[info] >      last_name: 'Test', {"user":"    last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_name: 'Test',"}}
[info] >      address2: null, {"user":"    address2: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address2: null,"}}
[info] >      company: null, {"user":"    company: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     company: null,"}}
[info] >      latitude: null, {"user":"    latitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     latitude: null,"}}
[info] >      longitude: null, {"user":"    longitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     longitude: null,"}}
[info] >      name: 'Test', {"user":"    name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'Test',"}}
[info] >      country_code: 'CN', {"user":"    country_code: 'CN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country_code: 'CN',"}}
[info] >      province_code: 'AH' {"user":"    province_code: 'AH'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province_code: 'AH'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    customer: { {"user":"  customer: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer: {"}}
[info] >      id: 6957110395113, {"user":"    id: 6957110395113,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 6957110395113,"}}
[info] >      email: 'test@gmail.com', {"user":"    email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test@gmail.com',"}}
[info] >      accepts_marketing: false, {"user":"    accepts_marketing: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     accepts_marketing: false,"}}
[info] >      created_at: '2023-10-26T02:51:22-07:00', {"user":"    created_at: '2023-10-26T02:51:22-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-26T02:51:22-07:00',"}}
[info] >      updated_at: '2023-10-31T09:30:23-07:00', {"user":"    updated_at: '2023-10-31T09:30:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:30:23-07:00',"}}
[info] >      first_name: null, {"user":"    first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     first_name: null,"}}
[info] >      last_name: 'Test', {"user":"    last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_name: 'Test',"}}
[info] >      state: 'disabled', {"user":"    state: 'disabled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     state: 'disabled',"}}
[info] >      note: null, {"user":"    note: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     note: null,"}}
[info] >      verified_email: true, {"user":"    verified_email: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     verified_email: true,"}}
[info] >      multipass_identifier: null, {"user":"    multipass_identifier: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     multipass_identifier: null,"}}
[info] >      tax_exempt: false, {"user":"    tax_exempt: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     tax_exempt: false,"}}
[info] >      phone: null, {"user":"    phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: null,"}}
[info] >      email_marketing_consent: { {"user":"    email_marketing_consent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     email_marketing_consent: {"}}
[info] >        state: 'not_subscribed', {"user":"      state: 'not_subscribed',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       state: 'not_subscribed',"}}
[info] >        opt_in_level: 'single_opt_in', {"user":"      opt_in_level: 'single_opt_in',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       opt_in_level: 'single_opt_in',"}}
[info] >        consent_updated_at: null {"user":"      consent_updated_at: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       consent_updated_at: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      sms_marketing_consent: null, {"user":"    sms_marketing_consent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     sms_marketing_consent: null,"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      currency: 'CNY', {"user":"    currency: 'CNY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     currency: 'CNY',"}}
[info] >      accepts_marketing_updated_at: '2023-10-26T02:51:22-07:00', {"user":"    accepts_marketing_updated_at: '2023-10-26T02:51:22-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     accepts_marketing_updated_at: '2023-10-26T02:51:22-07:00',"}}
[info] >      marketing_opt_in_level: null, {"user":"    marketing_opt_in_level: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     marketing_opt_in_level: null,"}}
[info] >      tax_exemptions: [], {"user":"    tax_exemptions: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     tax_exemptions: [],"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Customer/6957110395113', {"user":"    admin_graphql_api_id: 'gid://shopify/Customer/6957110395113',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Customer/6957110395113',"}}
[info] >      default_address: { {"user":"    default_address: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     default_address: {"}}
[info] >        id: 8572475146473, {"user":"      id: 8572475146473,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 8572475146473,"}}
[info] >        customer_id: 6957110395113, {"user":"      customer_id: 6957110395113,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       customer_id: 6957110395113,"}}
[info] >        first_name: null, {"user":"      first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       first_name: null,"}}
[info] >        last_name: 'Test', {"user":"      last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       last_name: 'Test',"}}
[info] >        company: null, {"user":"      company: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       company: null,"}}
[info] >        address1: 'test', {"user":"      address1: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       address1: 'test',"}}
[info] >        address2: null, {"user":"      address2: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       address2: null,"}}
[info] >        city: 'test', {"user":"      city: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       city: 'test',"}}
[info] >        province: 'Anhui', {"user":"      province: 'Anhui',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       province: 'Anhui',"}}
[info] >        country: 'China', {"user":"      country: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       country: 'China',"}}
[info] >        zip: '111222', {"user":"      zip: '111222',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       zip: '111222',"}}
[info] >        phone: null, {"user":"      phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: null,"}}
[info] >        name: 'Test', {"user":"      name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'Test',"}}
[info] >        province_code: 'AH', {"user":"      province_code: 'AH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       province_code: 'AH',"}}
[info] >        country_code: 'CN', {"user":"      country_code: 'CN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       country_code: 'CN',"}}
[info] >        country_name: 'China', {"user":"      country_name: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       country_name: 'China',"}}
[info] >        default: true {"user":"      default: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       default: true"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    discount_applications: [ {"user":"  discount_applications: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   discount_applications: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        target_type: 'line_item', {"user":"      target_type: 'line_item',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       target_type: 'line_item',"}}
[info] >        type: 'discount_code', {"user":"      type: 'discount_code',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'discount_code',"}}
[info] >        value: '100.0', {"user":"      value: '100.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       value: '100.0',"}}
[info] >        value_type: 'percentage', {"user":"      value_type: 'percentage',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       value_type: 'percentage',"}}
[info] >        allocation_method: 'across', {"user":"      allocation_method: 'across',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       allocation_method: 'across',"}}
[info] >        target_selection: 'entitled', {"user":"      target_selection: 'entitled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       target_selection: 'entitled',"}}
[info] >        code: 'IO7pKnt4' {"user":"      code: 'IO7pKnt4'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       code: 'IO7pKnt4'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    fulfillments: [], {"user":"  fulfillments: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   fulfillments: [],"}}
[info] >    line_items: [ {"user":"  line_items: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   line_items: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 13427374981353, {"user":"      id: 13427374981353,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 13427374981353,"}}
[info] >        admin_graphql_api_id: 'gid://shopify/LineItem/13427374981353', {"user":"      admin_graphql_api_id: 'gid://shopify/LineItem/13427374981353',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/LineItem/13427374981353',"}}
[info] >        attributed_staffs: [], {"user":"      attributed_staffs: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       attributed_staffs: [],"}}
[info] >        fulfillable_quantity: 1, {"user":"      fulfillable_quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       fulfillable_quantity: 1,"}}
[info] >        fulfillment_service: 'manual', {"user":"      fulfillment_service: 'manual',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       fulfillment_service: 'manual',"}}
[info] >        fulfillment_status: null, {"user":"      fulfillment_status: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       fulfillment_status: null,"}}
[info] >        gift_card: false, {"user":"      gift_card: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       gift_card: false,"}}
[info] >        grams: 100, {"user":"      grams: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       grams: 100,"}}
[info] >        name: 'Red T-shirt', {"user":"      name: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'Red T-shirt',"}}
[info] >        price: '10.00', {"user":"      price: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price: '10.00',"}}
[info] >        price_set: [Object], {"user":"      price_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price_set: [Object],"}}
[info] >        product_exists: true, {"user":"      product_exists: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_exists: true,"}}
[info] >        product_id: 8224569655529, {"user":"      product_id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569655529,"}}
[info] >        properties: [], {"user":"      properties: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       properties: [],"}}
[info] >        quantity: 1, {"user":"      quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       quantity: 1,"}}
[info] >        requires_shipping: true, {"user":"      requires_shipping: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       requires_shipping: true,"}}
[info] >        sku: '', {"user":"      sku: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       sku: '',"}}
[info] >        taxable: true, {"user":"      taxable: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       taxable: true,"}}
[info] >        title: 'Red T-shirt', {"user":"      title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'Red T-shirt',"}}
[info] >        total_discount: '0.00', {"user":"      total_discount: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       total_discount: '0.00',"}}
[info] >        total_discount_set: [Object], {"user":"      total_discount_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       total_discount_set: [Object],"}}
[info] >        variant_id: 45876651884777, {"user":"      variant_id: 45876651884777,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_id: 45876651884777,"}}
[info] >        variant_inventory_management: 'shopify', {"user":"      variant_inventory_management: 'shopify',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_inventory_management: 'shopify',"}}
[info] >        variant_title: null, {"user":"      variant_title: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_title: null,"}}
[info] >        vendor: 'coflow-test', {"user":"      vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       vendor: 'coflow-test',"}}
[info] >        tax_lines: [Array], {"user":"      tax_lines: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       tax_lines: [Array],"}}
[info] >        duties: [], {"user":"      duties: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       duties: [],"}}
[info] >        discount_allocations: [Array] {"user":"      discount_allocations: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discount_allocations: [Array]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    payment_terms: null, {"user":"  payment_terms: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_terms: null,"}}
[info] >    refunds: [], {"user":"  refunds: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   refunds: [],"}}
[info] >    shipping_address: { {"user":"  shipping_address: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_address: {"}}
[info] >      first_name: null, {"user":"    first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     first_name: null,"}}
[info] >      address1: 'test', {"user":"    address1: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address1: 'test',"}}
[info] >      phone: null, {"user":"    phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: null,"}}
[info] >      city: 'test', {"user":"    city: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     city: 'test',"}}
[info] >      zip: '111222', {"user":"    zip: '111222',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     zip: '111222',"}}
[info] >      province: 'Anhui', {"user":"    province: 'Anhui',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province: 'Anhui',"}}
[info] >      country: 'China', {"user":"    country: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country: 'China',"}}
[info] >      last_name: 'Test', {"user":"    last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_name: 'Test',"}}
[info] >      address2: null, {"user":"    address2: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address2: null,"}}
[info] >      company: null, {"user":"    company: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     company: null,"}}
[info] >      latitude: null, {"user":"    latitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     latitude: null,"}}
[info] >      longitude: null, {"user":"    longitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     longitude: null,"}}
[info] >      name: 'Test', {"user":"    name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'Test',"}}
[info] >      country_code: 'CN', {"user":"    country_code: 'CN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country_code: 'CN',"}}
[info] >      province_code: 'AH' {"user":"    province_code: 'AH'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province_code: 'AH'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    shipping_lines: [ {"user":"  shipping_lines: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_lines: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 4402528977129, {"user":"      id: 4402528977129,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 4402528977129,"}}
[info] >        carrier_identifier: '2ffa3e5d7e0311e260c10350738dd1f0', {"user":"      carrier_identifier: '2ffa3e5d7e0311e260c10350738dd1f0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       carrier_identifier: '2ffa3e5d7e0311e260c10350738dd1f0',"}}
[info] >        code: 'Standard', {"user":"      code: 'Standard',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       code: 'Standard',"}}
[info] >        discounted_price: '4.95', {"user":"      discounted_price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discounted_price: '4.95',"}}
[info] >        discounted_price_set: [Object], {"user":"      discounted_price_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discounted_price_set: [Object],"}}
[info] >        phone: null, {"user":"      phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: null,"}}
[info] >        price: '4.95', {"user":"      price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price: '4.95',"}}
[info] >        price_set: [Object], {"user":"      price_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price_set: [Object],"}}
[info] >        requested_fulfillment_service_id: null, {"user":"      requested_fulfillment_service_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       requested_fulfillment_service_id: null,"}}
[info] >        source: 'shopify', {"user":"      source: 'shopify',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       source: 'shopify',"}}
[info] >        title: 'Standard', {"user":"      title: 'Standard',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'Standard',"}}
[info] >        tax_lines: [], {"user":"      tax_lines: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       tax_lines: [],"}}
[info] >        discount_allocations: [] {"user":"      discount_allocations: []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discount_allocations: []"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  ===== orderInfo:  { {"user":"===== orderInfo:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== orderInfo:  {"}}
[info] >    userId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  userId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   userId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    userEmail: 'test@gmail.com', {"user":"  userEmail: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   userEmail: 'test@gmail.com',"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    financialStatus: 'paid', {"user":"  financialStatus: 'paid',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   financialStatus: 'paid',"}}
[info] >    orderId: 'b38e4b10dce09efb778493edc59e0631', {"user":"  orderId: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   orderId: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >    orderNumber: 1009, {"user":"  orderNumber: 1009,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   orderNumber: 1009,"}}
[info] >    totalPrice: 4.95 {"user":"  totalPrice: 4.95","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   totalPrice: 4.95"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2023-10-31T16:30:32.239Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-handleShopifyCheckoutSuccess" in 3696.362426ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Finished \"us-central1-handleShopifyCheckoutSuccess\" in 3696.362426ms"}}
[debug] [2023-10-31T16:30:32.239Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: IDLE"}}
[debug] [2023-10-31T16:30:32.239Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T16:30:32.240Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:31:36.197Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/handleShopifyCheckoutSuccess-2023-10-31T16:31:36.197Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:31:36.197Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/handleShopifyCheckoutSuccess-2023-10-31T16:31:36.197Z"],"workRunningCount":1}
[debug] [2023-10-31T16:31:36.197Z] Accepted request POST /coflow-v1/us-central1/handleShopifyCheckoutSuccess --> us-central1-handleShopifyCheckoutSuccess
[debug] [2023-10-31T16:31:36.199Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T16:31:36.199Z] [functions] Got req.url=/coflow-v1/us-central1/handleShopifyCheckoutSuccess, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/handleShopifyCheckoutSuccess, mapping to path=/"}}
[debug] [2023-10-31T16:31:36.199Z] [worker-pool] submitRequest(triggerId=us-central1-handleShopifyCheckoutSuccess) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-handleShopifyCheckoutSuccess)"}}
[info] i  functions: Beginning execution of "us-central1-handleShopifyCheckoutSuccess" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Beginning execution of \"us-central1-handleShopifyCheckoutSuccess\""}}
[debug] [2023-10-31T16:31:36.200Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: BUSY"}}
[info] >  ===== params:  { {"user":"===== params:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== params:  {"}}
[info] >    id: 5399632478441, {"user":"  id: 5399632478441,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 5399632478441,"}}
[info] >    admin_graphql_api_id: 'gid://shopify/Order/5399632478441', {"user":"  admin_graphql_api_id: 'gid://shopify/Order/5399632478441',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   admin_graphql_api_id: 'gid://shopify/Order/5399632478441',"}}
[info] >    app_id: 12875497473, {"user":"  app_id: 12875497473,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   app_id: 12875497473,"}}
[info] >    browser_ip: '50.7.251.66', {"user":"  browser_ip: '50.7.251.66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   browser_ip: '50.7.251.66',"}}
[info] >    buyer_accepts_marketing: false, {"user":"  buyer_accepts_marketing: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   buyer_accepts_marketing: false,"}}
[info] >    cancel_reason: null, {"user":"  cancel_reason: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   cancel_reason: null,"}}
[info] >    cancelled_at: null, {"user":"  cancelled_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   cancelled_at: null,"}}
[info] >    cart_token: null, {"user":"  cart_token: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   cart_token: null,"}}
[info] >    checkout_id: 34336251511017, {"user":"  checkout_id: 34336251511017,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   checkout_id: 34336251511017,"}}
[info] >    checkout_token: 'f1d2aeed2c2c325964f743b283afdab1', {"user":"  checkout_token: 'f1d2aeed2c2c325964f743b283afdab1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   checkout_token: 'f1d2aeed2c2c325964f743b283afdab1',"}}
[info] >    client_details: { {"user":"  client_details: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   client_details: {"}}
[info] >      accept_language: 'en', {"user":"    accept_language: 'en',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     accept_language: 'en',"}}
[info] >      browser_height: null, {"user":"    browser_height: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     browser_height: null,"}}
[info] >      browser_ip: '50.7.251.66', {"user":"    browser_ip: '50.7.251.66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     browser_ip: '50.7.251.66',"}}
[info] >      browser_width: null, {"user":"    browser_width: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     browser_width: null,"}}
[info] >      session_hash: null, {"user":"    session_hash: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     session_hash: null,"}}
[info] >      user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36' {"user":"    user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    closed_at: null, {"user":"  closed_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   closed_at: null,"}}
[info] >    confirmation_number: 'UCEVXEMCT', {"user":"  confirmation_number: 'UCEVXEMCT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   confirmation_number: 'UCEVXEMCT',"}}
[info] >    confirmed: true, {"user":"  confirmed: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   confirmed: true,"}}
[info] >    contact_email: 'test@gmail.com', {"user":"  contact_email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   contact_email: 'test@gmail.com',"}}
[info] >    created_at: '2023-10-31T09:30:23-07:00', {"user":"  created_at: '2023-10-31T09:30:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_at: '2023-10-31T09:30:23-07:00',"}}
[info] >    currency: 'CNY', {"user":"  currency: 'CNY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   currency: 'CNY',"}}
[info] >    current_subtotal_price: '0.00', {"user":"  current_subtotal_price: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_subtotal_price: '0.00',"}}
[info] >    current_subtotal_price_set: { {"user":"  current_subtotal_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_subtotal_price_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    current_total_additional_fees_set: null, {"user":"  current_total_additional_fees_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_additional_fees_set: null,"}}
[info] >    current_total_discounts: '10.00', {"user":"  current_total_discounts: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_discounts: '10.00',"}}
[info] >    current_total_discounts_set: { {"user":"  current_total_discounts_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_discounts_set: {"}}
[info] >      shop_money: { amount: '10.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '10.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '10.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '10.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '10.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '10.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    current_total_duties_set: null, {"user":"  current_total_duties_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_duties_set: null,"}}
[info] >    current_total_price: '4.95', {"user":"  current_total_price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_price: '4.95',"}}
[info] >    current_total_price_set: { {"user":"  current_total_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_price_set: {"}}
[info] >      shop_money: { amount: '4.95', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '4.95', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '4.95', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '4.95', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '4.95', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '4.95', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    current_total_tax: '0.00', {"user":"  current_total_tax: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_tax: '0.00',"}}
[info] >    current_total_tax_set: { {"user":"  current_total_tax_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   current_total_tax_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    customer_locale: 'en', {"user":"  customer_locale: 'en',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer_locale: 'en',"}}
[info] >    device_id: null, {"user":"  device_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   device_id: null,"}}
[info] >    discount_codes: [ { code: 'IO7pKnt4', amount: '10.00', type: 'percentage' } ], {"user":"  discount_codes: [ { code: 'IO7pKnt4', amount: '10.00', type: 'percentage' } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   discount_codes: [ { code: 'IO7pKnt4', amount: '10.00', type: 'percentage' } ],"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    estimated_taxes: false, {"user":"  estimated_taxes: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   estimated_taxes: false,"}}
[info] >    financial_status: 'paid', {"user":"  financial_status: 'paid',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   financial_status: 'paid',"}}
[info] >    fulfillment_status: null, {"user":"  fulfillment_status: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   fulfillment_status: null,"}}
[info] >    landing_site: '/checkouts/co/a12c343c5728baaecca1bc1320bafaae', {"user":"  landing_site: '/checkouts/co/a12c343c5728baaecca1bc1320bafaae',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   landing_site: '/checkouts/co/a12c343c5728baaecca1bc1320bafaae',"}}
[info] >    landing_site_ref: null, {"user":"  landing_site_ref: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   landing_site_ref: null,"}}
[info] >    location_id: null, {"user":"  location_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   location_id: null,"}}
[info] >    merchant_of_record_app_id: null, {"user":"  merchant_of_record_app_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   merchant_of_record_app_id: null,"}}
[info] >    name: '#1009', {"user":"  name: '#1009',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: '#1009',"}}
[info] >    note: null, {"user":"  note: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   note: null,"}}
[info] >    note_attributes: [ {"user":"  note_attributes: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   note_attributes: ["}}
[info] >      { name: 'userId', value: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2' }, {"user":"    { name: 'userId', value: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     { name: 'userId', value: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2' },"}}
[info] >      { name: 'email', value: 'test@gmail.com' }, {"user":"    { name: 'email', value: 'test@gmail.com' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     { name: 'email', value: 'test@gmail.com' },"}}
[info] >      { name: 'type', value: 'product' } {"user":"    { name: 'type', value: 'product' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     { name: 'type', value: 'product' }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    number: 9, {"user":"  number: 9,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   number: 9,"}}
[info] >    order_number: 1009, {"user":"  order_number: 1009,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   order_number: 1009,"}}
[info] >    order_status_url: 'https://coflow-test.myshopify.com/66893775081/orders/5833e9f05a509633ca2e8451970e5d53/authenticate?key=8d0766b312215730993cc6f7b152ccad', {"user":"  order_status_url: 'https://coflow-test.myshopify.com/66893775081/orders/5833e9f05a509633ca2e8451970e5d53/authenticate?key=8d0766b312215730993cc6f7b152ccad',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   order_status_url: 'https://coflow-test.myshopify.com/66893775081/orders/5833e9f05a509633ca2e8451970e5d53/authenticate?key=8d0766b312215730993cc6f7b152ccad',"}}
[info] >    original_total_additional_fees_set: null, {"user":"  original_total_additional_fees_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   original_total_additional_fees_set: null,"}}
[info] >    original_total_duties_set: null, {"user":"  original_total_duties_set: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   original_total_duties_set: null,"}}
[info] >    payment_gateway_names: [ 'bogus' ], {"user":"  payment_gateway_names: [ 'bogus' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_gateway_names: [ 'bogus' ],"}}
[info] >    phone: null, {"user":"  phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   phone: null,"}}
[info] >    po_number: null, {"user":"  po_number: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   po_number: null,"}}
[info] >    presentment_currency: 'CNY', {"user":"  presentment_currency: 'CNY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   presentment_currency: 'CNY',"}}
[info] >    processed_at: '2023-10-31T09:30:22-07:00', {"user":"  processed_at: '2023-10-31T09:30:22-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   processed_at: '2023-10-31T09:30:22-07:00',"}}
[info] >    reference: 'b38e4b10dce09efb778493edc59e0631', {"user":"  reference: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   reference: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >    referring_site: 'http://192.168.0.128:3000/', {"user":"  referring_site: 'http://192.168.0.128:3000/',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   referring_site: 'http://192.168.0.128:3000/',"}}
[info] >    source_identifier: 'b38e4b10dce09efb778493edc59e0631', {"user":"  source_identifier: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   source_identifier: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >    source_name: '12875497473', {"user":"  source_name: '12875497473',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   source_name: '12875497473',"}}
[info] >    source_url: null, {"user":"  source_url: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   source_url: null,"}}
[info] >    subtotal_price: '0.00', {"user":"  subtotal_price: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   subtotal_price: '0.00',"}}
[info] >    subtotal_price_set: { {"user":"  subtotal_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   subtotal_price_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    tags: '', {"user":"  tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   tags: '',"}}
[info] >    tax_exempt: false, {"user":"  tax_exempt: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   tax_exempt: false,"}}
[info] >    tax_lines: [], {"user":"  tax_lines: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   tax_lines: [],"}}
[info] >    taxes_included: false, {"user":"  taxes_included: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   taxes_included: false,"}}
[info] >    test: true, {"user":"  test: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   test: true,"}}
[info] >    token: '5833e9f05a509633ca2e8451970e5d53', {"user":"  token: '5833e9f05a509633ca2e8451970e5d53',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   token: '5833e9f05a509633ca2e8451970e5d53',"}}
[info] >    total_discounts: '10.00', {"user":"  total_discounts: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_discounts: '10.00',"}}
[info] >    total_discounts_set: { {"user":"  total_discounts_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_discounts_set: {"}}
[info] >      shop_money: { amount: '10.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '10.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '10.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '10.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '10.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '10.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_line_items_price: '10.00', {"user":"  total_line_items_price: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_line_items_price: '10.00',"}}
[info] >    total_line_items_price_set: { {"user":"  total_line_items_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_line_items_price_set: {"}}
[info] >      shop_money: { amount: '10.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '10.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '10.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '10.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '10.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '10.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_outstanding: '0.00', {"user":"  total_outstanding: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_outstanding: '0.00',"}}
[info] >    total_price: '4.95', {"user":"  total_price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_price: '4.95',"}}
[info] >    total_price_set: { {"user":"  total_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_price_set: {"}}
[info] >      shop_money: { amount: '4.95', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '4.95', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '4.95', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '4.95', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '4.95', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '4.95', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_shipping_price_set: { {"user":"  total_shipping_price_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_shipping_price_set: {"}}
[info] >      shop_money: { amount: '4.95', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '4.95', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '4.95', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '4.95', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '4.95', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '4.95', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_tax: '0.00', {"user":"  total_tax: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_tax: '0.00',"}}
[info] >    total_tax_set: { {"user":"  total_tax_set: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_tax_set: {"}}
[info] >      shop_money: { amount: '0.00', currency_code: 'CNY' }, {"user":"    shop_money: { amount: '0.00', currency_code: 'CNY' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     shop_money: { amount: '0.00', currency_code: 'CNY' },"}}
[info] >      presentment_money: { amount: '0.00', currency_code: 'CNY' } {"user":"    presentment_money: { amount: '0.00', currency_code: 'CNY' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     presentment_money: { amount: '0.00', currency_code: 'CNY' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    total_tip_received: '0.00', {"user":"  total_tip_received: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_tip_received: '0.00',"}}
[info] >    total_weight: 100, {"user":"  total_weight: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   total_weight: 100,"}}
[info] >    updated_at: '2023-10-31T09:30:24-07:00', {"user":"  updated_at: '2023-10-31T09:30:24-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated_at: '2023-10-31T09:30:24-07:00',"}}
[info] >    user_id: null, {"user":"  user_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   user_id: null,"}}
[info] >    billing_address: { {"user":"  billing_address: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   billing_address: {"}}
[info] >      first_name: null, {"user":"    first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     first_name: null,"}}
[info] >      address1: 'test', {"user":"    address1: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address1: 'test',"}}
[info] >      phone: null, {"user":"    phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: null,"}}
[info] >      city: 'test', {"user":"    city: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     city: 'test',"}}
[info] >      zip: '111222', {"user":"    zip: '111222',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     zip: '111222',"}}
[info] >      province: 'Anhui', {"user":"    province: 'Anhui',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province: 'Anhui',"}}
[info] >      country: 'China', {"user":"    country: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country: 'China',"}}
[info] >      last_name: 'Test', {"user":"    last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_name: 'Test',"}}
[info] >      address2: null, {"user":"    address2: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address2: null,"}}
[info] >      company: null, {"user":"    company: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     company: null,"}}
[info] >      latitude: null, {"user":"    latitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     latitude: null,"}}
[info] >      longitude: null, {"user":"    longitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     longitude: null,"}}
[info] >      name: 'Test', {"user":"    name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'Test',"}}
[info] >      country_code: 'CN', {"user":"    country_code: 'CN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country_code: 'CN',"}}
[info] >      province_code: 'AH' {"user":"    province_code: 'AH'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province_code: 'AH'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    customer: { {"user":"  customer: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer: {"}}
[info] >      id: 6957110395113, {"user":"    id: 6957110395113,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 6957110395113,"}}
[info] >      email: 'test@gmail.com', {"user":"    email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test@gmail.com',"}}
[info] >      accepts_marketing: false, {"user":"    accepts_marketing: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     accepts_marketing: false,"}}
[info] >      created_at: '2023-10-26T02:51:22-07:00', {"user":"    created_at: '2023-10-26T02:51:22-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-26T02:51:22-07:00',"}}
[info] >      updated_at: '2023-10-31T09:30:23-07:00', {"user":"    updated_at: '2023-10-31T09:30:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:30:23-07:00',"}}
[info] >      first_name: null, {"user":"    first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     first_name: null,"}}
[info] >      last_name: 'Test', {"user":"    last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_name: 'Test',"}}
[info] >      state: 'disabled', {"user":"    state: 'disabled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     state: 'disabled',"}}
[info] >      note: null, {"user":"    note: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     note: null,"}}
[info] >      verified_email: true, {"user":"    verified_email: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     verified_email: true,"}}
[info] >      multipass_identifier: null, {"user":"    multipass_identifier: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     multipass_identifier: null,"}}
[info] >      tax_exempt: false, {"user":"    tax_exempt: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     tax_exempt: false,"}}
[info] >      phone: null, {"user":"    phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: null,"}}
[info] >      email_marketing_consent: { {"user":"    email_marketing_consent: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     email_marketing_consent: {"}}
[info] >        state: 'not_subscribed', {"user":"      state: 'not_subscribed',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       state: 'not_subscribed',"}}
[info] >        opt_in_level: 'single_opt_in', {"user":"      opt_in_level: 'single_opt_in',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       opt_in_level: 'single_opt_in',"}}
[info] >        consent_updated_at: null {"user":"      consent_updated_at: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       consent_updated_at: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      sms_marketing_consent: null, {"user":"    sms_marketing_consent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     sms_marketing_consent: null,"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      currency: 'CNY', {"user":"    currency: 'CNY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     currency: 'CNY',"}}
[info] >      accepts_marketing_updated_at: '2023-10-26T02:51:22-07:00', {"user":"    accepts_marketing_updated_at: '2023-10-26T02:51:22-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     accepts_marketing_updated_at: '2023-10-26T02:51:22-07:00',"}}
[info] >      marketing_opt_in_level: null, {"user":"    marketing_opt_in_level: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     marketing_opt_in_level: null,"}}
[info] >      tax_exemptions: [], {"user":"    tax_exemptions: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     tax_exemptions: [],"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Customer/6957110395113', {"user":"    admin_graphql_api_id: 'gid://shopify/Customer/6957110395113',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Customer/6957110395113',"}}
[info] >      default_address: { {"user":"    default_address: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     default_address: {"}}
[info] >        id: 8572475146473, {"user":"      id: 8572475146473,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 8572475146473,"}}
[info] >        customer_id: 6957110395113, {"user":"      customer_id: 6957110395113,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       customer_id: 6957110395113,"}}
[info] >        first_name: null, {"user":"      first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       first_name: null,"}}
[info] >        last_name: 'Test', {"user":"      last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       last_name: 'Test',"}}
[info] >        company: null, {"user":"      company: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       company: null,"}}
[info] >        address1: 'test', {"user":"      address1: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       address1: 'test',"}}
[info] >        address2: null, {"user":"      address2: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       address2: null,"}}
[info] >        city: 'test', {"user":"      city: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       city: 'test',"}}
[info] >        province: 'Anhui', {"user":"      province: 'Anhui',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       province: 'Anhui',"}}
[info] >        country: 'China', {"user":"      country: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       country: 'China',"}}
[info] >        zip: '111222', {"user":"      zip: '111222',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       zip: '111222',"}}
[info] >        phone: null, {"user":"      phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: null,"}}
[info] >        name: 'Test', {"user":"      name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'Test',"}}
[info] >        province_code: 'AH', {"user":"      province_code: 'AH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       province_code: 'AH',"}}
[info] >        country_code: 'CN', {"user":"      country_code: 'CN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       country_code: 'CN',"}}
[info] >        country_name: 'China', {"user":"      country_name: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       country_name: 'China',"}}
[info] >        default: true {"user":"      default: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       default: true"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    discount_applications: [ {"user":"  discount_applications: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   discount_applications: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        target_type: 'line_item', {"user":"      target_type: 'line_item',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       target_type: 'line_item',"}}
[info] >        type: 'discount_code', {"user":"      type: 'discount_code',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'discount_code',"}}
[info] >        value: '100.0', {"user":"      value: '100.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       value: '100.0',"}}
[info] >        value_type: 'percentage', {"user":"      value_type: 'percentage',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       value_type: 'percentage',"}}
[info] >        allocation_method: 'across', {"user":"      allocation_method: 'across',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       allocation_method: 'across',"}}
[info] >        target_selection: 'entitled', {"user":"      target_selection: 'entitled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       target_selection: 'entitled',"}}
[info] >        code: 'IO7pKnt4' {"user":"      code: 'IO7pKnt4'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       code: 'IO7pKnt4'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    fulfillments: [], {"user":"  fulfillments: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   fulfillments: [],"}}
[info] >    line_items: [ {"user":"  line_items: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   line_items: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 13427374981353, {"user":"      id: 13427374981353,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 13427374981353,"}}
[info] >        admin_graphql_api_id: 'gid://shopify/LineItem/13427374981353', {"user":"      admin_graphql_api_id: 'gid://shopify/LineItem/13427374981353',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/LineItem/13427374981353',"}}
[info] >        attributed_staffs: [], {"user":"      attributed_staffs: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       attributed_staffs: [],"}}
[info] >        fulfillable_quantity: 1, {"user":"      fulfillable_quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       fulfillable_quantity: 1,"}}
[info] >        fulfillment_service: 'manual', {"user":"      fulfillment_service: 'manual',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       fulfillment_service: 'manual',"}}
[info] >        fulfillment_status: null, {"user":"      fulfillment_status: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       fulfillment_status: null,"}}
[info] >        gift_card: false, {"user":"      gift_card: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       gift_card: false,"}}
[info] >        grams: 100, {"user":"      grams: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       grams: 100,"}}
[info] >        name: 'Red T-shirt', {"user":"      name: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'Red T-shirt',"}}
[info] >        price: '10.00', {"user":"      price: '10.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price: '10.00',"}}
[info] >        price_set: [Object], {"user":"      price_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price_set: [Object],"}}
[info] >        product_exists: true, {"user":"      product_exists: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_exists: true,"}}
[info] >        product_id: 8224569655529, {"user":"      product_id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569655529,"}}
[info] >        properties: [], {"user":"      properties: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       properties: [],"}}
[info] >        quantity: 1, {"user":"      quantity: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       quantity: 1,"}}
[info] >        requires_shipping: true, {"user":"      requires_shipping: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       requires_shipping: true,"}}
[info] >        sku: '', {"user":"      sku: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       sku: '',"}}
[info] >        taxable: true, {"user":"      taxable: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       taxable: true,"}}
[info] >        title: 'Red T-shirt', {"user":"      title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'Red T-shirt',"}}
[info] >        total_discount: '0.00', {"user":"      total_discount: '0.00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       total_discount: '0.00',"}}
[info] >        total_discount_set: [Object], {"user":"      total_discount_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       total_discount_set: [Object],"}}
[info] >        variant_id: 45876651884777, {"user":"      variant_id: 45876651884777,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_id: 45876651884777,"}}
[info] >        variant_inventory_management: 'shopify', {"user":"      variant_inventory_management: 'shopify',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_inventory_management: 'shopify',"}}
[info] >        variant_title: null, {"user":"      variant_title: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_title: null,"}}
[info] >        vendor: 'coflow-test', {"user":"      vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       vendor: 'coflow-test',"}}
[info] >        tax_lines: [Array], {"user":"      tax_lines: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       tax_lines: [Array],"}}
[info] >        duties: [], {"user":"      duties: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       duties: [],"}}
[info] >        discount_allocations: [Array] {"user":"      discount_allocations: [Array]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discount_allocations: [Array]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    payment_terms: null, {"user":"  payment_terms: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_terms: null,"}}
[info] >    refunds: [], {"user":"  refunds: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   refunds: [],"}}
[info] >    shipping_address: { {"user":"  shipping_address: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_address: {"}}
[info] >      first_name: null, {"user":"    first_name: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     first_name: null,"}}
[info] >      address1: 'test', {"user":"    address1: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address1: 'test',"}}
[info] >      phone: null, {"user":"    phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     phone: null,"}}
[info] >      city: 'test', {"user":"    city: 'test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     city: 'test',"}}
[info] >      zip: '111222', {"user":"    zip: '111222',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     zip: '111222',"}}
[info] >      province: 'Anhui', {"user":"    province: 'Anhui',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province: 'Anhui',"}}
[info] >      country: 'China', {"user":"    country: 'China',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country: 'China',"}}
[info] >      last_name: 'Test', {"user":"    last_name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_name: 'Test',"}}
[info] >      address2: null, {"user":"    address2: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     address2: null,"}}
[info] >      company: null, {"user":"    company: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     company: null,"}}
[info] >      latitude: null, {"user":"    latitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     latitude: null,"}}
[info] >      longitude: null, {"user":"    longitude: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     longitude: null,"}}
[info] >      name: 'Test', {"user":"    name: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     name: 'Test',"}}
[info] >      country_code: 'CN', {"user":"    country_code: 'CN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     country_code: 'CN',"}}
[info] >      province_code: 'AH' {"user":"    province_code: 'AH'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     province_code: 'AH'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    shipping_lines: [ {"user":"  shipping_lines: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   shipping_lines: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        id: 4402528977129, {"user":"      id: 4402528977129,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 4402528977129,"}}
[info] >        carrier_identifier: '2ffa3e5d7e0311e260c10350738dd1f0', {"user":"      carrier_identifier: '2ffa3e5d7e0311e260c10350738dd1f0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       carrier_identifier: '2ffa3e5d7e0311e260c10350738dd1f0',"}}
[info] >        code: 'Standard', {"user":"      code: 'Standard',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       code: 'Standard',"}}
[info] >        discounted_price: '4.95', {"user":"      discounted_price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discounted_price: '4.95',"}}
[info] >        discounted_price_set: [Object], {"user":"      discounted_price_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discounted_price_set: [Object],"}}
[info] >        phone: null, {"user":"      phone: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: null,"}}
[info] >        price: '4.95', {"user":"      price: '4.95',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price: '4.95',"}}
[info] >        price_set: [Object], {"user":"      price_set: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       price_set: [Object],"}}
[info] >        requested_fulfillment_service_id: null, {"user":"      requested_fulfillment_service_id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       requested_fulfillment_service_id: null,"}}
[info] >        source: 'shopify', {"user":"      source: 'shopify',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       source: 'shopify',"}}
[info] >        title: 'Standard', {"user":"      title: 'Standard',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       title: 'Standard',"}}
[info] >        tax_lines: [], {"user":"      tax_lines: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       tax_lines: [],"}}
[info] >        discount_allocations: [] {"user":"      discount_allocations: []","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m       discount_allocations: []"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ] {"user":"  ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  ===== orderInfo:  { {"user":"===== orderInfo:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== orderInfo:  {"}}
[info] >    userId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  userId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   userId: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    userEmail: 'test@gmail.com', {"user":"  userEmail: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   userEmail: 'test@gmail.com',"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    financialStatus: 'paid', {"user":"  financialStatus: 'paid',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   financialStatus: 'paid',"}}
[info] >    orderId: 'b38e4b10dce09efb778493edc59e0631', {"user":"  orderId: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   orderId: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >    orderNumber: 1009, {"user":"  orderNumber: 1009,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   orderNumber: 1009,"}}
[info] >    totalPrice: 4.95 {"user":"  totalPrice: 4.95","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m   totalPrice: 4.95"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-10-31T16:31:36.780Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-handleShopifyCheckoutSuccess" in 580.673552ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Finished \"us-central1-handleShopifyCheckoutSuccess\" in 580.673552ms"}}
[debug] [2023-10-31T16:31:36.781Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: IDLE"}}
[debug] [2023-10-31T16:31:36.781Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T16:31:36.781Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T16:31:36.781Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T16:41:44.789Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:41:45.792Z] Validating nodejs source
[debug] [2023-10-31T16:41:50.785Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:41:50.785Z] Building nodejs source
[debug] [2023-10-31T16:41:50.785Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:41:50.786Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:41:50.787Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8997

[debug] [2023-10-31T16:41:51.497Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:41:51.509Z] [worker-pool] Shutting down IDLE worker (us-central1-createCheckout) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createCheckout)"}}
[debug] [2023-10-31T16:41:51.509Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: FINISHING"}}
[debug] [2023-10-31T16:41:51.510Z] [worker-pool] Shutting down IDLE worker (us-central1-handleShopifyCheckoutSuccess) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-handleShopifyCheckoutSuccess)"}}
[debug] [2023-10-31T16:41:51.510Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: FINISHING"}}
[debug] [2023-10-31T16:41:51.520Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: exited"}}
[debug] [2023-10-31T16:41:51.520Z] [worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createCheckout"},"extension":{},"message":"[worker-us-central1-createCheckout-39e8e05e-affe-4d17-836f-23eda981f0ff]: FINISHED"}}
[debug] [2023-10-31T16:41:51.522Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: exited"}}
[debug] [2023-10-31T16:41:51.522Z] [worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-handleShopifyCheckoutSuccess"},"extension":{},"message":"[worker-us-central1-handleShopifyCheckoutSuccess-38526369-45e3-4db0-9fab-bfecf0dba239]: FINISHED"}}
[debug] [2023-10-31T16:41:56.165Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:41:57.167Z] Validating nodejs source
[debug] [2023-10-31T16:41:58.997Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:41:58.997Z] Building nodejs source
[debug] [2023-10-31T16:41:58.997Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:41:58.998Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:41:58.999Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8513

[debug] [2023-10-31T16:41:59.445Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:48:55.895Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:48:56.897Z] Validating nodejs source
[debug] [2023-10-31T16:48:58.914Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:48:58.914Z] Building nodejs source
[debug] [2023-10-31T16:48:58.914Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:48:58.915Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:48:58.916Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8609

[debug] [2023-10-31T16:48:59.325Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:51:58.064Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:51:59.065Z] Validating nodejs source
[debug] [2023-10-31T16:52:01.197Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:52:01.197Z] Building nodejs source
[debug] [2023-10-31T16:52:01.197Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:52:01.198Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:52:01.198Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8781

[debug] [2023-10-31T16:52:01.720Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:55:11.268Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:55:12.271Z] Validating nodejs source
[debug] [2023-10-31T16:55:14.707Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:55:14.708Z] Building nodejs source
[debug] [2023-10-31T16:55:14.708Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:55:14.708Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:55:14.709Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8023

[debug] [2023-10-31T16:55:15.148Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:56:52.632Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:56:53.634Z] Validating nodejs source
[debug] [2023-10-31T16:56:55.503Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:56:55.503Z] Building nodejs source
[debug] [2023-10-31T16:56:55.503Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:56:55.504Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:56:55.505Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8526

[debug] [2023-10-31T16:56:56.019Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:57:29.461Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:57:30.462Z] Validating nodejs source
[debug] [2023-10-31T16:57:32.865Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:57:32.865Z] Building nodejs source
[debug] [2023-10-31T16:57:32.865Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:57:32.866Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:57:32.867Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8723

[debug] [2023-10-31T16:57:33.338Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T16:59:22.998Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T16:59:23.999Z] Validating nodejs source
[debug] [2023-10-31T16:59:25.818Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T16:59:25.818Z] Building nodejs source
[debug] [2023-10-31T16:59:25.818Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T16:59:25.819Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T16:59:25.820Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8036

[debug] [2023-10-31T16:59:26.248Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T17:01:32.325Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T17:01:33.327Z] Validating nodejs source
[debug] [2023-10-31T17:01:38.493Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T17:01:38.494Z] Building nodejs source
[debug] [2023-10-31T17:01:38.494Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T17:01:38.496Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T17:01:38.497Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8303

[debug] [2023-10-31T17:01:39.009Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T17:01:43.503Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T17:01:43.503Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T17:01:43.503Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T17:01:43.503Z"],"workRunningCount":1}
[debug] [2023-10-31T17:01:43.503Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T17:01:43.509Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T17:01:43.510Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T17:01:43.510Z] [worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createCheckout: 1 --> 0"}}
[debug] [2023-10-31T17:01:43.510Z] [worker-pool] Cleaned up workers for us-central1-handleShopifyCheckoutSuccess: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-handleShopifyCheckoutSuccess: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T17:01:43.516Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T17:01:43.516Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T17:01:45.416Z] [runtime-status] [88100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T17:01:45.418Z] [runtime-status] [88100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T17:01:45.418Z] [runtime-status] [88100] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T17:01:45.419Z] [runtime-status] [88100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T17:01:45.591Z] [runtime-status] [88100] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T17:01:45.592Z] [runtime-status] [88100] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T17:01:45.592Z] [runtime-status] [88100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T17:01:45.593Z] [runtime-status] [88100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T17:01:45.595Z] [runtime-status] [88100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T17:01:45.595Z] [runtime-status] [88100] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T17:01:45.597Z] [runtime-status] [88100] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T17:01:45.652Z] [runtime-status] [88100] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T17:01:45.653Z] [runtime-status] [88100] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b3d072b0a0418c21.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [88100] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b3d072b0a0418c21.sock"}}
[debug] [2023-10-31T17:01:45.745Z] [worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: IDLE"}}
[debug] [2023-10-31T17:01:45.746Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T17:01:45.746Z] [worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== res.body:  [ {"user":"===== res.body:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res.body:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221764026601, {"user":"    id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221764026601,"}}
[info] >      title: 'Blue T-shirt', {"user":"    title: 'Blue T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Blue T-shirt',"}}
[info] >      body_html: 'This is blue t-shirt.', {"user":"    body_html: 'This is blue t-shirt.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is blue t-shirt.',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-25T05:42:00-07:00', {"user":"    created_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      handle: 'blue-t-shirt', {"user":"    handle: 'blue-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'blue-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:19-07:00', {"user":"    updated_at: '2023-10-30T09:09:19-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:19-07:00',"}}
[info] >      published_at: '2023-10-25T05:42:00-07:00', {"user":"    published_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221764026601', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221764026601',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221764026601',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8221764026601, {"user":"      product_id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221764026601,"}}
[info] >        id: 41529361793257, {"user":"      id: 41529361793257,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41529361793257,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T05:42:02-07:00', {"user":"      created_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        updated_at: '2023-10-25T05:42:02-07:00', {"user":"      updated_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 220, {"user":"      width: 220,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 220,"}}
[info] >        height: 255, {"user":"      height: 255,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 255,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224072794345, {"user":"    id: 8224072794345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224072794345,"}}
[info] >      title: 'Donation', {"user":"    title: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Donation',"}}
[info] >      body_html: 'This is donation product', {"user":"    body_html: 'This is donation product',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is donation product',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Donation', {"user":"    product_type: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Donation',"}}
[info] >      created_at: '2023-10-26T08:11:12-07:00', {"user":"    created_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      handle: 'donation', {"user":"    handle: 'donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'donation',"}}
[info] >      updated_at: '2023-10-27T04:21:09-07:00', {"user":"    updated_at: '2023-10-27T04:21:09-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T04:21:09-07:00',"}}
[info] >      published_at: '2023-10-26T08:11:12-07:00', {"user":"    published_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224072794345', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224072794345',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224072794345',"}}
[info] >      variants: [ {"user":"    variants: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: ["}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object] {"user":"      [Object], [Object], [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object]"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [], {"user":"    images: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [],"}}
[info] >      image: null {"user":"    image: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569655529, {"user":"    id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569655529,"}}
[info] >      title: 'Red T-shirt', {"user":"    title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Red T-shirt',"}}
[info] >      body_html: 'Red T-shirt', {"user":"    body_html: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'Red T-shirt',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:49:35-07:00', {"user":"    created_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      handle: 'red-t-shirt', {"user":"    handle: 'red-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'red-t-shirt',"}}
[info] >      updated_at: '2023-10-31T09:36:14-07:00', {"user":"    updated_at: '2023-10-31T09:36:14-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:36:14-07:00',"}}
[info] >      published_at: '2023-10-27T07:49:35-07:00', {"user":"    published_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569655529', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569655529',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8224569655529, {"user":"      product_id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569655529,"}}
[info] >        id: 41537285783785, {"user":"      id: 41537285783785,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537285783785,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:49:37-07:00', {"user":"      created_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        updated_at: '2023-10-27T07:49:37-07:00', {"user":"      updated_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 637, {"user":"      width: 637,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 637,"}}
[info] >        height: 640, {"user":"      height: 640,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 640,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221471211753, {"user":"    id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221471211753,"}}
[info] >      title: 'T Shirt', {"user":"    title: 'T Shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T Shirt',"}}
[info] >      body_html: 'This is best t-shirt for you', {"user":"    body_html: 'This is best t-shirt for you',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is best t-shirt for you',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: '', {"user":"    product_type: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: '',"}}
[info] >      created_at: '2023-10-25T01:51:02-07:00', {"user":"    created_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      handle: 't-shirt', {"user":"    handle: 't-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt',"}}
[info] >      updated_at: '2023-10-31T04:30:48-07:00', {"user":"    updated_at: '2023-10-31T04:30:48-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T04:30:48-07:00',"}}
[info] >      published_at: '2023-10-25T01:51:02-07:00', {"user":"    published_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221471211753', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221471211753',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221471211753',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8221471211753, {"user":"      product_id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221471211753,"}}
[info] >        id: 41527310024937, {"user":"      id: 41527310024937,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41527310024937,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T01:51:04-07:00', {"user":"      created_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        updated_at: '2023-10-25T01:51:04-07:00', {"user":"      updated_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 960, {"user":"      width: 960,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 960,"}}
[info] >        height: 1456, {"user":"      height: 1456,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1456,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569819369, {"user":"    id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569819369,"}}
[info] >      title: 'T-shirt Yellow', {"user":"    title: 'T-shirt Yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T-shirt Yellow',"}}
[info] >      body_html: 'T-shirt yellow', {"user":"    body_html: 'T-shirt yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'T-shirt yellow',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:51:51-07:00', {"user":"    created_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      handle: 't-shirt-yellow', {"user":"    handle: 't-shirt-yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt-yellow',"}}
[info] >      updated_at: '2023-10-30T09:08:50-07:00', {"user":"    updated_at: '2023-10-30T09:08:50-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:08:50-07:00',"}}
[info] >      published_at: '2023-10-27T07:51:51-07:00', {"user":"    published_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569819369', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569819369',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569819369',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537292796137, {"user":"      id: 41537292796137,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537292796137,"}}
[info] >        product_id: 8224569819369, {"user":"      product_id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569819369,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:51:53-07:00', {"user":"      created_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        updated_at: '2023-10-27T07:51:53-07:00', {"user":"      updated_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 927, {"user":"      width: 927,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 927,"}}
[info] >        height: 1000, {"user":"      height: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1000,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-10-31T17:01:52.356Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 6610.208689ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 6610.208689ms"}}
[debug] [2023-10-31T17:01:52.356Z] [worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: IDLE"}}
[debug] [2023-10-31T17:01:52.356Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T17:01:52.356Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T17:01:52.356Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T17:19:35.624Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-10-31T17:19:36.626Z] Validating nodejs source
[debug] [2023-10-31T17:19:38.680Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T17:19:38.680Z] Building nodejs source
[debug] [2023-10-31T17:19:38.680Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T17:19:38.681Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T17:19:38.682Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8624

[debug] [2023-10-31T17:19:39.166Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T17:19:39.180Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T17:19:39.180Z] [worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: FINISHING"}}
[debug] [2023-10-31T17:19:39.191Z] [worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: exited"}}
[debug] [2023-10-31T17:19:39.191Z] [worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-f5ece05f-2d45-4850-86af-cfabb635eb00]: FINISHED"}}
[debug] [2023-10-31T17:19:58.909Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T17:19:59.910Z] Validating nodejs source
[debug] [2023-10-31T17:20:02.041Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T17:20:02.042Z] Building nodejs source
[debug] [2023-10-31T17:20:02.042Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T17:20:02.042Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T17:20:02.043Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8563

[debug] [2023-10-31T17:20:02.460Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:16:03.714Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T21:16:04.716Z] Validating nodejs source
[debug] [2023-10-31T21:16:06.766Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T21:16:06.767Z] Building nodejs source
[debug] [2023-10-31T21:16:06.767Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:16:06.768Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T21:16:06.769Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8408

[debug] [2023-10-31T21:16:07.501Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:16:30.663Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T21:16:30.663Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T21:16:30.663Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T21:16:30.663Z"],"workRunningCount":1}
[debug] [2023-10-31T21:16:30.663Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T21:16:30.666Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T21:16:30.666Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T21:16:30.667Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:16:30.670Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T21:16:30.670Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T21:16:32.684Z] [runtime-status] [95612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T21:16:32.685Z] [runtime-status] [95612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:16:32.686Z] [runtime-status] [95612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T21:16:32.688Z] [runtime-status] [95612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:16:32.885Z] [runtime-status] [95612] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T21:16:32.885Z] [runtime-status] [95612] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T21:16:32.885Z] [runtime-status] [95612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:16:32.887Z] [runtime-status] [95612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T21:16:32.889Z] [runtime-status] [95612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:16:32.889Z] [runtime-status] [95612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T21:16:32.891Z] [runtime-status] [95612] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T21:16:32.949Z] [runtime-status] [95612] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T21:16:32.949Z] [runtime-status] [95612] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_e904b5fdffbf7007.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [95612] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_e904b5fdffbf7007.sock"}}
[debug] [2023-10-31T21:16:33.003Z] [worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: IDLE"}}
[debug] [2023-10-31T21:16:33.003Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T21:16:33.004Z] [worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== users:  QuerySnapshot { {"user":"===== users:  QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== users:  QuerySnapshot {"}}
[info] >    _query: CollectionReference { {"user":"  _query: CollectionReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: CollectionReference {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'coflow-v1', {"user":"      _projectId: 'coflow-v1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'coflow-v1',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'users', {"user":"      collectionId: 'users',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'users',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [], {"user":"      filters: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [],"}}
[info] >        fieldOrders: [], {"user":"      fieldOrders: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false {"user":"    _allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1698786996, _nanoseconds: 464116000 }, {"user":"  _readTime: Timestamp { _seconds: 1698786996, _nanoseconds: 464116000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1698786996, _nanoseconds: 464116000 },"}}
[info] >    _size: 6, {"user":"  _size: 6,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 6,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  ===== options:  { {"user":"===== options:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== options:  {"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      'X-Shopify-Access-Token': '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', {"user":"    'X-Shopify-Access-Token': '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',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     'X-Shopify-Access-Token': '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',"}}
[info] >      'Content-Type': 'application/json' {"user":"    'Content-Type': 'application/json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     'Content-Type': 'application/json'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    method: 'GET', {"user":"  method: 'GET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   method: 'GET',"}}
[info] >    responseType: 'json' {"user":"  responseType: 'json'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   responseType: 'json'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== res.body:  [ {"user":"===== res.body:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res.body:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221764026601, {"user":"    id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221764026601,"}}
[info] >      title: 'Blue T-shirt', {"user":"    title: 'Blue T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Blue T-shirt',"}}
[info] >      body_html: 'This is blue t-shirt.', {"user":"    body_html: 'This is blue t-shirt.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is blue t-shirt.',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-25T05:42:00-07:00', {"user":"    created_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      handle: 'blue-t-shirt', {"user":"    handle: 'blue-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'blue-t-shirt',"}}
[info] >      updated_at: '2023-10-30T09:09:19-07:00', {"user":"    updated_at: '2023-10-30T09:09:19-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:09:19-07:00',"}}
[info] >      published_at: '2023-10-25T05:42:00-07:00', {"user":"    published_at: '2023-10-25T05:42:00-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T05:42:00-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221764026601', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221764026601',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221764026601',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41529361793257, {"user":"      id: 41529361793257,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41529361793257,"}}
[info] >        product_id: 8221764026601, {"user":"      product_id: 8221764026601,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221764026601,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T05:42:02-07:00', {"user":"      created_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        updated_at: '2023-10-25T05:42:02-07:00', {"user":"      updated_at: '2023-10-25T05:42:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T05:42:02-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 220, {"user":"      width: 220,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 220,"}}
[info] >        height: 255, {"user":"      height: 255,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 255,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/Blue_Tshirt.jpg?v=1698237722',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41529361793257'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224072794345, {"user":"    id: 8224072794345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224072794345,"}}
[info] >      title: 'Donation', {"user":"    title: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Donation',"}}
[info] >      body_html: 'This is donation product', {"user":"    body_html: 'This is donation product',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is donation product',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Donation', {"user":"    product_type: 'Donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Donation',"}}
[info] >      created_at: '2023-10-26T08:11:12-07:00', {"user":"    created_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      handle: 'donation', {"user":"    handle: 'donation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'donation',"}}
[info] >      updated_at: '2023-10-27T04:21:09-07:00', {"user":"    updated_at: '2023-10-27T04:21:09-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-27T04:21:09-07:00',"}}
[info] >      published_at: '2023-10-26T08:11:12-07:00', {"user":"    published_at: '2023-10-26T08:11:12-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-26T08:11:12-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224072794345', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224072794345',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224072794345',"}}
[info] >      variants: [ {"user":"    variants: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: ["}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object], {"user":"      [Object], [Object], [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object],"}}
[info] >        [Object], [Object], [Object] {"user":"      [Object], [Object], [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Object], [Object], [Object]"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [], {"user":"    images: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [],"}}
[info] >      image: null {"user":"    image: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569655529, {"user":"    id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569655529,"}}
[info] >      title: 'Red T-shirt', {"user":"    title: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Red T-shirt',"}}
[info] >      body_html: 'Red T-shirt', {"user":"    body_html: 'Red T-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'Red T-shirt',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:49:35-07:00', {"user":"    created_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      handle: 'red-t-shirt', {"user":"    handle: 'red-t-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 'red-t-shirt',"}}
[info] >      updated_at: '2023-10-31T09:36:14-07:00', {"user":"    updated_at: '2023-10-31T09:36:14-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:36:14-07:00',"}}
[info] >      published_at: '2023-10-27T07:49:35-07:00', {"user":"    published_at: '2023-10-27T07:49:35-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:49:35-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569655529', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569655529',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8224569655529, {"user":"      product_id: 8224569655529,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569655529,"}}
[info] >        id: 41537285783785, {"user":"      id: 41537285783785,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537285783785,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:49:37-07:00', {"user":"      created_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        updated_at: '2023-10-27T07:49:37-07:00', {"user":"      updated_at: '2023-10-27T07:49:37-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:49:37-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 637, {"user":"      width: 637,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 637,"}}
[info] >        height: 640, {"user":"      height: 640,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 640,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/blank-1886008_640.png?v=1698418177',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537285783785'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8221471211753, {"user":"    id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8221471211753,"}}
[info] >      title: 'T Shirt', {"user":"    title: 'T Shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T Shirt',"}}
[info] >      body_html: 'This is best t-shirt for you', {"user":"    body_html: 'This is best t-shirt for you',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'This is best t-shirt for you',"}}
[info] >      vendor: 'My Store', {"user":"    vendor: 'My Store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'My Store',"}}
[info] >      product_type: '', {"user":"    product_type: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: '',"}}
[info] >      created_at: '2023-10-25T01:51:02-07:00', {"user":"    created_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      handle: 't-shirt', {"user":"    handle: 't-shirt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt',"}}
[info] >      updated_at: '2023-10-31T04:30:48-07:00', {"user":"    updated_at: '2023-10-31T04:30:48-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T04:30:48-07:00',"}}
[info] >      published_at: '2023-10-25T01:51:02-07:00', {"user":"    published_at: '2023-10-25T01:51:02-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-25T01:51:02-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8221471211753', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8221471211753',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8221471211753',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        product_id: 8221471211753, {"user":"      product_id: 8221471211753,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8221471211753,"}}
[info] >        id: 41527310024937, {"user":"      id: 41527310024937,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41527310024937,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-25T01:51:04-07:00', {"user":"      created_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        updated_at: '2023-10-25T01:51:04-07:00', {"user":"      updated_at: '2023-10-25T01:51:04-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-25T01:51:04-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 960, {"user":"      width: 960,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 960,"}}
[info] >        height: 1456, {"user":"      height: 1456,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1456,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/hbeu50475285_497_100.jpg?v=1698223864',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41527310024937'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 8224569819369, {"user":"    id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 8224569819369,"}}
[info] >      title: 'T-shirt Yellow', {"user":"    title: 'T-shirt Yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'T-shirt Yellow',"}}
[info] >      body_html: 'T-shirt yellow', {"user":"    body_html: 'T-shirt yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     body_html: 'T-shirt yellow',"}}
[info] >      vendor: 'coflow-test', {"user":"    vendor: 'coflow-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     vendor: 'coflow-test',"}}
[info] >      product_type: 'Reward', {"user":"    product_type: 'Reward',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     product_type: 'Reward',"}}
[info] >      created_at: '2023-10-27T07:51:51-07:00', {"user":"    created_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      handle: 't-shirt-yellow', {"user":"    handle: 't-shirt-yellow',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     handle: 't-shirt-yellow',"}}
[info] >      updated_at: '2023-10-30T09:08:50-07:00', {"user":"    updated_at: '2023-10-30T09:08:50-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-30T09:08:50-07:00',"}}
[info] >      published_at: '2023-10-27T07:51:51-07:00', {"user":"    published_at: '2023-10-27T07:51:51-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_at: '2023-10-27T07:51:51-07:00',"}}
[info] >      template_suffix: '', {"user":"    template_suffix: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     template_suffix: '',"}}
[info] >      published_scope: 'global', {"user":"    published_scope: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     published_scope: 'global',"}}
[info] >      tags: '', {"user":"    tags: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tags: '',"}}
[info] >      status: 'active', {"user":"    status: 'active',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     status: 'active',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/Product/8224569819369', {"user":"    admin_graphql_api_id: 'gid://shopify/Product/8224569819369',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/Product/8224569819369',"}}
[info] >      variants: [ [Object] ], {"user":"    variants: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     variants: [ [Object] ],"}}
[info] >      options: [ [Object] ], {"user":"    options: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: [ [Object] ],"}}
[info] >      images: [ [Object] ], {"user":"    images: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     images: [ [Object] ],"}}
[info] >      image: { {"user":"    image: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     image: {"}}
[info] >        id: 41537292796137, {"user":"      id: 41537292796137,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: 41537292796137,"}}
[info] >        product_id: 8224569819369, {"user":"      product_id: 8224569819369,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       product_id: 8224569819369,"}}
[info] >        position: 1, {"user":"      position: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       position: 1,"}}
[info] >        created_at: '2023-10-27T07:51:53-07:00', {"user":"      created_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       created_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        updated_at: '2023-10-27T07:51:53-07:00', {"user":"      updated_at: '2023-10-27T07:51:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       updated_at: '2023-10-27T07:51:53-07:00',"}}
[info] >        alt: null, {"user":"      alt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       alt: null,"}}
[info] >        width: 927, {"user":"      width: 927,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       width: 927,"}}
[info] >        height: 1000, {"user":"      height: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       height: 1000,"}}
[info] >        src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313', {"user":"      src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       src: 'https://cdn.shopify.com/s/files/1/0668/9377/5081/files/tshirt_204029461_1000.jpg?v=1698418313',"}}
[info] >        variant_ids: [], {"user":"      variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       variant_ids: [],"}}
[info] >        admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137' {"user":"      admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       admin_graphql_api_id: 'gid://shopify/ProductImage/41537292796137'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-10-31T21:16:38.344Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 5340.210553ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 5340.210553ms"}}
[debug] [2023-10-31T21:16:38.344Z] [worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: IDLE"}}
[debug] [2023-10-31T21:16:38.344Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T21:16:38.344Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T21:16:38.344Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T21:26:14.414Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T21:26:15.415Z] Validating nodejs source
[debug] [2023-10-31T21:26:17.056Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T21:26:17.056Z] Building nodejs source
[debug] [2023-10-31T21:26:17.056Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:26:17.057Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T21:26:17.058Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8003

[debug] [2023-10-31T21:26:17.507Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:26:17.521Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T21:26:17.521Z] [worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: FINISHING"}}
[debug] [2023-10-31T21:26:17.533Z] [worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: exited"}}
[debug] [2023-10-31T21:26:17.533Z] [worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-465e1483-188b-4fc1-a1f4-9f61fbb1fcdc]: FINISHED"}}
[debug] [2023-10-31T21:27:24.086Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T21:27:25.088Z] Validating nodejs source
[debug] [2023-10-31T21:27:26.949Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T21:27:26.949Z] Building nodejs source
[debug] [2023-10-31T21:27:26.949Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:27:26.950Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T21:27:26.951Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8091

[debug] [2023-10-31T21:27:27.373Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:27:53.310Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T21:27:54.310Z] Validating nodejs source
[debug] [2023-10-31T21:27:55.775Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T21:27:55.775Z] Building nodejs source
[debug] [2023-10-31T21:27:55.775Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:27:55.776Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T21:27:55.776Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8205

[debug] [2023-10-31T21:27:56.249Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:28:13.699Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/shopifyService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T21:28:14.699Z] Validating nodejs source
[debug] [2023-10-31T21:28:16.301Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T21:28:16.301Z] Building nodejs source
[debug] [2023-10-31T21:28:16.301Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:28:16.302Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T21:28:16.303Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8299

[debug] [2023-10-31T21:28:16.825Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:30:00.216Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-10-31T21:30:01.217Z] Validating nodejs source
[debug] [2023-10-31T21:30:02.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T21:30:02.826Z] Building nodejs source
[debug] [2023-10-31T21:30:02.826Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:30:02.827Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T21:30:02.828Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8823

[debug] [2023-10-31T21:30:03.287Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:30:05.727Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T21:30:05.727Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T21:30:05.727Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T21:30:05.727Z"],"workRunningCount":1}
[debug] [2023-10-31T21:30:05.727Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T21:30:05.730Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T21:30:05.730Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T21:30:05.730Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:30:05.734Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T21:30:05.734Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T21:30:06.675Z] [runtime-status] [96200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T21:30:06.678Z] [runtime-status] [96200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:30:06.678Z] [runtime-status] [96200] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T21:30:06.679Z] [runtime-status] [96200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:30:06.886Z] [runtime-status] [96200] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T21:30:06.886Z] [runtime-status] [96200] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T21:30:06.887Z] [runtime-status] [96200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:30:06.888Z] [runtime-status] [96200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T21:30:06.890Z] [runtime-status] [96200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:30:06.890Z] [runtime-status] [96200] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T21:30:06.893Z] [runtime-status] [96200] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T21:30:06.946Z] [runtime-status] [96200] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T21:30:06.947Z] [runtime-status] [96200] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_46f5a293cb8d1f53.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96200] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_46f5a293cb8d1f53.sock"}}
[debug] [2023-10-31T21:30:06.958Z] [worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: IDLE"}}
[debug] [2023-10-31T21:30:06.958Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T21:30:06.958Z] [worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== user:  QueryDocumentSnapshot { {"user":"===== user:  QueryDocumentSnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== user:  QueryDocumentSnapshot {"}}
[info] >    _fieldsProto: { {"user":"  _fieldsProto: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _fieldsProto: {"}}
[info] >      lastName: { stringValue: '', valueType: 'stringValue' }, {"user":"    lastName: { stringValue: '', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lastName: { stringValue: '', valueType: 'stringValue' },"}}
[info] >      donations: { arrayValue: [Object], valueType: 'arrayValue' }, {"user":"    donations: { arrayValue: [Object], valueType: 'arrayValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donations: { arrayValue: [Object], valueType: 'arrayValue' },"}}
[info] >      avatar: { stringValue: '', valueType: 'stringValue' }, {"user":"    avatar: { stringValue: '', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     avatar: { stringValue: '', valueType: 'stringValue' },"}}
[info] >      firstName: { stringValue: '', valueType: 'stringValue' }, {"user":"    firstName: { stringValue: '', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     firstName: { stringValue: '', valueType: 'stringValue' },"}}
[info] >      referrer: { stringValue: '', valueType: 'stringValue' }, {"user":"    referrer: { stringValue: '', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrer: { stringValue: '', valueType: 'stringValue' },"}}
[info] >      referralCode: { stringValue: '1698329747674', valueType: 'stringValue' }, {"user":"    referralCode: { stringValue: '1698329747674', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referralCode: { stringValue: '1698329747674', valueType: 'stringValue' },"}}
[info] >      id: { {"user":"    id: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: {"}}
[info] >        stringValue: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"      stringValue: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       stringValue: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >        valueType: 'stringValue' {"user":"      valueType: 'stringValue'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       valueType: 'stringValue'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      username: { stringValue: 'Test', valueType: 'stringValue' }, {"user":"    username: { stringValue: 'Test', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     username: { stringValue: 'Test', valueType: 'stringValue' },"}}
[info] >      earned: { mapValue: [Object], valueType: 'mapValue' }, {"user":"    earned: { mapValue: [Object], valueType: 'mapValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     earned: { mapValue: [Object], valueType: 'mapValue' },"}}
[info] >      referrals: { arrayValue: [Object], valueType: 'arrayValue' }, {"user":"    referrals: { arrayValue: [Object], valueType: 'arrayValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrals: { arrayValue: [Object], valueType: 'arrayValue' },"}}
[info] >      points: { integerValue: '550', valueType: 'integerValue' }, {"user":"    points: { integerValue: '550', valueType: 'integerValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     points: { integerValue: '550', valueType: 'integerValue' },"}}
[info] >      email: { stringValue: 'test@gmail.com', valueType: 'stringValue' }, {"user":"    email: { stringValue: 'test@gmail.com', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: { stringValue: 'test@gmail.com', valueType: 'stringValue' },"}}
[info] >      spending: { doubleValue: 4.95, valueType: 'doubleValue' }, {"user":"    spending: { doubleValue: 4.95, valueType: 'doubleValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     spending: { doubleValue: 4.95, valueType: 'doubleValue' },"}}
[info] >      orders: { arrayValue: [Object], valueType: 'arrayValue' }, {"user":"    orders: { arrayValue: [Object], valueType: 'arrayValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     orders: { arrayValue: [Object], valueType: 'arrayValue' },"}}
[info] >      visited: { integerValue: '1698771041965', valueType: 'integerValue' } {"user":"    visited: { integerValue: '1698771041965', valueType: 'integerValue' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     visited: { integerValue: '1698771041965', valueType: 'integerValue' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _ref: DocumentReference { {"user":"  _ref: DocumentReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _ref: DocumentReference {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'coflow-v1', {"user":"      _projectId: 'coflow-v1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'coflow-v1',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _path: ResourcePath { segments: [Array] }, {"user":"    _path: ResourcePath { segments: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _path: ResourcePath { segments: [Array] },"}}
[info] >      _converter: { {"user":"    _converter: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _converter: {"}}
[info] >        toFirestore: [Function: toFirestore], {"user":"      toFirestore: [Function: toFirestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       toFirestore: [Function: toFirestore],"}}
[info] >        fromFirestore: [Function: fromFirestore] {"user":"      fromFirestore: [Function: fromFirestore]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       fromFirestore: [Function: fromFirestore]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _serializer: Serializer { {"user":"  _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _serializer: Serializer {"}}
[info] >      createReference: [Function (anonymous)], {"user":"    createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     createReference: [Function (anonymous)],"}}
[info] >      createInteger: [Function (anonymous)], {"user":"    createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     createInteger: [Function (anonymous)],"}}
[info] >      allowUndefined: false {"user":"    allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowUndefined: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1698787775, _nanoseconds: 484658000 }, {"user":"  _readTime: Timestamp { _seconds: 1698787775, _nanoseconds: 484658000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1698787775, _nanoseconds: 484658000 },"}}
[info] >    _createTime: Timestamp { _seconds: 1698329747, _nanoseconds: 656484000 }, {"user":"  _createTime: Timestamp { _seconds: 1698329747, _nanoseconds: 656484000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _createTime: Timestamp { _seconds: 1698329747, _nanoseconds: 656484000 },"}}
[info] >    _updateTime: Timestamp { _seconds: 1698771042, _nanoseconds: 668934000 } {"user":"  _updateTime: Timestamp { _seconds: 1698771042, _nanoseconds: 668934000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _updateTime: Timestamp { _seconds: 1698771042, _nanoseconds: 668934000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-10-31T21:30:12.354Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 5396.026826ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 5396.026826ms"}}
[debug] [2023-10-31T21:30:12.354Z] [worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: IDLE"}}
[debug] [2023-10-31T21:30:12.354Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T21:30:12.354Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T21:30:12.354Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T21:32:01.604Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-10-31T21:32:02.607Z] Validating nodejs source
[debug] [2023-10-31T21:32:05.346Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-31T21:32:05.346Z] Building nodejs source
[debug] [2023-10-31T21:32:05.346Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:32:05.347Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-31T21:32:05.347Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8801

[debug] [2023-10-31T21:32:05.830Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-10-31T21:32:05.843Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T21:32:05.843Z] [worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: FINISHING"}}
[debug] [2023-10-31T21:32:05.853Z] [worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: exited"}}
[debug] [2023-10-31T21:32:05.853Z] [worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a217caeb-2298-435a-ac66-382eaaa27fd9]: FINISHED"}}
[debug] [2023-10-31T21:32:06.988Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T21:32:06.988Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-31T21:32:06.989Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-10-31T21:32:06.988Z"],"workRunningCount":1}
[debug] [2023-10-31T21:32:06.989Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-10-31T21:32:06.991Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-31T21:32:06.992Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-10-31T21:32:06.992Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-10-31T21:32:06.995Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-10-31T21:32:06.995Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-10-31T21:32:07.886Z] [runtime-status] [96274] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T21:32:07.887Z] [runtime-status] [96274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:32:07.888Z] [runtime-status] [96274] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-31T21:32:07.889Z] [runtime-status] [96274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:32:08.089Z] [runtime-status] [96274] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-31T21:32:08.090Z] [runtime-status] [96274] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-31T21:32:08.090Z] [runtime-status] [96274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:32:08.091Z] [runtime-status] [96274] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-31T21:32:08.093Z] [runtime-status] [96274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-31T21:32:08.093Z] [runtime-status] [96274] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-31T21:32:08.096Z] [runtime-status] [96274] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-10-31T21:32:08.148Z] [runtime-status] [96274] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-10-31T21:32:08.148Z] [runtime-status] [96274] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a51ba4d028e81590.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [96274] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a51ba4d028e81590.sock"}}
[debug] [2023-10-31T21:32:08.217Z] [worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: IDLE"}}
[debug] [2023-10-31T21:32:08.217Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-10-31T21:32:08.217Z] [worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== user:  { {"user":"===== user:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== user:  {"}}
[info] >    lastName: '', {"user":"  lastName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   lastName: '',"}}
[info] >    donations: [], {"user":"  donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   donations: [],"}}
[info] >    avatar: '', {"user":"  avatar: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   avatar: '',"}}
[info] >    firstName: '', {"user":"  firstName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   firstName: '',"}}
[info] >    referrer: '', {"user":"  referrer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   referrer: '',"}}
[info] >    referralCode: '1698329747674', {"user":"  referralCode: '1698329747674',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   referralCode: '1698329747674',"}}
[info] >    id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    username: 'Test', {"user":"  username: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   username: 'Test',"}}
[info] >    earned: { {"user":"  earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   earned: {"}}
[info] >      youtube: false, {"user":"    youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     youtube: false,"}}
[info] >      referral: true, {"user":"    referral: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referral: true,"}}
[info] >      donation2: false, {"user":"    donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donation2: false,"}}
[info] >      tiktok: false, {"user":"    tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tiktok: false,"}}
[info] >      comment: true, {"user":"    comment: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     comment: true,"}}
[info] >      donation1: false, {"user":"    donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donation1: false,"}}
[info] >      instagram: false, {"user":"    instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     instagram: false,"}}
[info] >      family: false {"user":"    family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     family: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ], {"user":"  referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ],"}}
[info] >    points: 550, {"user":"  points: 550,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   points: 550,"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    spending: 4.95, {"user":"  spending: 4.95,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   spending: 4.95,"}}
[info] >    orders: [ {"user":"  orders: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   orders: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        orderNumber: 1009, {"user":"      orderNumber: 1009,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       orderNumber: 1009,"}}
[info] >        orderId: 'b38e4b10dce09efb778493edc59e0631', {"user":"      orderId: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       orderId: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >        totalPrice: 4.95, {"user":"      totalPrice: 4.95,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       totalPrice: 4.95,"}}
[info] >        type: 'product' {"user":"      type: 'product'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'product'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    visited: 1698771041965 {"user":"  visited: 1698771041965","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   visited: 1698771041965"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-10-31T21:32:12.781Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 4564.368171ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 4564.368171ms"}}
[debug] [2023-10-31T21:32:12.782Z] [worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: IDLE"}}
[debug] [2023-10-31T21:32:12.782Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-31T21:32:12.782Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-31T21:32:12.782Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:14:06.223Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:14:07.224Z] Validating nodejs source
[debug] [2023-11-01T02:14:09.309Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:14:09.309Z] Building nodejs source
[debug] [2023-11-01T02:14:09.310Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:14:09.310Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:14:09.311Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8646

[debug] [2023-11-01T02:14:09.831Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:14:09.844Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:14:09.844Z] [worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: FINISHING"}}
[debug] [2023-11-01T02:14:09.855Z] [worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: exited"}}
[debug] [2023-11-01T02:14:09.856Z] [worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-cf15d262-23b2-4a16-9bcf-cc6156bc9580]: FINISHED"}}
[debug] [2023-11-01T02:14:50.056Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:14:51.058Z] Validating nodejs source
[debug] [2023-11-01T02:14:52.700Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:14:52.700Z] Building nodejs source
[debug] [2023-11-01T02:14:52.700Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:14:52.701Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:14:52.702Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8655

[debug] [2023-11-01T02:14:53.231Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:14:54.559Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:14:55.561Z] Validating nodejs source
[debug] [2023-11-01T02:14:57.655Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:14:57.655Z] Building nodejs source
[debug] [2023-11-01T02:14:57.655Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:14:57.656Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:14:57.656Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8334

[debug] [2023-11-01T02:14:58.114Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:15:01.009Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:15:01.009Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:15:01.009Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:15:01.009Z"],"workRunningCount":1}
[debug] [2023-11-01T02:15:01.009Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-11-01T02:15:01.012Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T02:15:01.012Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-11-01T02:15:01.012Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:15:01.017Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:15:01.017Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-11-01T02:15:01.857Z] [runtime-status] [4917] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:15:01.858Z] [runtime-status] [4917] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:01.859Z] [runtime-status] [4917] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T02:15:01.860Z] [runtime-status] [4917] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:02.035Z] [runtime-status] [4917] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T02:15:02.035Z] [runtime-status] [4917] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T02:15:02.036Z] [runtime-status] [4917] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:02.037Z] [runtime-status] [4917] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:15:02.039Z] [runtime-status] [4917] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:02.039Z] [runtime-status] [4917] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T02:15:02.041Z] [runtime-status] [4917] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T02:15:02.087Z] [runtime-status] [4917] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T02:15:02.087Z] [runtime-status] [4917] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_0f4a1b51938456b7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4917] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_0f4a1b51938456b7.sock"}}
[debug] [2023-11-01T02:15:02.139Z] [worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: IDLE"}}
[debug] [2023-11-01T02:15:02.140Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-11-01T02:15:02.140Z] [worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== users:  [ {"user":"===== users:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== users:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      lastName: 'Rousseau', {"user":"    lastName: 'Rousseau',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lastName: 'Rousseau',"}}
[info] >      donations: [], {"user":"    donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donations: [],"}}
[info] >      avatar: 'https://lh3.googleusercontent.com/a-/ALV-UjVveLSkl37l3ylgVdmOG1tLbdE2K1TLP5_o_tl9CTD2EyV2tl426ftfHxZSrr1JSqGwI7SeDataKp7wfWSllAxeymG4FbZCN_n4eXX8YlUJDu1cCLhiU0MEBA262x-UNpAI62g8xoJCFMjdMzqL6MjEX6i1TVDv3chMidFafWZZIdGz0_oPx6itEth7IV63Y4dQBoMP93jt9C3iY_9MFyQkCfWA_qAKsBmL2p2Q8d_w8Dr6H8OBJ5qc57eFdPsm0H6Sqfsmku2WEhfCllER1wYCA5jmkcWoqQ7byBPxlEopVuy7Yojs75DBzA9IVUF1UIXItEiWOTK4Ozdi0FLlCTRLgNHHdTNMwQxjavsH7TaGJoEdkV2Kvp9yxQux_SamIwZM7m0cYVmEe55yvGovCyjqBwNoih2xrClfgMBYZ1LCQ9tsZw-ohzbLg5oyzjebsEcaP8mUCbP86qMQHijTIi3UrI-p-EhXc1ZkU3WL9kWm4oWzPakAdXxD1H0uREJzuEMomXywTeBRmPqJ5sHjSmju-vdiS9jc2xqWLFe6_-0pTvwrlw4oZKdzrqXhXpe_RsYDvHIrCm5C3rG6KJGsbq91TFBjWklVMkdZi97XpuQ0Wnj7X5oisvbK8nZ6LjOx0HBpe4e0jqMmeFWgAeVzMtfmHefmkOdOI_V-SDUriIM_SBh2Epl2Ac6qh9OMNUKV9pxcVlZDV02fihHkiwwL9G5TFcTC15GOT2x-aGq3KZ6TUMG1teh5RLOq9gqOsJPByd_TXoJd9tcfGD20R2kVMiw7Xc3pJaNMLqH3C6qFSg5HS4d_tnhykgInKMsKseSIfU0_DXU7eGbl9Qa5ztAGyK7P-7TVaKqWu5mSKmspwGHYloE5k9BR7tR2Ln-xPY7jvTE_gWUYf2zLdf7DDVQxVe-11ipWByFv1D-F2Uf0pdgKGqcxKaPtU0SEbZiqb3nV8w=s96-c', {"user":"    avatar: 'https://lh3.googleusercontent.com/a-/ALV-UjVveLSkl37l3ylgVdmOG1tLbdE2K1TLP5_o_tl9CTD2EyV2tl426ftfHxZSrr1JSqGwI7SeDataKp7wfWSllAxeymG4FbZCN_n4eXX8YlUJDu1cCLhiU0MEBA262x-UNpAI62g8xoJCFMjdMzqL6MjEX6i1TVDv3chMidFafWZZIdGz0_oPx6itEth7IV63Y4dQBoMP93jt9C3iY_9MFyQkCfWA_qAKsBmL2p2Q8d_w8Dr6H8OBJ5qc57eFdPsm0H6Sqfsmku2WEhfCllER1wYCA5jmkcWoqQ7byBPxlEopVuy7Yojs75DBzA9IVUF1UIXItEiWOTK4Ozdi0FLlCTRLgNHHdTNMwQxjavsH7TaGJoEdkV2Kvp9yxQux_SamIwZM7m0cYVmEe55yvGovCyjqBwNoih2xrClfgMBYZ1LCQ9tsZw-ohzbLg5oyzjebsEcaP8mUCbP86qMQHijTIi3UrI-p-EhXc1ZkU3WL9kWm4oWzPakAdXxD1H0uREJzuEMomXywTeBRmPqJ5sHjSmju-vdiS9jc2xqWLFe6_-0pTvwrlw4oZKdzrqXhXpe_RsYDvHIrCm5C3rG6KJGsbq91TFBjWklVMkdZi97XpuQ0Wnj7X5oisvbK8nZ6LjOx0HBpe4e0jqMmeFWgAeVzMtfmHefmkOdOI_V-SDUriIM_SBh2Epl2Ac6qh9OMNUKV9pxcVlZDV02fihHkiwwL9G5TFcTC15GOT2x-aGq3KZ6TUMG1teh5RLOq9gqOsJPByd_TXoJd9tcfGD20R2kVMiw7Xc3pJaNMLqH3C6qFSg5HS4d_tnhykgInKMsKseSIfU0_DXU7eGbl9Qa5ztAGyK7P-7TVaKqWu5mSKmspwGHYloE5k9BR7tR2Ln-xPY7jvTE_gWUYf2zLdf7DDVQxVe-11ipWByFv1D-F2Uf0pdgKGqcxKaPtU0SEbZiqb3nV8w=s96-c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     avatar: 'https://lh3.googleusercontent.com/a-/ALV-UjVveLSkl37l3ylgVdmOG1tLbdE2K1TLP5_o_tl9CTD2EyV2tl426ftfHxZSrr1JSqGwI7SeDataKp7wfWSllAxeymG4FbZCN_n4eXX8YlUJDu1cCLhiU0MEBA262x-UNpAI62g8xoJCFMjdMzqL6MjEX6i1TVDv3chMidFafWZZIdGz0_oPx6itEth7IV63Y4dQBoMP93jt9C3iY_9MFyQkCfWA_qAKsBmL2p2Q8d_w8Dr6H8OBJ5qc57eFdPsm0H6Sqfsmku2WEhfCllER1wYCA5jmkcWoqQ7byBPxlEopVuy7Yojs75DBzA9IVUF1UIXItEiWOTK4Ozdi0FLlCTRLgNHHdTNMwQxjavsH7TaGJoEdkV2Kvp9yxQux_SamIwZM7m0cYVmEe55yvGovCyjqBwNoih2xrClfgMBYZ1LCQ9tsZw-ohzbLg5oyzjebsEcaP8mUCbP86qMQHijTIi3UrI-p-EhXc1ZkU3WL9kWm4oWzPakAdXxD1H0uREJzuEMomXywTeBRmPqJ5sHjSmju-vdiS9jc2xqWLFe6_-0pTvwrlw4oZKdzrqXhXpe_RsYDvHIrCm5C3rG6KJGsbq91TFBjWklVMkdZi97XpuQ0Wnj7X5oisvbK8nZ6LjOx0HBpe4e0jqMmeFWgAeVzMtfmHefmkOdOI_V-SDUriIM_SBh2Epl2Ac6qh9OMNUKV9pxcVlZDV02fihHkiwwL9G5TFcTC15GOT2x-aGq3KZ6TUMG1teh5RLOq9gqOsJPByd_TXoJd9tcfGD20R2kVMiw7Xc3pJaNMLqH3C6qFSg5HS4d_tnhykgInKMsKseSIfU0_DXU7eGbl9Qa5ztAGyK7P-7TVaKqWu5mSKmspwGHYloE5k9BR7tR2Ln-xPY7jvTE_gWUYf2zLdf7DDVQxVe-11ipWByFv1D-F2Uf0pdgKGqcxKaPtU0SEbZiqb3nV8w=s96-c',"}}
[info] >      firstName: 'David', {"user":"    firstName: 'David',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     firstName: 'David',"}}
[info] >      referrer: '', {"user":"    referrer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrer: '',"}}
[info] >      earned: { {"user":"    earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     earned: {"}}
[info] >        youtube: false, {"user":"      youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       youtube: false,"}}
[info] >        referral: false, {"user":"      referral: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       referral: false,"}}
[info] >        donation2: false, {"user":"      donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation2: false,"}}
[info] >        tiktok: false, {"user":"      tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       tiktok: false,"}}
[info] >        donation1: false, {"user":"      donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation1: false,"}}
[info] >        comment: false, {"user":"      comment: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       comment: false,"}}
[info] >        instagram: false, {"user":"      instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: false,"}}
[info] >        family: false {"user":"      family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       family: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      spending: 0, {"user":"    spending: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     spending: 0,"}}
[info] >      referrals: [], {"user":"    referrals: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrals: [],"}}
[info] >      referralCode: '1698422713105', {"user":"    referralCode: '1698422713105',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referralCode: '1698422713105',"}}
[info] >      orders: [], {"user":"    orders: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     orders: [],"}}
[info] >      id: '1hfQjirB3YaVLmKKNWfMp2ZNZDc2', {"user":"    id: '1hfQjirB3YaVLmKKNWfMp2ZNZDc2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: '1hfQjirB3YaVLmKKNWfMp2ZNZDc2',"}}
[info] >      email: 'david@coflow.fr', {"user":"    email: 'david@coflow.fr',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'david@coflow.fr',"}}
[info] >      username: 'David Rousseau', {"user":"    username: 'David Rousseau',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     username: 'David Rousseau',"}}
[info] >      visited: 1698748645053, {"user":"    visited: 1698748645053,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     visited: 1698748645053,"}}
[info] >      points: 20 {"user":"    points: 20","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     points: 20"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      lastName: '', {"user":"    lastName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lastName: '',"}}
[info] >      donations: [], {"user":"    donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donations: [],"}}
[info] >      avatar: '', {"user":"    avatar: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     avatar: '',"}}
[info] >      firstName: '', {"user":"    firstName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     firstName: '',"}}
[info] >      referrer: '1698329747674', {"user":"    referrer: '1698329747674',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrer: '1698329747674',"}}
[info] >      earned: { {"user":"    earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     earned: {"}}
[info] >        youtube: false, {"user":"      youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       youtube: false,"}}
[info] >        referral: false, {"user":"      referral: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       referral: false,"}}
[info] >        donation2: false, {"user":"      donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation2: false,"}}
[info] >        tiktok: false, {"user":"      tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       tiktok: false,"}}
[info] >        donation1: false, {"user":"      donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation1: false,"}}
[info] >        comment: false, {"user":"      comment: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       comment: false,"}}
[info] >        instagram: false, {"user":"      instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: false,"}}
[info] >        family: false {"user":"      family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       family: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      referrals: [], {"user":"    referrals: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrals: [],"}}
[info] >      referralCode: '1698329897876', {"user":"    referralCode: '1698329897876',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referralCode: '1698329897876',"}}
[info] >      id: 'UN3uEfDYiWPXDNItC8WKHrtuVN63', {"user":"    id: 'UN3uEfDYiWPXDNItC8WKHrtuVN63',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'UN3uEfDYiWPXDNItC8WKHrtuVN63',"}}
[info] >      username: 'Test1', {"user":"    username: 'Test1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     username: 'Test1',"}}
[info] >      visited: 1698398158292, {"user":"    visited: 1698398158292,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     visited: 1698398158292,"}}
[info] >      points: 20, {"user":"    points: 20,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     points: 20,"}}
[info] >      spending: '013.80', {"user":"    spending: '013.80',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     spending: '013.80',"}}
[info] >      orders: [ [Object] ], {"user":"    orders: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     orders: [ [Object] ],"}}
[info] >      email: 'test1@gmail.com' {"user":"    email: 'test1@gmail.com'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test1@gmail.com'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      lastName: '', {"user":"    lastName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lastName: '',"}}
[info] >      donations: [], {"user":"    donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donations: [],"}}
[info] >      avatar: '', {"user":"    avatar: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     avatar: '',"}}
[info] >      firstName: '', {"user":"    firstName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     firstName: '',"}}
[info] >      referrer: '', {"user":"    referrer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrer: '',"}}
[info] >      referralCode: '1698329747674', {"user":"    referralCode: '1698329747674',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referralCode: '1698329747674',"}}
[info] >      id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"    id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >      username: 'Test', {"user":"    username: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     username: 'Test',"}}
[info] >      earned: { {"user":"    earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     earned: {"}}
[info] >        youtube: false, {"user":"      youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       youtube: false,"}}
[info] >        referral: true, {"user":"      referral: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       referral: true,"}}
[info] >        donation2: false, {"user":"      donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation2: false,"}}
[info] >        tiktok: false, {"user":"      tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       tiktok: false,"}}
[info] >        comment: true, {"user":"      comment: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       comment: true,"}}
[info] >        donation1: false, {"user":"      donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation1: false,"}}
[info] >        instagram: false, {"user":"      instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: false,"}}
[info] >        family: false {"user":"      family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       family: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ], {"user":"    referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ],"}}
[info] >      points: 550, {"user":"    points: 550,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     points: 550,"}}
[info] >      email: 'test@gmail.com', {"user":"    email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test@gmail.com',"}}
[info] >      spending: 4.95, {"user":"    spending: 4.95,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     spending: 4.95,"}}
[info] >      orders: [ [Object] ], {"user":"    orders: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     orders: [ [Object] ],"}}
[info] >      visited: 1698771041965 {"user":"    visited: 1698771041965","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     visited: 1698771041965"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      lastName: 'Luchkov', {"user":"    lastName: 'Luchkov',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lastName: 'Luchkov',"}}
[info] >      donations: [], {"user":"    donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donations: [],"}}
[info] >      avatar: 'https://lh3.googleusercontent.com/a/ACg8ocJZ7SMUk75N3X1b6XpipkwWafPhfS5j9Ym4fs_Rqkp6=s96-c', {"user":"    avatar: 'https://lh3.googleusercontent.com/a/ACg8ocJZ7SMUk75N3X1b6XpipkwWafPhfS5j9Ym4fs_Rqkp6=s96-c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     avatar: 'https://lh3.googleusercontent.com/a/ACg8ocJZ7SMUk75N3X1b6XpipkwWafPhfS5j9Ym4fs_Rqkp6=s96-c',"}}
[info] >      firstName: 'Vladyslav', {"user":"    firstName: 'Vladyslav',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     firstName: 'Vladyslav',"}}
[info] >      referrer: '', {"user":"    referrer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrer: '',"}}
[info] >      spending: 0, {"user":"    spending: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     spending: 0,"}}
[info] >      referrals: [], {"user":"    referrals: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrals: [],"}}
[info] >      referralCode: '1698329710967', {"user":"    referralCode: '1698329710967',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referralCode: '1698329710967',"}}
[info] >      orders: [], {"user":"    orders: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     orders: [],"}}
[info] >      id: 'biEPgHt8z7dvtOLWCso0LuOzWIa2', {"user":"    id: 'biEPgHt8z7dvtOLWCso0LuOzWIa2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'biEPgHt8z7dvtOLWCso0LuOzWIa2',"}}
[info] >      email: 'vlady.dev127@gmail.com', {"user":"    email: 'vlady.dev127@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'vlady.dev127@gmail.com',"}}
[info] >      username: 'Vladyslav Luchkov', {"user":"    username: 'Vladyslav Luchkov',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     username: 'Vladyslav Luchkov',"}}
[info] >      earned: { {"user":"    earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     earned: {"}}
[info] >        youtube: false, {"user":"      youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       youtube: false,"}}
[info] >        referral: false, {"user":"      referral: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       referral: false,"}}
[info] >        donation2: false, {"user":"      donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation2: false,"}}
[info] >        tiktok: false, {"user":"      tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       tiktok: false,"}}
[info] >        donation1: false, {"user":"      donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation1: false,"}}
[info] >        comment: true, {"user":"      comment: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       comment: true,"}}
[info] >        instagram: false, {"user":"      instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: false,"}}
[info] >        family: false {"user":"      family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       family: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      visited: 1698401325548, {"user":"    visited: 1698401325548,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     visited: 1698401325548,"}}
[info] >      points: 120 {"user":"    points: 120","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     points: 120"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      lastName: 'Rousseau', {"user":"    lastName: 'Rousseau',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lastName: 'Rousseau',"}}
[info] >      donations: [], {"user":"    donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donations: [],"}}
[info] >      avatar: 'https://lh3.googleusercontent.com/a/ACg8ocKlVzq7MZN6QNFD4ZeZdaXoSz61R_ZPTzF0OTKCZhkvKJdr=s96-c', {"user":"    avatar: 'https://lh3.googleusercontent.com/a/ACg8ocKlVzq7MZN6QNFD4ZeZdaXoSz61R_ZPTzF0OTKCZhkvKJdr=s96-c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     avatar: 'https://lh3.googleusercontent.com/a/ACg8ocKlVzq7MZN6QNFD4ZeZdaXoSz61R_ZPTzF0OTKCZhkvKJdr=s96-c',"}}
[info] >      firstName: 'David', {"user":"    firstName: 'David',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     firstName: 'David',"}}
[info] >      referrer: '', {"user":"    referrer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrer: '',"}}
[info] >      referrals: [], {"user":"    referrals: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrals: [],"}}
[info] >      referralCode: '1698401913451', {"user":"    referralCode: '1698401913451',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referralCode: '1698401913451',"}}
[info] >      id: 'gFQefwzrJ2OGF5wfnYgie9Ki02l2', {"user":"    id: 'gFQefwzrJ2OGF5wfnYgie9Ki02l2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'gFQefwzrJ2OGF5wfnYgie9Ki02l2',"}}
[info] >      email: 'david.rousseau06@gmail.com', {"user":"    email: 'david.rousseau06@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'david.rousseau06@gmail.com',"}}
[info] >      username: 'David Rousseau', {"user":"    username: 'David Rousseau',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     username: 'David Rousseau',"}}
[info] >      spending: '013.80', {"user":"    spending: '013.80',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     spending: '013.80',"}}
[info] >      earned: { {"user":"    earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     earned: {"}}
[info] >        youtube: false, {"user":"      youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       youtube: false,"}}
[info] >        referral: false, {"user":"      referral: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       referral: false,"}}
[info] >        donation2: false, {"user":"      donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation2: false,"}}
[info] >        tiktok: false, {"user":"      tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       tiktok: false,"}}
[info] >        comment: true, {"user":"      comment: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       comment: true,"}}
[info] >        donation1: false, {"user":"      donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation1: false,"}}
[info] >        instagram: false, {"user":"      instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: false,"}}
[info] >        family: false {"user":"      family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       family: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      points: 110, {"user":"    points: 110,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     points: 110,"}}
[info] >      orders: [ [Object] ], {"user":"    orders: [ [Object] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     orders: [ [Object] ],"}}
[info] >      visited: 1698420530917 {"user":"    visited: 1698420530917","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     visited: 1698420530917"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      lastName: 'paris', {"user":"    lastName: 'paris',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lastName: 'paris',"}}
[info] >      donations: [], {"user":"    donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donations: [],"}}
[info] >      avatar: 'https://lh3.googleusercontent.com/a/ACg8ocJywRLsERgiuAhDYW00gWUA-intjoaKH-IDb_ozyQC4=s96-c', {"user":"    avatar: 'https://lh3.googleusercontent.com/a/ACg8ocJywRLsERgiuAhDYW00gWUA-intjoaKH-IDb_ozyQC4=s96-c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     avatar: 'https://lh3.googleusercontent.com/a/ACg8ocJywRLsERgiuAhDYW00gWUA-intjoaKH-IDb_ozyQC4=s96-c',"}}
[info] >      points: 10, {"user":"    points: 10,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     points: 10,"}}
[info] >      firstName: 'bloomie', {"user":"    firstName: 'bloomie',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     firstName: 'bloomie',"}}
[info] >      referrer: '', {"user":"    referrer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrer: '',"}}
[info] >      earned: { {"user":"    earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     earned: {"}}
[info] >        youtube: false, {"user":"      youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       youtube: false,"}}
[info] >        referral: false, {"user":"      referral: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       referral: false,"}}
[info] >        donation2: false, {"user":"      donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation2: false,"}}
[info] >        tiktok: false, {"user":"      tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       tiktok: false,"}}
[info] >        donation1: false, {"user":"      donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       donation1: false,"}}
[info] >        comment: false, {"user":"      comment: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       comment: false,"}}
[info] >        instagram: false, {"user":"      instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: false,"}}
[info] >        family: false {"user":"      family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       family: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      spending: 0, {"user":"    spending: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     spending: 0,"}}
[info] >      referrals: [], {"user":"    referrals: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referrals: [],"}}
[info] >      referralCode: '1698420401282', {"user":"    referralCode: '1698420401282',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referralCode: '1698420401282',"}}
[info] >      visited: 1698420401282, {"user":"    visited: 1698420401282,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     visited: 1698420401282,"}}
[info] >      orders: [], {"user":"    orders: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     orders: [],"}}
[info] >      id: 'iocl1GygdcVNB0t6gBhX48B9CBI3', {"user":"    id: 'iocl1GygdcVNB0t6gBhX48B9CBI3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'iocl1GygdcVNB0t6gBhX48B9CBI3',"}}
[info] >      email: 'bloomie.paris@gmail.com', {"user":"    email: 'bloomie.paris@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'bloomie.paris@gmail.com',"}}
[info] >      username: 'bloomie paris' {"user":"    username: 'bloomie paris'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     username: 'bloomie paris'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T02:15:09.794Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 7654.488255ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 7654.488255ms"}}
[debug] [2023-11-01T02:15:09.795Z] [worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: IDLE"}}
[debug] [2023-11-01T02:15:09.795Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T02:15:09.795Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T02:15:09.795Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:15:38.086Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:15:39.088Z] Validating nodejs source
[debug] [2023-11-01T02:15:41.184Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:15:41.185Z] Building nodejs source
[debug] [2023-11-01T02:15:41.185Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:15:41.186Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:15:41.188Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8881

[debug] [2023-11-01T02:15:41.620Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:15:41.633Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:15:41.633Z] [worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: FINISHING"}}
[debug] [2023-11-01T02:15:41.642Z] [worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: exited"}}
[debug] [2023-11-01T02:15:41.642Z] [worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-76ebe667-0aae-45be-ad41-a51030a6de84]: FINISHED"}}
[debug] [2023-11-01T02:15:43.229Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:15:43.229Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:15:43.229Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:15:43.229Z"],"workRunningCount":1}
[debug] [2023-11-01T02:15:43.229Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-11-01T02:15:43.232Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T02:15:43.233Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-11-01T02:15:43.233Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:15:43.237Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:15:43.237Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-11-01T02:15:44.132Z] [runtime-status] [4960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:15:44.133Z] [runtime-status] [4960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:44.133Z] [runtime-status] [4960] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T02:15:44.134Z] [runtime-status] [4960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:44.327Z] [runtime-status] [4960] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T02:15:44.328Z] [runtime-status] [4960] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T02:15:44.328Z] [runtime-status] [4960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:44.329Z] [runtime-status] [4960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:15:44.331Z] [runtime-status] [4960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:15:44.331Z] [runtime-status] [4960] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T02:15:44.333Z] [runtime-status] [4960] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T02:15:44.379Z] [runtime-status] [4960] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T02:15:44.380Z] [runtime-status] [4960] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b19e344ee178d27c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [4960] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b19e344ee178d27c.sock"}}
[debug] [2023-11-01T02:15:44.458Z] [worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: IDLE"}}
[debug] [2023-11-01T02:15:44.458Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-11-01T02:15:44.459Z] [worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== project:  QueryDocumentSnapshot { {"user":"===== project:  QueryDocumentSnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== project:  QueryDocumentSnapshot {"}}
[info] >    _fieldsProto: { {"user":"  _fieldsProto: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _fieldsProto: {"}}
[info] >      description: { {"user":"    description: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     description: {"}}
[info] >        stringValue: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : "BMX: Western Escape". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`, {"user":"      stringValue: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : \"BMX: Western Escape\". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       stringValue: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : \"BMX: Western Escape\". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`,"}}
[info] >        valueType: 'stringValue' {"user":"      valueType: 'stringValue'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       valueType: 'stringValue'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      id: { stringValue: 'wGJO9iMDd6cQdtjw2D8s', valueType: 'stringValue' }, {"user":"    id: { stringValue: 'wGJO9iMDd6cQdtjw2D8s', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: { stringValue: 'wGJO9iMDd6cQdtjw2D8s', valueType: 'stringValue' },"}}
[info] >      title: { stringValue: 'Ceci est un titre', valueType: 'stringValue' }, {"user":"    title: { stringValue: 'Ceci est un titre', valueType: 'stringValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: { stringValue: 'Ceci est un titre', valueType: 'stringValue' },"}}
[info] >      forFund: { {"user":"    forFund: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     forFund: {"}}
[info] >        stringValue: `<p className="text-left text-gray-900 text-lg font-normal">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className="text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4">                   <li className="list-item">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className="list-item">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className="list-item">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className="list-item">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className="list-item">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className="list-item">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className="list-item">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className="mb-5" src={img1} alt="img1" />                 <p className="text-left text-gray-900 text-lg font-normal">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`, {"user":"      stringValue: `<p className=\"text-left text-gray-900 text-lg font-normal\">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className=\"text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4\">                   <li className=\"list-item\">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className=\"list-item\">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className=\"list-item\">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className=\"list-item\">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className=\"list-item\">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className=\"list-item\">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className=\"list-item\">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className=\"mb-5\" src={img1} alt=\"img1\" />                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       stringValue: `<p className=\"text-left text-gray-900 text-lg font-normal\">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className=\"text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4\">                   <li className=\"list-item\">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className=\"list-item\">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className=\"list-item\">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className=\"list-item\">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className=\"list-item\">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className=\"list-item\">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className=\"list-item\">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className=\"mb-5\" src={img1} alt=\"img1\" />                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`,"}}
[info] >        valueType: 'stringValue' {"user":"      valueType: 'stringValue'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       valueType: 'stringValue'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      rewards: { {"user":"    rewards: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     rewards: {"}}
[info] >        stringValue: '<div className="flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5">                   <img src={tree} alt="tree" />                 </div>                 <p className="text-left text-gray-900 text-lg font-normal">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>', {"user":"      stringValue: '<div className=\"flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5\">                   <img src={tree} alt=\"tree\" />                 </div>                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       stringValue: '<div className=\"flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5\">                   <img src={tree} alt=\"tree\" />                 </div>                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>',"}}
[info] >        valueType: 'stringValue' {"user":"      valueType: 'stringValue'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       valueType: 'stringValue'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      amount: { integerValue: '100', valueType: 'integerValue' }, {"user":"    amount: { integerValue: '100', valueType: 'integerValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     amount: { integerValue: '100', valueType: 'integerValue' },"}}
[info] >      numberOfParticipant: { integerValue: '1000', valueType: 'integerValue' }, {"user":"    numberOfParticipant: { integerValue: '1000', valueType: 'integerValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     numberOfParticipant: { integerValue: '1000', valueType: 'integerValue' },"}}
[info] >      endOfDate: { timestampValue: [Object], valueType: 'timestampValue' }, {"user":"    endOfDate: { timestampValue: [Object], valueType: 'timestampValue' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     endOfDate: { timestampValue: [Object], valueType: 'timestampValue' },"}}
[info] >      lotteryDate: { timestampValue: [Object], valueType: 'timestampValue' } {"user":"    lotteryDate: { timestampValue: [Object], valueType: 'timestampValue' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     lotteryDate: { timestampValue: [Object], valueType: 'timestampValue' }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _ref: DocumentReference { {"user":"  _ref: DocumentReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _ref: DocumentReference {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'coflow-v1', {"user":"      _projectId: 'coflow-v1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'coflow-v1',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _path: ResourcePath { segments: [Array] }, {"user":"    _path: ResourcePath { segments: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _path: ResourcePath { segments: [Array] },"}}
[info] >      _converter: { {"user":"    _converter: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _converter: {"}}
[info] >        toFirestore: [Function: toFirestore], {"user":"      toFirestore: [Function: toFirestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       toFirestore: [Function: toFirestore],"}}
[info] >        fromFirestore: [Function: fromFirestore] {"user":"      fromFirestore: [Function: fromFirestore]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       fromFirestore: [Function: fromFirestore]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _serializer: Serializer { {"user":"  _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _serializer: Serializer {"}}
[info] >      createReference: [Function (anonymous)], {"user":"    createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     createReference: [Function (anonymous)],"}}
[info] >      createInteger: [Function (anonymous)], {"user":"    createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     createInteger: [Function (anonymous)],"}}
[info] >      allowUndefined: false {"user":"    allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowUndefined: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1698804947, _nanoseconds: 324665000 }, {"user":"  _readTime: Timestamp { _seconds: 1698804947, _nanoseconds: 324665000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1698804947, _nanoseconds: 324665000 },"}}
[info] >    _createTime: Timestamp { _seconds: 1697449519, _nanoseconds: 645911000 }, {"user":"  _createTime: Timestamp { _seconds: 1697449519, _nanoseconds: 645911000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _createTime: Timestamp { _seconds: 1697449519, _nanoseconds: 645911000 },"}}
[info] >    _updateTime: Timestamp { _seconds: 1698678825, _nanoseconds: 633300000 } {"user":"  _updateTime: Timestamp { _seconds: 1698678825, _nanoseconds: 633300000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _updateTime: Timestamp { _seconds: 1698678825, _nanoseconds: 633300000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T02:15:49.829Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 5370.968768ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 5370.968768ms"}}
[debug] [2023-11-01T02:15:49.830Z] [worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: IDLE"}}
[debug] [2023-11-01T02:15:49.830Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T02:15:49.830Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T02:15:49.830Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:16:57.010Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:16:58.011Z] Validating nodejs source
[debug] [2023-11-01T02:16:59.806Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:16:59.806Z] Building nodejs source
[debug] [2023-11-01T02:16:59.806Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:16:59.807Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:16:59.807Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8911

[debug] [2023-11-01T02:17:00.290Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:17:00.302Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:17:00.302Z] [worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: FINISHING"}}
[debug] [2023-11-01T02:17:00.311Z] [worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: exited"}}
[debug] [2023-11-01T02:17:00.311Z] [worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-e7ba4d05-b9f4-429e-a0a9-458b1f56cc66]: FINISHED"}}
[debug] [2023-11-01T02:17:53.911Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:17:54.913Z] Validating nodejs source
[debug] [2023-11-01T02:17:57.047Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:17:57.047Z] Building nodejs source
[debug] [2023-11-01T02:17:57.047Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:17:57.048Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:17:57.049Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8480

[debug] [2023-11-01T02:17:57.573Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:18:45.429Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:18:46.431Z] Validating nodejs source
[debug] [2023-11-01T02:18:48.808Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:18:48.808Z] Building nodejs source
[debug] [2023-11-01T02:18:48.808Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:18:48.808Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:18:48.809Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8999

[debug] [2023-11-01T02:18:49.280Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:18:53.615Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:18:54.616Z] Validating nodejs source
[debug] [2023-11-01T02:18:56.438Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:18:56.438Z] Building nodejs source
[debug] [2023-11-01T02:18:56.438Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:18:56.438Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:18:56.439Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8765

[debug] [2023-11-01T02:18:56.930Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:19:00.180Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:19:01.181Z] Validating nodejs source
[debug] [2023-11-01T02:19:02.919Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:19:02.919Z] Building nodejs source
[debug] [2023-11-01T02:19:02.919Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:19:02.920Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:19:02.921Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8278

[debug] [2023-11-01T02:19:03.387Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:19:06.618Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:19:06.618Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:19:06.619Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:19:06.618Z"],"workRunningCount":1}
[debug] [2023-11-01T02:19:06.619Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-11-01T02:19:06.625Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T02:19:06.625Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-11-01T02:19:06.625Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:19:06.630Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:19:06.631Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-11-01T02:19:07.473Z] [runtime-status] [5150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:19:07.475Z] [runtime-status] [5150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:19:07.476Z] [runtime-status] [5150] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T02:19:07.477Z] [runtime-status] [5150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:19:07.652Z] [runtime-status] [5150] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T02:19:07.652Z] [runtime-status] [5150] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T02:19:07.653Z] [runtime-status] [5150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:19:07.654Z] [runtime-status] [5150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:19:07.655Z] [runtime-status] [5150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:19:07.655Z] [runtime-status] [5150] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T02:19:07.657Z] [runtime-status] [5150] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T02:19:07.704Z] [runtime-status] [5150] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T02:19:07.705Z] [runtime-status] [5150] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_3885b091f24fae05.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5150] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_3885b091f24fae05.sock"}}
[debug] [2023-11-01T02:19:07.753Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: IDLE"}}
[debug] [2023-11-01T02:19:07.754Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-11-01T02:19:07.754Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== user:  null {"user":"===== user:  null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== user:  null"}}
[info] >  ===== project:  { {"user":"===== project:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== project:  {"}}
[info] >    description: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : "BMX: Western Escape". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`, {"user":"  description: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : \"BMX: Western Escape\". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : \"BMX: Western Escape\". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`,"}}
[info] >    id: 'wGJO9iMDd6cQdtjw2D8s', {"user":"  id: 'wGJO9iMDd6cQdtjw2D8s',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'wGJO9iMDd6cQdtjw2D8s',"}}
[info] >    title: 'Ceci est un titre', {"user":"  title: 'Ceci est un titre',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   title: 'Ceci est un titre',"}}
[info] >    forFund: `<p className="text-left text-gray-900 text-lg font-normal">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className="text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4">                   <li className="list-item">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className="list-item">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className="list-item">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className="list-item">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className="list-item">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className="list-item">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className="list-item">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className="mb-5" src={img1} alt="img1" />                 <p className="text-left text-gray-900 text-lg font-normal">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`, {"user":"  forFund: `<p className=\"text-left text-gray-900 text-lg font-normal\">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className=\"text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4\">                   <li className=\"list-item\">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className=\"list-item\">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className=\"list-item\">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className=\"list-item\">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className=\"list-item\">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className=\"list-item\">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className=\"list-item\">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className=\"mb-5\" src={img1} alt=\"img1\" />                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   forFund: `<p className=\"text-left text-gray-900 text-lg font-normal\">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className=\"text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4\">                   <li className=\"list-item\">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className=\"list-item\">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className=\"list-item\">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className=\"list-item\">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className=\"list-item\">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className=\"list-item\">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className=\"list-item\">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className=\"mb-5\" src={img1} alt=\"img1\" />                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`,"}}
[info] >    rewards: '<div className="flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5">                   <img src={tree} alt="tree" />                 </div>                 <p className="text-left text-gray-900 text-lg font-normal">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>', {"user":"  rewards: '<div className=\"flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5\">                   <img src={tree} alt=\"tree\" />                 </div>                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   rewards: '<div className=\"flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5\">                   <img src={tree} alt=\"tree\" />                 </div>                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>',"}}
[info] >    amount: 100, {"user":"  amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount: 100,"}}
[info] >    numberOfParticipant: 1000, {"user":"  numberOfParticipant: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   numberOfParticipant: 1000,"}}
[info] >    endOfDate: Timestamp { _seconds: 1698706800, _nanoseconds: 994000000 }, {"user":"  endOfDate: Timestamp { _seconds: 1698706800, _nanoseconds: 994000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   endOfDate: Timestamp { _seconds: 1698706800, _nanoseconds: 994000000 },"}}
[info] >    lotteryDate: Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 } {"user":"  lotteryDate: Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   lotteryDate: Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T02:19:14.310Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 6556.823426ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 6556.823426ms"}}
[debug] [2023-11-01T02:19:14.311Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: IDLE"}}
[debug] [2023-11-01T02:19:14.311Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T02:19:14.311Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T02:19:14.311Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:19:57.107Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:19:58.107Z] Validating nodejs source
[debug] [2023-11-01T02:19:59.992Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:19:59.992Z] Building nodejs source
[debug] [2023-11-01T02:19:59.992Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:19:59.993Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:19:59.993Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:19:59.994Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:19:59.993Z"],"workRunningCount":1}
[debug] [2023-11-01T02:19:59.994Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-11-01T02:19:59.996Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T02:19:59.996Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-11-01T02:19:59.996Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-11-01T02:19:59.997Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: BUSY"}}
[debug] [2023-11-01T02:19:59.997Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:19:59.998Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8038

[info] >  ===== user:  null {"user":"===== user:  null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== user:  null"}}
[debug] [2023-11-01T02:20:00.602Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:20:00.617Z] [worker-pool] Marking BUSY worker to finish (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:20:00.617Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: FINISHING"}}
[info] >  ===== project:  { {"user":"===== project:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== project:  {"}}
[info] >    description: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : "BMX: Western Escape". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`, {"user":"  description: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : \"BMX: Western Escape\". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: `Préparez-vous à être transportés dans un monde où le BMX rencontre l'époque sauvage des westerns. La marque Unicorn est fière de présenter son tout dernier projet vidéo qui repousse les limites de l'imagination : \"BMX: Western Escape\". L'histoire est aussi simple qu'épique : un bandit de renom, chevauchant son BMX, se trouve traqué à travers tout le pays. Il fait une halte dans un bar au cœur d'une ville western. Mais la tranquillité ne dure pas longtemps. Repéré dès son arrivée, notre héros enchaîne des tricks pour échapper à ses poursuivants et tenter de s'en sortir indemne. Pour ceux qui ont suivi les changement chez Unicorn, ce projet ambitieux est bien plus qu'un simple court métrage. Il s'agit d'une opportunité unique de financer notre prochaine aventure vidéo avant même le début du tournage. En contribuant à notre campagne de crowdfunding, vous soutenez l'innovation artistique et l'audace de la marque Unicorn, tout en participant à la réalisation d'un projet qui repousse les frontières du possible.`,"}}
[info] >    id: 'wGJO9iMDd6cQdtjw2D8s', {"user":"  id: 'wGJO9iMDd6cQdtjw2D8s',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'wGJO9iMDd6cQdtjw2D8s',"}}
[info] >    title: 'Ceci est un titre', {"user":"  title: 'Ceci est un titre',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   title: 'Ceci est un titre',"}}
[info] >    forFund: `<p className="text-left text-gray-900 text-lg font-normal">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className="text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4">                   <li className="list-item">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className="list-item">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className="list-item">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className="list-item">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className="list-item">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className="list-item">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className="list-item">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className="mb-5" src={img1} alt="img1" />                 <p className="text-left text-gray-900 text-lg font-normal">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`, {"user":"  forFund: `<p className=\"text-left text-gray-900 text-lg font-normal\">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className=\"text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4\">                   <li className=\"list-item\">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className=\"list-item\">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className=\"list-item\">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className=\"list-item\">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className=\"list-item\">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className=\"list-item\">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className=\"list-item\">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className=\"mb-5\" src={img1} alt=\"img1\" />                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   forFund: `<p className=\"text-left text-gray-900 text-lg font-normal\">                   En atteignant notre premier objectif de 7 000 euros pour ce                   projet, nous serons en mesure de concrétiser une expérience                   cinématographique immersive. Voici ce que nous pourrons                   accomplir grâce à votre soutien : Location de costumes qui                   plongeront nos acteurs et figurantsdans l'époque des cowboys                   et des hors-la-loi.                 </p>                 <ul className=\"text-left text-gray-900 text-lg font-normal my-5 flex flex-col gap-4\">                   <li className=\"list-item\">                     Location de costumes qui plongeront nos acteurs et                     figurantsdans l'époque des cowboys et des hors-la-loi.                   </li>                   <li className=\"list-item\">                     Engager des figurants spécialisés dans les cascades et les                     armes de cinéma, pour rendre chaque scène encore plus                     spectaculaire.                   </li>                   <li className=\"list-item\">                     Couvrir les frais de transport de toute l'équipe, assurant                     ainsi que chacun puisse participer à cette aventure unique.                   </li>                   <li className=\"list-item\">                     Rémunérer les riders talentueux qui participeront au                     tournage, leur donnant l'opportunité de briller et de                     repousser les limites du BMX.                   </li>                   <li className=\"list-item\">                     Location de matériel photo et vidéo de haute qualité, pour                     capturer chaque instant avec une précision exceptionnelle.                   </li>                   <li className=\"list-item\">                     Création de modules en bois sur mesure, permettant aux                     riders de réaliser des trikcs et d'élever le niveau des                     performances.                   </li>                   <li className=\"list-item\">                     Faire appel à un shaper professionnel pour concevoir des                     modules en terre uniques, ajoutant une touche de créativité                     à nos décors.                   </li>                 </ul>                 <img className=\"mb-5\" src={img1} alt=\"img1\" />                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Si notre objectif initial de 10 000 euros est dépassé, les                   fonds supplémentaires seront utilisés pour soutenir la                   production de notre boîte de production, Unicorn. Cela nous                   permettra de développer de nouveaux projets vidéo audacieux,                   repoussant les frontières de l'innovation artistique et de                   l'expression créative. Chaque euro compte et contribue à la                   réalisation de ce projet exceptionnel. Rejoignez-nous dans                   cette aventure et ensemble, créons une expérience inoubliable                   qui marquera les esprits et inspirera les passionnés de BMX du                   monde entier.                 </p>`,"}}
[info] >    rewards: '<div className="flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5">                   <img src={tree} alt="tree" />                 </div>                 <p className="text-left text-gray-900 text-lg font-normal">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>', {"user":"  rewards: '<div className=\"flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5\">                   <img src={tree} alt=\"tree\" />                 </div>                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   rewards: '<div className=\"flex justify-center items-center w-full border border-gray-300 rounded-lg mb-5\">                   <img src={tree} alt=\"tree\" />                 </div>                 <p className=\"text-left text-gray-900 text-lg font-normal\">                   Attention ! Les logos ne seront peut être pas identiques à                   100% ! On travaille encore dessus !                 </p>',"}}
[info] >    amount: 100, {"user":"  amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   amount: 100,"}}
[info] >    numberOfParticipant: 1000, {"user":"  numberOfParticipant: 1000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   numberOfParticipant: 1000,"}}
[info] >    endOfDate: Timestamp { _seconds: 1698706800, _nanoseconds: 994000000 }, {"user":"  endOfDate: Timestamp { _seconds: 1698706800, _nanoseconds: 994000000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   endOfDate: Timestamp { _seconds: 1698706800, _nanoseconds: 994000000 },"}}
[info] >    lotteryDate: Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 } {"user":"  lotteryDate: Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   lotteryDate: Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-01T02:20:03.344Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 3348.165183ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 3348.165183ms"}}
[debug] [2023-11-01T02:20:03.345Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: IDLE --> FINISHING"}}
[debug] [2023-11-01T02:20:03.345Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T02:20:03.345Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T02:20:03.345Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:20:03.359Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: exited"}}
[debug] [2023-11-01T02:20:03.359Z] [worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-5aa99620-cfa2-4cba-bb7c-def8e9ce4ead]: FINISHED"}}
[debug] [2023-11-01T02:20:40.871Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:20:41.872Z] Validating nodejs source
[debug] [2023-11-01T02:20:43.900Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:20:43.900Z] Building nodejs source
[debug] [2023-11-01T02:20:43.900Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:20:43.902Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:20:43.902Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8851

[debug] [2023-11-01T02:20:44.363Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:21:07.477Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:21:08.478Z] Validating nodejs source
[debug] [2023-11-01T02:21:10.178Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:21:10.178Z] Building nodejs source
[debug] [2023-11-01T02:21:10.179Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:21:10.180Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:21:10.180Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:21:10.181Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8496

[debug] [2023-11-01T02:21:10.750Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:21:11.180Z] Validating nodejs source
[debug] [2023-11-01T02:21:12.902Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:21:12.902Z] Building nodejs source
[debug] [2023-11-01T02:21:12.903Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:21:12.903Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:21:12.904Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8941

[debug] [2023-11-01T02:21:13.526Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:22:19.285Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:22:20.286Z] Validating nodejs source
[debug] [2023-11-01T02:22:22.025Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:22:22.026Z] Building nodejs source
[debug] [2023-11-01T02:22:22.026Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:22:22.026Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:22:22.027Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8051

[debug] [2023-11-01T02:22:22.528Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:22:28.061Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:22:28.061Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:22:28.062Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:22:28.061Z"],"workRunningCount":1}
[debug] [2023-11-01T02:22:28.062Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-11-01T02:22:28.066Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T02:22:28.067Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-11-01T02:22:28.067Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:22:28.071Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:22:28.071Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-11-01T02:22:28.896Z] [runtime-status] [5324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:22:28.897Z] [runtime-status] [5324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:22:28.898Z] [runtime-status] [5324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T02:22:28.899Z] [runtime-status] [5324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:22:29.069Z] [runtime-status] [5324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T02:22:29.069Z] [runtime-status] [5324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T02:22:29.070Z] [runtime-status] [5324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:22:29.071Z] [runtime-status] [5324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:22:29.072Z] [runtime-status] [5324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:22:29.073Z] [runtime-status] [5324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T02:22:29.075Z] [runtime-status] [5324] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T02:22:29.122Z] [runtime-status] [5324] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T02:22:29.122Z] [runtime-status] [5324] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_13cdefa56c8768b3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5324] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_13cdefa56c8768b3.sock"}}
[debug] [2023-11-01T02:22:29.193Z] [worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: IDLE"}}
[debug] [2023-11-01T02:22:29.194Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-11-01T02:22:29.194Z] [worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== user:  null {"user":"===== user:  null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== user:  null"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T02:22:37.577Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 8384.165272ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 8384.165272ms"}}
[debug] [2023-11-01T02:22:37.578Z] [worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: IDLE"}}
[debug] [2023-11-01T02:22:37.578Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T02:22:37.578Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T02:22:37.578Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:22:58.009Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:22:59.009Z] Validating nodejs source
[debug] [2023-11-01T02:23:01.321Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:23:01.321Z] Building nodejs source
[debug] [2023-11-01T02:23:01.321Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:23:01.323Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:23:01.323Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8624

[debug] [2023-11-01T02:23:01.776Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:23:01.788Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:23:01.788Z] [worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: FINISHING"}}
[debug] [2023-11-01T02:23:01.797Z] [worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: exited"}}
[debug] [2023-11-01T02:23:01.797Z] [worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-a19487e6-bb5d-4ea1-87d0-fe72c184f84b]: FINISHED"}}
[debug] [2023-11-01T02:23:03.977Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:23:03.977Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:23:03.977Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:23:03.977Z"],"workRunningCount":1}
[debug] [2023-11-01T02:23:03.977Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-11-01T02:23:03.979Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T02:23:03.980Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-11-01T02:23:03.980Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:23:03.984Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:23:03.984Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-11-01T02:23:04.883Z] [runtime-status] [5354] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:23:04.884Z] [runtime-status] [5354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:23:04.884Z] [runtime-status] [5354] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T02:23:04.886Z] [runtime-status] [5354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:23:05.069Z] [runtime-status] [5354] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T02:23:05.070Z] [runtime-status] [5354] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T02:23:05.070Z] [runtime-status] [5354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:23:05.072Z] [runtime-status] [5354] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:23:05.074Z] [runtime-status] [5354] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:23:05.075Z] [runtime-status] [5354] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T02:23:05.077Z] [runtime-status] [5354] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T02:23:05.125Z] [runtime-status] [5354] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T02:23:05.125Z] [runtime-status] [5354] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_d4f53c343a9ec1f2.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5354] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_d4f53c343a9ec1f2.sock"}}
[debug] [2023-11-01T02:23:05.206Z] [worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: IDLE"}}
[debug] [2023-11-01T02:23:05.206Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-11-01T02:23:05.207Z] [worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== res:  QuerySnapshot { {"user":"===== res:  QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res:  QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'coflow-v1', {"user":"      _projectId: 'coflow-v1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'coflow-v1',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'users', {"user":"      collectionId: 'users',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'users',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [], {"user":"      fieldOrders: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false {"user":"    _allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1698805388, _nanoseconds: 450322000 }, {"user":"  _readTime: Timestamp { _seconds: 1698805388, _nanoseconds: 450322000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1698805388, _nanoseconds: 450322000 },"}}
[info] >    _size: 0, {"user":"  _size: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 0,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  ===== user:  null {"user":"===== user:  null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== user:  null"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T02:23:11.623Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 6417.384045ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 6417.384045ms"}}
[debug] [2023-11-01T02:23:11.623Z] [worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: IDLE"}}
[debug] [2023-11-01T02:23:11.623Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T02:23:11.623Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T02:23:11.623Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:24:58.529Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:24:59.531Z] Validating nodejs source
[debug] [2023-11-01T02:25:01.566Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:25:01.567Z] Building nodejs source
[debug] [2023-11-01T02:25:01.567Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:25:01.568Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:25:01.569Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8127

[debug] [2023-11-01T02:25:02.006Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:25:02.019Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:25:02.019Z] [worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: FINISHING"}}
[debug] [2023-11-01T02:25:02.029Z] [worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: exited"}}
[debug] [2023-11-01T02:25:02.029Z] [worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-0c400ecc-b822-4d97-862f-451acc14a331]: FINISHED"}}
[debug] [2023-11-01T02:25:04.604Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:25:04.604Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:25:04.604Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testShopifyAdminApi-2023-11-01T02:25:04.604Z"],"workRunningCount":1}
[debug] [2023-11-01T02:25:04.604Z] Accepted request GET /coflow-v1/us-central1/testShopifyAdminApi --> us-central1-testShopifyAdminApi
[debug] [2023-11-01T02:25:04.606Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T02:25:04.607Z] [functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testShopifyAdminApi, mapping to path=/"}}
[debug] [2023-11-01T02:25:04.607Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:25:04.610Z] [worker-pool] addWorker(us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:25:04.610Z] [worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testShopifyAdminApi, total=1"}}
[debug] [2023-11-01T02:25:05.515Z] [runtime-status] [5435] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:25:05.517Z] [runtime-status] [5435] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:25:05.518Z] [runtime-status] [5435] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T02:25:05.520Z] [runtime-status] [5435] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:25:05.699Z] [runtime-status] [5435] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T02:25:05.700Z] [runtime-status] [5435] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T02:25:05.700Z] [runtime-status] [5435] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:25:05.702Z] [runtime-status] [5435] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T02:25:05.703Z] [runtime-status] [5435] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T02:25:05.703Z] [runtime-status] [5435] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T02:25:05.707Z] [runtime-status] [5435] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T02:25:05.771Z] [runtime-status] [5435] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T02:25:05.771Z] [runtime-status] [5435] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_9d4b2c2d20b21275.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[runtime-status] [5435] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_9d4b2c2d20b21275.sock"}}
[debug] [2023-11-01T02:25:05.833Z] [worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: IDLE"}}
[debug] [2023-11-01T02:25:05.833Z] [worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testShopifyAdminApi)"}}
[info] i  functions: Beginning execution of "us-central1-testShopifyAdminApi" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Beginning execution of \"us-central1-testShopifyAdminApi\""}}
[debug] [2023-11-01T02:25:05.833Z] [worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== res:  QuerySnapshot { {"user":"===== res:  QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== res:  QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'coflow-v1', {"user":"      _projectId: 'coflow-v1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'coflow-v1',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'users', {"user":"      collectionId: 'users',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'users',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [], {"user":"      fieldOrders: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false {"user":"    _allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1698805509, _nanoseconds: 203280000 }, {"user":"  _readTime: Timestamp { _seconds: 1698805509, _nanoseconds: 203280000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1698805509, _nanoseconds: 203280000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  ===== user:  { {"user":"===== user:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== user:  {"}}
[info] >    lastName: '', {"user":"  lastName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   lastName: '',"}}
[info] >    donations: [], {"user":"  donations: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   donations: [],"}}
[info] >    avatar: '', {"user":"  avatar: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   avatar: '',"}}
[info] >    firstName: '', {"user":"  firstName: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   firstName: '',"}}
[info] >    referrer: '', {"user":"  referrer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   referrer: '',"}}
[info] >    referralCode: '1698329747674', {"user":"  referralCode: '1698329747674',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   referralCode: '1698329747674',"}}
[info] >    id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2', {"user":"  id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'bCzrDa5WaMa2bIdzXpf8pbvlI9p2',"}}
[info] >    username: 'Test', {"user":"  username: 'Test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   username: 'Test',"}}
[info] >    earned: { {"user":"  earned: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   earned: {"}}
[info] >      youtube: false, {"user":"    youtube: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     youtube: false,"}}
[info] >      referral: true, {"user":"    referral: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     referral: true,"}}
[info] >      donation2: false, {"user":"    donation2: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donation2: false,"}}
[info] >      tiktok: false, {"user":"    tiktok: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     tiktok: false,"}}
[info] >      comment: true, {"user":"    comment: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     comment: true,"}}
[info] >      donation1: false, {"user":"    donation1: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     donation1: false,"}}
[info] >      instagram: false, {"user":"    instagram: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     instagram: false,"}}
[info] >      family: false {"user":"    family: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     family: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ], {"user":"  referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   referrals: [ 'UN3uEfDYiWPXDNItC8WKHrtuVN63' ],"}}
[info] >    points: 550, {"user":"  points: 550,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   points: 550,"}}
[info] >    email: 'test@gmail.com', {"user":"  email: 'test@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'test@gmail.com',"}}
[info] >    spending: 4.95, {"user":"  spending: 4.95,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   spending: 4.95,"}}
[info] >    orders: [ {"user":"  orders: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   orders: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        orderNumber: 1009, {"user":"      orderNumber: 1009,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       orderNumber: 1009,"}}
[info] >        orderId: 'b38e4b10dce09efb778493edc59e0631', {"user":"      orderId: 'b38e4b10dce09efb778493edc59e0631',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       orderId: 'b38e4b10dce09efb778493edc59e0631',"}}
[info] >        totalPrice: 4.95, {"user":"      totalPrice: 4.95,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       totalPrice: 4.95,"}}
[info] >        type: 'product' {"user":"      type: 'product'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'product'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    visited: 1698771041965 {"user":"  visited: 1698771041965","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m   visited: 1698771041965"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T02:25:14.471Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testShopifyAdminApi" in 8638.421162ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finished \"us-central1-testShopifyAdminApi\" in 8638.421162ms"}}
[debug] [2023-11-01T02:25:14.472Z] [worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: IDLE"}}
[debug] [2023-11-01T02:25:14.472Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T02:25:14.472Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T02:25:14.472Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T02:25:51.225Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T02:25:52.226Z] Validating nodejs source
[debug] [2023-11-01T02:25:54.304Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T02:25:54.304Z] Building nodejs source
[debug] [2023-11-01T02:25:54.304Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T02:25:54.305Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T02:25:54.306Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8647

[debug] [2023-11-01T02:25:54.737Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testShopifyAdminApi":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testShopifyAdminApi"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testShopifyAdminApi."}}
[debug] [2023-11-01T02:25:54.750Z] [worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testShopifyAdminApi)"}}
[debug] [2023-11-01T02:25:54.750Z] [worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: FINISHING"}}
[debug] [2023-11-01T02:25:54.761Z] [worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: exited"}}
[debug] [2023-11-01T02:25:54.761Z] [worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testShopifyAdminApi"},"extension":{},"message":"[worker-us-central1-testShopifyAdminApi-98bd6ff8-3e4c-492a-a930-b9dffe340aac]: FINISHED"}}
[debug] [2023-11-01T03:55:12.287Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T03:55:13.289Z] Validating nodejs source
[debug] [2023-11-01T03:55:15.540Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T03:55:15.541Z] Building nodejs source
[debug] [2023-11-01T03:55:15.541Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T03:55:15.542Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T03:55:15.542Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8337

[debug] [2023-11-01T03:55:16.006Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout."}}
[debug] [2023-11-01T03:55:17.846Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/index.js changed, reloading triggers"}}
[debug] [2023-11-01T03:55:18.847Z] Validating nodejs source
[debug] [2023-11-01T03:55:20.711Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T03:55:20.711Z] Building nodejs source
[debug] [2023-11-01T03:55:20.711Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T03:55:20.712Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T03:55:20.712Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8515

[debug] [2023-11-01T03:55:21.145Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[info] ✔  functions[us-central1-testRewards]: http function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/testRewards). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/coflow-v1/us-central1/testRewards)."}}
[debug] [2023-11-01T03:55:22.119Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T03:55:22.119Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T03:55:22.119Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T03:55:22.119Z"],"workRunningCount":1}
[debug] [2023-11-01T03:55:22.119Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T03:55:22.122Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T03:55:22.122Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T03:55:22.122Z] [worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testShopifyAdminApi: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T03:55:22.127Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T03:55:22.127Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T03:55:22.977Z] [runtime-status] [8126] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T03:55:22.978Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T03:55:22.978Z] [runtime-status] [8126] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T03:55:22.979Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T03:55:23.152Z] [runtime-status] [8126] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T03:55:23.152Z] [runtime-status] [8126] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T03:55:23.153Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T03:55:23.154Z] [runtime-status] [8126] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T03:55:23.156Z] [runtime-status] [8126] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T03:55:23.156Z] [runtime-status] [8126] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T03:55:23.158Z] [runtime-status] [8126] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T03:55:23.206Z] [runtime-status] [8126] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T03:55:23.206Z] [runtime-status] [8126] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_8da84ec94242bb09.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [8126] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_8da84ec94242bb09.sock"}}
[debug] [2023-11-01T03:55:23.249Z] [worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: IDLE"}}
[debug] [2023-11-01T03:55:23.249Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T03:55:23.249Z] [worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T03:55:29.611Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 6362.002384ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 6362.002384ms"}}
[debug] [2023-11-01T03:55:29.611Z] [worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: IDLE"}}
[debug] [2023-11-01T03:55:29.611Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T03:55:29.612Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T03:55:29.612Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T04:00:24.229Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:00:25.230Z] Validating nodejs source
[debug] [2023-11-01T04:00:27.312Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:00:27.312Z] Building nodejs source
[debug] [2023-11-01T04:00:27.312Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:00:27.313Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:00:27.314Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8978

[debug] [2023-11-01T04:00:27.780Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:00:27.797Z] [worker-pool] Shutting down IDLE worker (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testRewards)"}}
[debug] [2023-11-01T04:00:27.797Z] [worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: FINISHING"}}
[debug] [2023-11-01T04:00:27.809Z] [worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: exited"}}
[debug] [2023-11-01T04:00:27.809Z] [worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-8351e1fc-afa1-4b69-9b8e-5a5151edafc3]: FINISHED"}}
[debug] [2023-11-01T04:26:21.777Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:26:22.779Z] Validating nodejs source
[debug] [2023-11-01T04:26:25.195Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:26:25.195Z] Building nodejs source
[debug] [2023-11-01T04:26:25.195Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:26:25.197Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:26:25.199Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8149

[debug] [2023-11-01T04:26:25.682Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:38:55.606Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/constants/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:38:56.607Z] Validating nodejs source
[debug] [2023-11-01T04:38:59.019Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:38:59.019Z] Building nodejs source
[debug] [2023-11-01T04:38:59.019Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:38:59.020Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:38:59.021Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8888

[debug] [2023-11-01T04:38:59.438Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:39:16.385Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:39:17.388Z] Validating nodejs source
[debug] [2023-11-01T04:39:19.170Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:39:19.170Z] Building nodejs source
[debug] [2023-11-01T04:39:19.170Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:39:19.171Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:39:19.172Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8989

[debug] [2023-11-01T04:39:19.638Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:41:13.558Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:41:14.447Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:41:14.552Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:41:14.703Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:41:14.866Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:41:14.965Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:41:15.966Z] Validating nodejs source
[debug] [2023-11-01T04:41:18.250Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:41:18.250Z] Building nodejs source
[debug] [2023-11-01T04:41:18.250Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:41:18.251Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:41:18.252Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8121

[debug] [2023-11-01T04:41:18.698Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:42:54.389Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/utils/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:42:55.391Z] Validating nodejs source
[debug] [2023-11-01T04:42:57.483Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:42:57.484Z] Building nodejs source
[debug] [2023-11-01T04:42:57.484Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:42:57.485Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:42:57.485Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8548

[debug] [2023-11-01T04:42:57.936Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:43:45.736Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:43:46.737Z] Validating nodejs source
[debug] [2023-11-01T04:43:48.517Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:43:48.517Z] Building nodejs source
[debug] [2023-11-01T04:43:48.517Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:43:48.518Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:43:48.519Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8688

[debug] [2023-11-01T04:43:49.072Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:44:02.250Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:44:03.252Z] Validating nodejs source
[debug] [2023-11-01T04:44:05.373Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:44:05.373Z] Building nodejs source
[debug] [2023-11-01T04:44:05.374Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:44:05.375Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:44:05.375Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8269

[debug] [2023-11-01T04:44:05.844Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:44:22.729Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:44:22.808Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:44:23.810Z] Validating nodejs source
[debug] [2023-11-01T04:44:25.612Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:44:25.612Z] Building nodejs source
[debug] [2023-11-01T04:44:25.612Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:44:25.612Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:44:25.613Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8970

[debug] [2023-11-01T04:44:26.062Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:44:28.091Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T04:44:28.091Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T04:44:28.092Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T04:44:28.091Z"],"workRunningCount":1}
[debug] [2023-11-01T04:44:28.092Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T04:44:28.094Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T04:44:28.095Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T04:44:28.095Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:44:28.098Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T04:44:28.098Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T04:44:29.017Z] [runtime-status] [9762] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T04:44:29.018Z] [runtime-status] [9762] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:44:29.019Z] [runtime-status] [9762] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T04:44:29.020Z] [runtime-status] [9762] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:44:29.226Z] [runtime-status] [9762] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T04:44:29.226Z] [runtime-status] [9762] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T04:44:29.227Z] [runtime-status] [9762] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:44:29.229Z] [runtime-status] [9762] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T04:44:29.231Z] [runtime-status] [9762] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:44:29.232Z] [runtime-status] [9762] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T04:44:29.234Z] [runtime-status] [9762] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T04:44:29.463Z] [runtime-status] [9762] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T04:44:29.464Z] [runtime-status] [9762] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a7e70f3a1dcb5bd5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [9762] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_a7e70f3a1dcb5bd5.sock"}}
[debug] [2023-11-01T04:44:29.574Z] [worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: IDLE"}}
[debug] [2023-11-01T04:44:29.574Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T04:44:29.574Z] [worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== priceRuleTitle:  Discount_100P_8221764026601 {"user":"===== priceRuleTitle:  Discount_100P_8221764026601","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== priceRuleTitle:  Discount_100P_8221764026601"}}
[debug] [2023-11-01T04:44:36.776Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 7201.612068ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 7201.612068ms"}}
[debug] [2023-11-01T04:44:36.776Z] [worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: IDLE"}}
[debug] [2023-11-01T04:44:36.776Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T04:44:36.776Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T04:44:36.776Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T04:45:17.059Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:45:18.059Z] Validating nodejs source
[debug] [2023-11-01T04:45:21.184Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:45:21.185Z] Building nodejs source
[debug] [2023-11-01T04:45:21.185Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:45:21.186Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:45:21.186Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:45:21.187Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8704

[debug] [2023-11-01T04:45:21.746Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:45:21.762Z] [worker-pool] Shutting down IDLE worker (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testRewards)"}}
[debug] [2023-11-01T04:45:21.762Z] [worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: FINISHING"}}
[debug] [2023-11-01T04:45:21.772Z] [worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: exited"}}
[debug] [2023-11-01T04:45:21.772Z] [worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-898c10d3-b8ab-4fea-9399-ceb9a4b112b1]: FINISHED"}}
[debug] [2023-11-01T04:45:22.186Z] Validating nodejs source
[debug] [2023-11-01T04:45:23.955Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:45:23.955Z] Building nodejs source
[debug] [2023-11-01T04:45:23.955Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:45:23.956Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:45:23.957Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8114

[debug] [2023-11-01T04:45:24.424Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:46:06.898Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:07.621Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:07.776Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:07.943Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:08.111Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:08.459Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:08.606Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:08.760Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:46:09.761Z] Validating nodejs source
[debug] [2023-11-01T04:46:11.466Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:46:11.466Z] Building nodejs source
[debug] [2023-11-01T04:46:11.466Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:46:11.467Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:46:11.467Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8729

[debug] [2023-11-01T04:46:11.893Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:59:55.076Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T04:59:56.076Z] Validating nodejs source
[debug] [2023-11-01T04:59:58.302Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T04:59:58.302Z] Building nodejs source
[debug] [2023-11-01T04:59:58.302Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:59:58.303Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T04:59:58.304Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-01T04:59:58.306Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T04:59:58.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T04:59:58.306Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T04:59:58.306Z"],"workRunningCount":1}
[debug] [2023-11-01T04:59:58.306Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T04:59:58.308Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T04:59:58.308Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T04:59:58.309Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T04:59:58.312Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T04:59:58.312Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[info] Serving at port 8070

[debug] [2023-11-01T04:59:58.815Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T04:59:59.268Z] [runtime-status] [10308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T04:59:59.269Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:59:59.270Z] [runtime-status] [10308] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T04:59:59.271Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:59:59.454Z] [runtime-status] [10308] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T04:59:59.455Z] [runtime-status] [10308] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T04:59:59.455Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:59:59.456Z] [runtime-status] [10308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T04:59:59.459Z] [runtime-status] [10308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T04:59:59.459Z] [runtime-status] [10308] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T04:59:59.461Z] [runtime-status] [10308] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T04:59:59.508Z] [runtime-status] [10308] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T04:59:59.508Z] [runtime-status] [10308] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b95f9888dc8b66c8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10308] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b95f9888dc8b66c8.sock"}}
[debug] [2023-11-01T04:59:59.532Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: IDLE"}}
[debug] [2023-11-01T04:59:59.533Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T04:59:59.533Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== err:  TypeError: priceRules.find is not a function {"user":"===== err:  TypeError: priceRules.find is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== err:  TypeError: priceRules.find is not a function"}}
[info] >      at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:239:37 {"user":"    at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:239:37","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:239:37"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2023-11-01T05:00:05.787Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 6254.147832ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 6254.147832ms"}}
[debug] [2023-11-01T05:00:05.788Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: IDLE"}}
[debug] [2023-11-01T05:00:05.788Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T05:00:05.788Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T05:00:05.788Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T05:02:26.379Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:02:27.380Z] Validating nodejs source
[debug] [2023-11-01T05:02:29.660Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:02:29.660Z] Building nodejs source
[debug] [2023-11-01T05:02:29.660Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:02:29.662Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:02:29.662Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:02:29.662Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:02:29.662Z"],"workRunningCount":1}
[debug] [2023-11-01T05:02:29.662Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T05:02:29.664Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T05:02:29.664Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T05:02:29.664Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T05:02:29.665Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: BUSY"}}
[debug] [2023-11-01T05:02:29.665Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:02:29.666Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8050

[debug] [2023-11-01T05:02:30.156Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:02:30.171Z] [worker-pool] Marking BUSY worker to finish (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-testRewards)"}}
[debug] [2023-11-01T05:02:30.171Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: FINISHING"}}
[info] >  ===== err:  TypeError: priceRules.find is not a function {"user":"===== err:  TypeError: priceRules.find is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== err:  TypeError: priceRules.find is not a function"}}
[info] >      at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:239:37 {"user":"    at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:239:37","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:239:37"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2023-11-01T05:02:33.055Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 3390.441862ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 3390.441862ms"}}
[debug] [2023-11-01T05:02:33.055Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: IDLE --> FINISHING"}}
[debug] [2023-11-01T05:02:33.056Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T05:02:33.056Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T05:02:33.056Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:02:33.069Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: exited"}}
[debug] [2023-11-01T05:02:33.069Z] [worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-e7335a52-a5ed-4ce0-9368-eb8b2ff38efa]: FINISHED"}}
[debug] [2023-11-01T05:03:41.608Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:03:42.610Z] Validating nodejs source
[debug] [2023-11-01T05:03:44.411Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:03:44.412Z] Building nodejs source
[debug] [2023-11-01T05:03:44.412Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:03:44.412Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:03:44.413Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-01T05:03:44.525Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:03:44.525Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:03:44.525Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:03:44.525Z"],"workRunningCount":1}
[debug] [2023-11-01T05:03:44.525Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T05:03:44.529Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T05:03:44.530Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T05:03:44.530Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:03:44.533Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T05:03:44.533Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[info] Serving at port 8786

[debug] [2023-11-01T05:03:44.920Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:03:45.477Z] [runtime-status] [10467] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:03:45.478Z] [runtime-status] [10467] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:03:45.479Z] [runtime-status] [10467] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T05:03:45.480Z] [runtime-status] [10467] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:03:45.678Z] [runtime-status] [10467] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T05:03:45.679Z] [runtime-status] [10467] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T05:03:45.680Z] [runtime-status] [10467] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:03:45.682Z] [runtime-status] [10467] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:03:45.683Z] [runtime-status] [10467] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:03:45.683Z] [runtime-status] [10467] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T05:03:45.685Z] [runtime-status] [10467] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T05:03:45.732Z] [runtime-status] [10467] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T05:03:45.732Z] [runtime-status] [10467] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_53cb7cb79a6d5eb8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10467] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_53cb7cb79a6d5eb8.sock"}}
[debug] [2023-11-01T05:03:45.759Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: IDLE"}}
[debug] [2023-11-01T05:03:45.759Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T05:03:45.759Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== priceRules:  [ {"user":"===== priceRules:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== priceRules:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 1298838520041, {"user":"    id: 1298838520041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 1298838520041,"}}
[info] >      value_type: 'percentage', {"user":"    value_type: 'percentage',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value_type: 'percentage',"}}
[info] >      value: '-100.0', {"user":"    value: '-100.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value: '-100.0',"}}
[info] >      customer_selection: 'all', {"user":"    customer_selection: 'all',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_selection: 'all',"}}
[info] >      target_type: 'line_item', {"user":"    target_type: 'line_item',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_type: 'line_item',"}}
[info] >      target_selection: 'entitled', {"user":"    target_selection: 'entitled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_selection: 'entitled',"}}
[info] >      allocation_method: 'across', {"user":"    allocation_method: 'across',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_method: 'across',"}}
[info] >      allocation_limit: null, {"user":"    allocation_limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_limit: null,"}}
[info] >      once_per_customer: false, {"user":"    once_per_customer: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     once_per_customer: false,"}}
[info] >      usage_limit: 1, {"user":"    usage_limit: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     usage_limit: 1,"}}
[info] >      starts_at: '2023-10-31T00:25:21-07:00', {"user":"    starts_at: '2023-10-31T00:25:21-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     starts_at: '2023-10-31T00:25:21-07:00',"}}
[info] >      ends_at: null, {"user":"    ends_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     ends_at: null,"}}
[info] >      created_at: '2023-10-31T00:25:23-07:00', {"user":"    created_at: '2023-10-31T00:25:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-31T00:25:23-07:00',"}}
[info] >      updated_at: '2023-10-31T09:35:03-07:00', {"user":"    updated_at: '2023-10-31T09:35:03-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:35:03-07:00',"}}
[info] >      entitled_product_ids: [ 8224569655529 ], {"user":"    entitled_product_ids: [ 8224569655529 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_product_ids: [ 8224569655529 ],"}}
[info] >      entitled_variant_ids: [], {"user":"    entitled_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_variant_ids: [],"}}
[info] >      entitled_collection_ids: [], {"user":"    entitled_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_collection_ids: [],"}}
[info] >      entitled_country_ids: [], {"user":"    entitled_country_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_country_ids: [],"}}
[info] >      prerequisite_product_ids: [], {"user":"    prerequisite_product_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_product_ids: [],"}}
[info] >      prerequisite_variant_ids: [], {"user":"    prerequisite_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_variant_ids: [],"}}
[info] >      prerequisite_collection_ids: [], {"user":"    prerequisite_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_collection_ids: [],"}}
[info] >      customer_segment_prerequisite_ids: [], {"user":"    customer_segment_prerequisite_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_segment_prerequisite_ids: [],"}}
[info] >      prerequisite_customer_ids: [], {"user":"    prerequisite_customer_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_customer_ids: [],"}}
[info] >      prerequisite_subtotal_range: null, {"user":"    prerequisite_subtotal_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_subtotal_range: null,"}}
[info] >      prerequisite_quantity_range: null, {"user":"    prerequisite_quantity_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_quantity_range: null,"}}
[info] >      prerequisite_shipping_price_range: null, {"user":"    prerequisite_shipping_price_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_shipping_price_range: null,"}}
[info] >      prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null }, {"user":"    prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },"}}
[info] >      prerequisite_to_entitlement_purchase: { prerequisite_amount: null }, {"user":"    prerequisite_to_entitlement_purchase: { prerequisite_amount: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_purchase: { prerequisite_amount: null },"}}
[info] >      title: 'Discount8224569655529', {"user":"    title: 'Discount8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Discount8224569655529',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041' {"user":"    admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-11-01T05:03:54.258Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 8498.557653ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 8498.557653ms"}}
[debug] [2023-11-01T05:03:54.258Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: IDLE"}}
[debug] [2023-11-01T05:03:54.258Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T05:03:54.258Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T05:03:54.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:05:04.427Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:05:05.428Z] Validating nodejs source
[debug] [2023-11-01T05:05:07.254Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:05:07.254Z] Building nodejs source
[debug] [2023-11-01T05:05:07.254Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:05:07.255Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:05:07.255Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8618

[debug] [2023-11-01T05:05:07.602Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:05:07.602Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:05:07.602Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:05:07.602Z"],"workRunningCount":1}
[debug] [2023-11-01T05:05:07.602Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T05:05:07.604Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T05:05:07.605Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T05:05:07.605Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T05:05:07.605Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: BUSY"}}
[debug] [2023-11-01T05:05:07.708Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:05:07.722Z] [worker-pool] Marking BUSY worker to finish (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-testRewards)"}}
[debug] [2023-11-01T05:05:07.723Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: FINISHING"}}
[info] >  ===== priceRules:  [ {"user":"===== priceRules:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== priceRules:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 1298838520041, {"user":"    id: 1298838520041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 1298838520041,"}}
[info] >      value_type: 'percentage', {"user":"    value_type: 'percentage',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value_type: 'percentage',"}}
[info] >      value: '-100.0', {"user":"    value: '-100.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value: '-100.0',"}}
[info] >      customer_selection: 'all', {"user":"    customer_selection: 'all',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_selection: 'all',"}}
[info] >      target_type: 'line_item', {"user":"    target_type: 'line_item',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_type: 'line_item',"}}
[info] >      target_selection: 'entitled', {"user":"    target_selection: 'entitled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_selection: 'entitled',"}}
[info] >      allocation_method: 'across', {"user":"    allocation_method: 'across',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_method: 'across',"}}
[info] >      allocation_limit: null, {"user":"    allocation_limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_limit: null,"}}
[info] >      once_per_customer: false, {"user":"    once_per_customer: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     once_per_customer: false,"}}
[info] >      usage_limit: 1, {"user":"    usage_limit: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     usage_limit: 1,"}}
[info] >      starts_at: '2023-10-31T00:25:21-07:00', {"user":"    starts_at: '2023-10-31T00:25:21-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     starts_at: '2023-10-31T00:25:21-07:00',"}}
[info] >      ends_at: null, {"user":"    ends_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     ends_at: null,"}}
[info] >      created_at: '2023-10-31T00:25:23-07:00', {"user":"    created_at: '2023-10-31T00:25:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-31T00:25:23-07:00',"}}
[info] >      updated_at: '2023-10-31T09:35:03-07:00', {"user":"    updated_at: '2023-10-31T09:35:03-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:35:03-07:00',"}}
[info] >      entitled_product_ids: [ 8224569655529 ], {"user":"    entitled_product_ids: [ 8224569655529 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_product_ids: [ 8224569655529 ],"}}
[info] >      entitled_variant_ids: [], {"user":"    entitled_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_variant_ids: [],"}}
[info] >      entitled_collection_ids: [], {"user":"    entitled_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_collection_ids: [],"}}
[info] >      entitled_country_ids: [], {"user":"    entitled_country_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_country_ids: [],"}}
[info] >      prerequisite_product_ids: [], {"user":"    prerequisite_product_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_product_ids: [],"}}
[info] >      prerequisite_variant_ids: [], {"user":"    prerequisite_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_variant_ids: [],"}}
[info] >      prerequisite_collection_ids: [], {"user":"    prerequisite_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_collection_ids: [],"}}
[info] >      customer_segment_prerequisite_ids: [], {"user":"    customer_segment_prerequisite_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_segment_prerequisite_ids: [],"}}
[info] >      prerequisite_customer_ids: [], {"user":"    prerequisite_customer_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_customer_ids: [],"}}
[info] >      prerequisite_subtotal_range: null, {"user":"    prerequisite_subtotal_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_subtotal_range: null,"}}
[info] >      prerequisite_quantity_range: null, {"user":"    prerequisite_quantity_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_quantity_range: null,"}}
[info] >      prerequisite_shipping_price_range: null, {"user":"    prerequisite_shipping_price_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_shipping_price_range: null,"}}
[info] >      prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null }, {"user":"    prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },"}}
[info] >      prerequisite_to_entitlement_purchase: { prerequisite_amount: null }, {"user":"    prerequisite_to_entitlement_purchase: { prerequisite_amount: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_purchase: { prerequisite_amount: null },"}}
[info] >      title: 'Discount8224569655529', {"user":"    title: 'Discount8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Discount8224569655529',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041' {"user":"    admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-11-01T05:05:15.975Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 8369.703821ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 8369.703821ms"}}
[debug] [2023-11-01T05:05:15.975Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: IDLE --> FINISHING"}}
[debug] [2023-11-01T05:05:15.975Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T05:05:15.976Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T05:05:15.976Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:05:15.987Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: exited"}}
[debug] [2023-11-01T05:05:15.987Z] [worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f6705e8c-97e0-4dcc-b0cf-6aa60bc455c6]: FINISHED"}}
[debug] [2023-11-01T05:06:09.741Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:06:10.742Z] Validating nodejs source
[debug] [2023-11-01T05:06:13.218Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:06:13.219Z] Building nodejs source
[debug] [2023-11-01T05:06:13.219Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:06:13.220Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:06:13.220Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-01T05:06:13.284Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:06:13.284Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:06:13.284Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:06:13.284Z"],"workRunningCount":1}
[debug] [2023-11-01T05:06:13.284Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T05:06:13.286Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T05:06:13.287Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T05:06:13.287Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:06:13.292Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T05:06:13.292Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[info] Serving at port 8732

[debug] [2023-11-01T05:06:13.760Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:06:14.279Z] [runtime-status] [10577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:06:14.280Z] [runtime-status] [10577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:06:14.281Z] [runtime-status] [10577] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T05:06:14.282Z] [runtime-status] [10577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:06:14.487Z] [runtime-status] [10577] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T05:06:14.487Z] [runtime-status] [10577] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T05:06:14.487Z] [runtime-status] [10577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:06:14.489Z] [runtime-status] [10577] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:06:14.491Z] [runtime-status] [10577] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:06:14.491Z] [runtime-status] [10577] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T05:06:14.494Z] [runtime-status] [10577] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T05:06:14.548Z] [runtime-status] [10577] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T05:06:14.548Z] [runtime-status] [10577] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_62e1af000097c78f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [10577] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_62e1af000097c78f.sock"}}
[debug] [2023-11-01T05:06:14.628Z] [worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: IDLE"}}
[debug] [2023-11-01T05:06:14.628Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T05:06:14.629Z] [worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[info] >  +++++ priceRules:  [ {"user":"+++++ priceRules:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m +++++ priceRules:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 1298838520041, {"user":"    id: 1298838520041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 1298838520041,"}}
[info] >      value_type: 'percentage', {"user":"    value_type: 'percentage',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value_type: 'percentage',"}}
[info] >      value: '-100.0', {"user":"    value: '-100.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value: '-100.0',"}}
[info] >      customer_selection: 'all', {"user":"    customer_selection: 'all',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_selection: 'all',"}}
[info] >      target_type: 'line_item', {"user":"    target_type: 'line_item',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_type: 'line_item',"}}
[info] >      target_selection: 'entitled', {"user":"    target_selection: 'entitled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_selection: 'entitled',"}}
[info] >      allocation_method: 'across', {"user":"    allocation_method: 'across',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_method: 'across',"}}
[info] >      allocation_limit: null, {"user":"    allocation_limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_limit: null,"}}
[info] >      once_per_customer: false, {"user":"    once_per_customer: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     once_per_customer: false,"}}
[info] >      usage_limit: 1, {"user":"    usage_limit: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     usage_limit: 1,"}}
[info] >      starts_at: '2023-10-31T00:25:21-07:00', {"user":"    starts_at: '2023-10-31T00:25:21-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     starts_at: '2023-10-31T00:25:21-07:00',"}}
[info] >      ends_at: null, {"user":"    ends_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     ends_at: null,"}}
[info] >      created_at: '2023-10-31T00:25:23-07:00', {"user":"    created_at: '2023-10-31T00:25:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-31T00:25:23-07:00',"}}
[info] >      updated_at: '2023-10-31T09:35:03-07:00', {"user":"    updated_at: '2023-10-31T09:35:03-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:35:03-07:00',"}}
[info] >      entitled_product_ids: [ 8224569655529 ], {"user":"    entitled_product_ids: [ 8224569655529 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_product_ids: [ 8224569655529 ],"}}
[info] >      entitled_variant_ids: [], {"user":"    entitled_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_variant_ids: [],"}}
[info] >      entitled_collection_ids: [], {"user":"    entitled_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_collection_ids: [],"}}
[info] >      entitled_country_ids: [], {"user":"    entitled_country_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_country_ids: [],"}}
[info] >      prerequisite_product_ids: [], {"user":"    prerequisite_product_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_product_ids: [],"}}
[info] >      prerequisite_variant_ids: [], {"user":"    prerequisite_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_variant_ids: [],"}}
[info] >      prerequisite_collection_ids: [], {"user":"    prerequisite_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_collection_ids: [],"}}
[info] >      customer_segment_prerequisite_ids: [], {"user":"    customer_segment_prerequisite_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_segment_prerequisite_ids: [],"}}
[info] >      prerequisite_customer_ids: [], {"user":"    prerequisite_customer_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_customer_ids: [],"}}
[info] >      prerequisite_subtotal_range: null, {"user":"    prerequisite_subtotal_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_subtotal_range: null,"}}
[info] >      prerequisite_quantity_range: null, {"user":"    prerequisite_quantity_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_quantity_range: null,"}}
[info] >      prerequisite_shipping_price_range: null, {"user":"    prerequisite_shipping_price_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_shipping_price_range: null,"}}
[info] >      prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null }, {"user":"    prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },"}}
[info] >      prerequisite_to_entitlement_purchase: { prerequisite_amount: null }, {"user":"    prerequisite_to_entitlement_purchase: { prerequisite_amount: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_purchase: { prerequisite_amount: null },"}}
[info] >      title: 'Discount8224569655529', {"user":"    title: 'Discount8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Discount8224569655529',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041' {"user":"    admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  ===== selPriceRule:  undefined {"user":"===== selPriceRule:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== selPriceRule:  undefined"}}
[debug] [2023-11-01T05:06:25.023Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 10394.678877ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 10394.678877ms"}}
[debug] [2023-11-01T05:06:25.024Z] [worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: IDLE"}}
[debug] [2023-11-01T05:06:25.024Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T05:06:25.024Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T05:06:25.024Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:24:08.389Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:24:09.390Z] Validating nodejs source
[debug] [2023-11-01T05:24:11.834Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:24:11.834Z] Building nodejs source
[debug] [2023-11-01T05:24:11.834Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:24:11.835Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:24:11.835Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8131

[debug] [2023-11-01T05:24:12.318Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:24:12.332Z] [worker-pool] Shutting down IDLE worker (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testRewards)"}}
[debug] [2023-11-01T05:24:12.332Z] [worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: FINISHING"}}
[debug] [2023-11-01T05:24:12.342Z] [worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: exited"}}
[debug] [2023-11-01T05:24:12.342Z] [worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-2bb780a1-b1a7-4c8c-bd3f-5d3879d9ecf4]: FINISHED"}}
[debug] [2023-11-01T05:24:16.208Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:24:16.208Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:24:16.209Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:24:16.208Z"],"workRunningCount":1}
[debug] [2023-11-01T05:24:16.209Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T05:24:16.211Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T05:24:16.212Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T05:24:16.212Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:24:16.216Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T05:24:16.217Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T05:24:17.057Z] [runtime-status] [11132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:24:17.058Z] [runtime-status] [11132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:24:17.059Z] [runtime-status] [11132] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T05:24:17.060Z] [runtime-status] [11132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:24:17.235Z] [runtime-status] [11132] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T05:24:17.235Z] [runtime-status] [11132] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T05:24:17.236Z] [runtime-status] [11132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:24:17.237Z] [runtime-status] [11132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:24:17.238Z] [runtime-status] [11132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:24:17.239Z] [runtime-status] [11132] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T05:24:17.240Z] [runtime-status] [11132] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T05:24:17.286Z] [runtime-status] [11132] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T05:24:17.286Z] [runtime-status] [11132] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_c83a5aa6e776c678.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11132] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_c83a5aa6e776c678.sock"}}
[debug] [2023-11-01T05:24:17.339Z] [worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: IDLE"}}
[debug] [2023-11-01T05:24:17.339Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T05:24:17.339Z] [worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[info] >  +++++ priceRules:  [ {"user":"+++++ priceRules:  [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m +++++ priceRules:  ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 1298838520041, {"user":"    id: 1298838520041,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 1298838520041,"}}
[info] >      value_type: 'percentage', {"user":"    value_type: 'percentage',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value_type: 'percentage',"}}
[info] >      value: '-100.0', {"user":"    value: '-100.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     value: '-100.0',"}}
[info] >      customer_selection: 'all', {"user":"    customer_selection: 'all',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_selection: 'all',"}}
[info] >      target_type: 'line_item', {"user":"    target_type: 'line_item',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_type: 'line_item',"}}
[info] >      target_selection: 'entitled', {"user":"    target_selection: 'entitled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     target_selection: 'entitled',"}}
[info] >      allocation_method: 'across', {"user":"    allocation_method: 'across',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_method: 'across',"}}
[info] >      allocation_limit: null, {"user":"    allocation_limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     allocation_limit: null,"}}
[info] >      once_per_customer: false, {"user":"    once_per_customer: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     once_per_customer: false,"}}
[info] >      usage_limit: 1, {"user":"    usage_limit: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     usage_limit: 1,"}}
[info] >      starts_at: '2023-10-31T00:25:21-07:00', {"user":"    starts_at: '2023-10-31T00:25:21-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     starts_at: '2023-10-31T00:25:21-07:00',"}}
[info] >      ends_at: null, {"user":"    ends_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     ends_at: null,"}}
[info] >      created_at: '2023-10-31T00:25:23-07:00', {"user":"    created_at: '2023-10-31T00:25:23-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     created_at: '2023-10-31T00:25:23-07:00',"}}
[info] >      updated_at: '2023-10-31T09:35:03-07:00', {"user":"    updated_at: '2023-10-31T09:35:03-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     updated_at: '2023-10-31T09:35:03-07:00',"}}
[info] >      entitled_product_ids: [ 8224569655529 ], {"user":"    entitled_product_ids: [ 8224569655529 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_product_ids: [ 8224569655529 ],"}}
[info] >      entitled_variant_ids: [], {"user":"    entitled_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_variant_ids: [],"}}
[info] >      entitled_collection_ids: [], {"user":"    entitled_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_collection_ids: [],"}}
[info] >      entitled_country_ids: [], {"user":"    entitled_country_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     entitled_country_ids: [],"}}
[info] >      prerequisite_product_ids: [], {"user":"    prerequisite_product_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_product_ids: [],"}}
[info] >      prerequisite_variant_ids: [], {"user":"    prerequisite_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_variant_ids: [],"}}
[info] >      prerequisite_collection_ids: [], {"user":"    prerequisite_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_collection_ids: [],"}}
[info] >      customer_segment_prerequisite_ids: [], {"user":"    customer_segment_prerequisite_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     customer_segment_prerequisite_ids: [],"}}
[info] >      prerequisite_customer_ids: [], {"user":"    prerequisite_customer_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_customer_ids: [],"}}
[info] >      prerequisite_subtotal_range: null, {"user":"    prerequisite_subtotal_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_subtotal_range: null,"}}
[info] >      prerequisite_quantity_range: null, {"user":"    prerequisite_quantity_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_quantity_range: null,"}}
[info] >      prerequisite_shipping_price_range: null, {"user":"    prerequisite_shipping_price_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_shipping_price_range: null,"}}
[info] >      prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null }, {"user":"    prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },"}}
[info] >      prerequisite_to_entitlement_purchase: { prerequisite_amount: null }, {"user":"    prerequisite_to_entitlement_purchase: { prerequisite_amount: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     prerequisite_to_entitlement_purchase: { prerequisite_amount: null },"}}
[info] >      title: 'Discount8224569655529', {"user":"    title: 'Discount8224569655529',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'Discount8224569655529',"}}
[info] >      admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041' {"user":"    admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     admin_graphql_api_id: 'gid://shopify/PriceRule/1298838520041'"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  ===== selPriceRule:  undefined {"user":"===== selPriceRule:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== selPriceRule:  undefined"}}
[info] >  ===== no selPriceRule ===== {"user":"===== no selPriceRule =====","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== no selPriceRule ====="}}
[debug] [2023-11-01T05:24:25.876Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 8536.443412ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 8536.443412ms"}}
[debug] [2023-11-01T05:24:25.876Z] [worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: IDLE"}}
[debug] [2023-11-01T05:24:25.876Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T05:24:25.876Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T05:24:25.876Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:26:24.675Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:26:25.675Z] Validating nodejs source
[debug] [2023-11-01T05:26:28.044Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:26:28.044Z] Building nodejs source
[debug] [2023-11-01T05:26:28.044Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:26:28.045Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:26:28.046Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8436

[debug] [2023-11-01T05:26:28.485Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:26:28.497Z] [worker-pool] Shutting down IDLE worker (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testRewards)"}}
[debug] [2023-11-01T05:26:28.497Z] [worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: FINISHING"}}
[debug] [2023-11-01T05:26:28.506Z] [worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: exited"}}
[debug] [2023-11-01T05:26:28.506Z] [worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5545bc97-f931-4b67-bdee-f19ec65eb53a]: FINISHED"}}
[debug] [2023-11-01T05:30:51.108Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:30:52.110Z] Validating nodejs source
[debug] [2023-11-01T05:30:54.058Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:30:54.059Z] Building nodejs source
[debug] [2023-11-01T05:30:54.059Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:30:54.060Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:30:54.060Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8199

[debug] [2023-11-01T05:30:54.476Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:35:29.510Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:35:30.511Z] Validating nodejs source
[debug] [2023-11-01T05:35:32.686Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:35:32.686Z] Building nodejs source
[debug] [2023-11-01T05:35:32.686Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:35:32.687Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:35:32.688Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8350

[debug] [2023-11-01T05:35:33.119Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:35:49.927Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:35:50.928Z] Validating nodejs source
[debug] [2023-11-01T05:35:52.899Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:35:52.899Z] Building nodejs source
[debug] [2023-11-01T05:35:52.899Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:35:52.900Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:35:52.900Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8665

[debug] [2023-11-01T05:35:53.327Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:36:14.897Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:36:14.984Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:36:15.985Z] Validating nodejs source
[debug] [2023-11-01T05:36:17.784Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:36:17.784Z] Building nodejs source
[debug] [2023-11-01T05:36:17.784Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:36:17.785Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/service/firebaseService/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:36:17.785Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:36:17.786Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8799

[debug] [2023-11-01T05:36:18.225Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:36:18.786Z] Validating nodejs source
[debug] [2023-11-01T05:36:20.643Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:36:20.644Z] Building nodejs source
[debug] [2023-11-01T05:36:20.644Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:36:20.645Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:36:20.647Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8499

[debug] [2023-11-01T05:36:21.106Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:39:06.403Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:39:06.503Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:39:07.504Z] Validating nodejs source
[debug] [2023-11-01T05:39:09.303Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:39:09.303Z] Building nodejs source
[debug] [2023-11-01T05:39:09.303Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:39:09.304Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:39:09.305Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8744

[debug] [2023-11-01T05:39:09.783Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:39:18.613Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:39:19.614Z] Validating nodejs source
[debug] [2023-11-01T05:39:21.397Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:39:21.397Z] Building nodejs source
[debug] [2023-11-01T05:39:21.397Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:39:21.398Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:39:21.399Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8564

[debug] [2023-11-01T05:39:21.828Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:40:41.764Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:40:42.765Z] Validating nodejs source
[debug] [2023-11-01T05:40:44.588Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:40:44.588Z] Building nodejs source
[debug] [2023-11-01T05:40:44.588Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:40:44.590Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:40:44.591Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8696

[debug] [2023-11-01T05:40:45.059Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:40:49.840Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:40:49.840Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:40:49.841Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:40:49.840Z"],"workRunningCount":1}
[debug] [2023-11-01T05:40:49.841Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T05:40:49.846Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T05:40:49.847Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T05:40:49.847Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:40:49.850Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T05:40:49.850Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T05:40:50.748Z] [runtime-status] [11791] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:40:50.751Z] [runtime-status] [11791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:40:50.752Z] [runtime-status] [11791] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T05:40:50.753Z] [runtime-status] [11791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:40:50.938Z] [runtime-status] [11791] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T05:40:50.938Z] [runtime-status] [11791] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T05:40:50.939Z] [runtime-status] [11791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:40:50.940Z] [runtime-status] [11791] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:40:50.942Z] [runtime-status] [11791] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:40:50.942Z] [runtime-status] [11791] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T05:40:50.944Z] [runtime-status] [11791] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T05:40:50.990Z] [runtime-status] [11791] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T05:40:50.990Z] [runtime-status] [11791] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_852e5de157c7c637.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11791] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_852e5de157c7c637.sock"}}
[debug] [2023-11-01T05:40:51.071Z] [worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: IDLE"}}
[debug] [2023-11-01T05:40:51.071Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T05:40:51.072Z] [worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== lotteryDate:  Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 } {"user":"===== lotteryDate:  Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== lotteryDate:  Timestamp { _seconds: 1698879600, _nanoseconds: 474000000 }"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-11-01T05:41:51.074Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:41:51.086Z] [worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: exited"}}
[debug] [2023-11-01T05:41:51.086Z] [worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-5208d437-ede5-4e66-acd9-a1ac0928f9a5]: FINISHED"}}
[debug] [2023-11-01T05:42:57.341Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:42:58.343Z] Validating nodejs source
[debug] [2023-11-01T05:43:00.502Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:43:00.503Z] Building nodejs source
[debug] [2023-11-01T05:43:00.503Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:43:00.504Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:43:00.504Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8268

[debug] [2023-11-01T05:43:00.966Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:43:01.140Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:43:01.139Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:43:01.140Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T05:43:01.139Z"],"workRunningCount":1}
[debug] [2023-11-01T05:43:01.140Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T05:43:01.142Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T05:43:01.143Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T05:43:01.143Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:43:01.147Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T05:43:01.147Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T05:43:02.047Z] [runtime-status] [11880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:43:02.048Z] [runtime-status] [11880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:43:02.049Z] [runtime-status] [11880] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T05:43:02.049Z] [runtime-status] [11880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:43:02.237Z] [runtime-status] [11880] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T05:43:02.237Z] [runtime-status] [11880] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T05:43:02.238Z] [runtime-status] [11880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:43:02.240Z] [runtime-status] [11880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T05:43:02.241Z] [runtime-status] [11880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T05:43:02.242Z] [runtime-status] [11880] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T05:43:02.244Z] [runtime-status] [11880] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T05:43:02.393Z] [runtime-status] [11880] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T05:43:02.394Z] [runtime-status] [11880] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_ee15ade3e74f460e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [11880] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_ee15ade3e74f460e.sock"}}
[debug] [2023-11-01T05:43:02.503Z] [worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: IDLE"}}
[debug] [2023-11-01T05:43:02.503Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T05:43:02.503Z] [worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  ===== lotteryDate:  62215 {"user":"===== lotteryDate:  62215","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== lotteryDate:  62215"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-11-01T05:44:02.505Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T05:44:02.517Z] [worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: exited"}}
[debug] [2023-11-01T05:44:02.517Z] [worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-839bea7c-4c6e-46b8-acfd-7fdd05636a30]: FINISHED"}}
[debug] [2023-11-01T05:44:40.542Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:44:41.543Z] Validating nodejs source
[debug] [2023-11-01T05:44:43.363Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:44:43.363Z] Building nodejs source
[debug] [2023-11-01T05:44:43.363Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:44:43.364Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:44:43.365Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8479

[debug] [2023-11-01T05:44:43.901Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T05:46:02.859Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:46:03.712Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:46:03.825Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:46:03.926Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T05:46:04.927Z] Validating nodejs source
[debug] [2023-11-01T05:46:06.674Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T05:46:06.674Z] Building nodejs source
[debug] [2023-11-01T05:46:06.674Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T05:46:06.675Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T05:46:06.676Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8767

[debug] [2023-11-01T05:46:07.102Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T06:49:53.002Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T06:49:53.002Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T06:49:53.002Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T06:49:53.002Z"],"workRunningCount":1}
[debug] [2023-11-01T06:49:53.002Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T06:49:53.004Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T06:49:53.004Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T06:49:53.004Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:49:53.019Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T06:49:53.019Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T06:49:53.870Z] [runtime-status] [13825] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T06:49:53.871Z] [runtime-status] [13825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:49:53.871Z] [runtime-status] [13825] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T06:49:53.872Z] [runtime-status] [13825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:49:54.052Z] [runtime-status] [13825] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T06:49:54.052Z] [runtime-status] [13825] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T06:49:54.053Z] [runtime-status] [13825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:49:54.054Z] [runtime-status] [13825] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T06:49:54.055Z] [runtime-status] [13825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:49:54.055Z] [runtime-status] [13825] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T06:49:54.057Z] [runtime-status] [13825] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T06:49:54.104Z] [runtime-status] [13825] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T06:49:54.105Z] [runtime-status] [13825] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_29f6fc8c92828ce8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13825] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_29f6fc8c92828ce8.sock"}}
[debug] [2023-11-01T06:49:54.141Z] [worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: IDLE"}}
[debug] [2023-11-01T06:49:54.141Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T06:49:54.141Z] [worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== getPriceRule error:  HTTPError: Response code 400 (Bad Request) {"user":"===== getPriceRule error:  HTTPError: Response code 400 (Bad Request)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getPriceRule error:  HTTPError: Response code 400 (Bad Request)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698821403790, {"user":"    start: 1698821403790,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698821403790,"}}
[info] >      socket: 1698821403790, {"user":"    socket: 1698821403790,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698821403790,"}}
[info] >      lookup: 1698821403791, {"user":"    lookup: 1698821403791,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698821403791,"}}
[info] >      connect: 1698821404025, {"user":"    connect: 1698821404025,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698821404025,"}}
[info] >      secureConnect: 1698821404320, {"user":"    secureConnect: 1698821404320,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698821404320,"}}
[info] >      upload: 1698821404320, {"user":"    upload: 1698821404320,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698821404320,"}}
[info] >      response: 1698821404716, {"user":"    response: 1698821404716,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698821404716,"}}
[info] >      end: 1698821404716, {"user":"    end: 1698821404716,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698821404716,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 1, {"user":"      dns: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 1,"}}
[info] >        tcp: 234, {"user":"      tcp: 234,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 234,"}}
[info] >        tls: 295, {"user":"      tls: 295,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 295,"}}
[info] >        request: 0, {"user":"      request: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 0,"}}
[info] >        firstByte: 396, {"user":"      firstByte: 396,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 396,"}}
[info] >        download: 0, {"user":"      download: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 0,"}}
[info] >        total: 926 {"user":"      total: 926","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 926"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  ===== err:  TypeError: Cannot read properties of null (reading 'code') {"user":"===== err:  TypeError: Cannot read properties of null (reading 'code')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== err:  TypeError: Cannot read properties of null (reading 'code')"}}
[info] >      at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:323:34 {"user":"    at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:323:34","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:323:34"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2023-11-01T06:50:04.728Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 10587.712755ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 10587.712755ms"}}
[debug] [2023-11-01T06:50:04.729Z] [worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: IDLE"}}
[debug] [2023-11-01T06:50:04.729Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T06:50:04.729Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T06:50:04.729Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T06:52:00.901Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T06:52:01.902Z] Validating nodejs source
[debug] [2023-11-01T06:52:04.715Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T06:52:04.716Z] Building nodejs source
[debug] [2023-11-01T06:52:04.716Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:52:04.717Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T06:52:04.718Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8642

[debug] [2023-11-01T06:52:05.157Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T06:52:05.170Z] [worker-pool] Shutting down IDLE worker (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testRewards)"}}
[debug] [2023-11-01T06:52:05.170Z] [worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: FINISHING"}}
[debug] [2023-11-01T06:52:05.179Z] [worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: exited"}}
[debug] [2023-11-01T06:52:05.179Z] [worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f9353d84-1a74-4d30-954e-af5c5f371b5f]: FINISHED"}}
[debug] [2023-11-01T06:52:07.261Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T06:52:07.261Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T06:52:07.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T06:52:07.261Z"],"workRunningCount":1}
[debug] [2023-11-01T06:52:07.261Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T06:52:07.264Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T06:52:07.264Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T06:52:07.264Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:52:07.269Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T06:52:07.269Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T06:52:08.138Z] [runtime-status] [13912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T06:52:08.139Z] [runtime-status] [13912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:52:08.140Z] [runtime-status] [13912] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T06:52:08.141Z] [runtime-status] [13912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:52:08.320Z] [runtime-status] [13912] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T06:52:08.320Z] [runtime-status] [13912] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T06:52:08.321Z] [runtime-status] [13912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:52:08.323Z] [runtime-status] [13912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T06:52:08.325Z] [runtime-status] [13912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:52:08.326Z] [runtime-status] [13912] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T06:52:08.328Z] [runtime-status] [13912] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T06:52:08.382Z] [runtime-status] [13912] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T06:52:08.382Z] [runtime-status] [13912] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b9548efa027aa097.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [13912] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b9548efa027aa097.sock"}}
[debug] [2023-11-01T06:52:08.488Z] [worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: IDLE"}}
[debug] [2023-11-01T06:52:08.488Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T06:52:08.488Z] [worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== selPriceRule:  Promise { <pending> } {"user":"===== selPriceRule:  Promise { <pending> }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== selPriceRule:  Promise { <pending> }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/undefined/discount_codes.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== getPriceRule error:  HTTPError: Response code 400 (Bad Request) {"user":"===== getPriceRule error:  HTTPError: Response code 400 (Bad Request)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== getPriceRule error:  HTTPError: Response code 400 (Bad Request)"}}
[info] >      at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42) {"user":"    at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Request.<anonymous> (/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/got/dist/source/as-promise/index.js:118:42)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    code: 'ERR_NON_2XX_3XX_RESPONSE', {"user":"  code: 'ERR_NON_2XX_3XX_RESPONSE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'ERR_NON_2XX_3XX_RESPONSE',"}}
[info] >    timings: { {"user":"  timings: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   timings: {"}}
[info] >      start: 1698821537732, {"user":"    start: 1698821537732,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     start: 1698821537732,"}}
[info] >      socket: 1698821537732, {"user":"    socket: 1698821537732,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: 1698821537732,"}}
[info] >      lookup: 1698821537735, {"user":"    lookup: 1698821537735,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     lookup: 1698821537735,"}}
[info] >      connect: 1698821538032, {"user":"    connect: 1698821538032,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     connect: 1698821538032,"}}
[info] >      secureConnect: 1698821538335, {"user":"    secureConnect: 1698821538335,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     secureConnect: 1698821538335,"}}
[info] >      upload: 1698821538336, {"user":"    upload: 1698821538336,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     upload: 1698821538336,"}}
[info] >      response: 1698821538707, {"user":"    response: 1698821538707,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     response: 1698821538707,"}}
[info] >      end: 1698821538708, {"user":"    end: 1698821538708,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     end: 1698821538708,"}}
[info] >      error: undefined, {"user":"    error: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     error: undefined,"}}
[info] >      abort: undefined, {"user":"    abort: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     abort: undefined,"}}
[info] >      phases: { {"user":"    phases: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     phases: {"}}
[info] >        wait: 0, {"user":"      wait: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       wait: 0,"}}
[info] >        dns: 3, {"user":"      dns: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       dns: 3,"}}
[info] >        tcp: 297, {"user":"      tcp: 297,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       tcp: 297,"}}
[info] >        tls: 303, {"user":"      tls: 303,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       tls: 303,"}}
[info] >        request: 1, {"user":"      request: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       request: 1,"}}
[info] >        firstByte: 371, {"user":"      firstByte: 371,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       firstByte: 371,"}}
[info] >        download: 1, {"user":"      download: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       download: 1,"}}
[info] >        total: 976 {"user":"      total: 976","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m       total: 976"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  ===== err:  TypeError: Cannot read properties of null (reading 'code') {"user":"===== err:  TypeError: Cannot read properties of null (reading 'code')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== err:  TypeError: Cannot read properties of null (reading 'code')"}}
[info] >      at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:324:34 {"user":"    at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:324:34","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js:324:34"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9) {"user":"    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)"}}
[info] >      at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5) {"user":"    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)"}}
[info] >      at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {"user":"    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21"}}
[debug] [2023-11-01T06:52:18.719Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 10230.449011ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 10230.449011ms"}}
[debug] [2023-11-01T06:52:18.719Z] [worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: IDLE"}}
[debug] [2023-11-01T06:52:18.719Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T06:52:18.719Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T06:52:18.719Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T06:52:38.153Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T06:52:39.154Z] Validating nodejs source
[debug] [2023-11-01T06:52:40.980Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T06:52:40.980Z] Building nodejs source
[debug] [2023-11-01T06:52:40.980Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:52:40.982Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T06:52:40.983Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8147

[debug] [2023-11-01T06:52:41.598Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T06:52:41.616Z] [worker-pool] Shutting down IDLE worker (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testRewards)"}}
[debug] [2023-11-01T06:52:41.618Z] [worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: FINISHING"}}
[debug] [2023-11-01T06:52:41.630Z] [worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: exited"}}
[debug] [2023-11-01T06:52:41.630Z] [worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-967cc006-a6fd-4355-a502-188c8eda5873]: FINISHED"}}
[debug] [2023-11-01T06:52:52.081Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T06:52:53.082Z] Validating nodejs source
[debug] [2023-11-01T06:52:54.828Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T06:52:54.829Z] Building nodejs source
[debug] [2023-11-01T06:52:54.829Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:52:54.830Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T06:52:54.830Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8039

[debug] [2023-11-01T06:52:55.356Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T06:52:55.489Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T06:52:56.491Z] Validating nodejs source
[debug] [2023-11-01T06:52:58.210Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T06:52:58.210Z] Building nodejs source
[debug] [2023-11-01T06:52:58.210Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:52:58.211Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T06:52:58.212Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8152

[debug] [2023-11-01T06:52:58.633Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T06:53:41.691Z] [work-queue] {"queuedWork":["/coflow-v1/us-central1/testRewards-2023-11-01T06:53:41.691Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T06:53:41.691Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/coflow-v1/us-central1/testRewards-2023-11-01T06:53:41.691Z"],"workRunningCount":1}
[debug] [2023-11-01T06:53:41.691Z] Accepted request GET /coflow-v1/us-central1/testRewards --> us-central1-testRewards
[debug] [2023-11-01T06:53:41.694Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-01T06:53:41.695Z] [functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/coflow-v1/us-central1/testRewards, mapping to path=/"}}
[debug] [2023-11-01T06:53:41.695Z] [worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-testRewards: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:53:41.697Z] [worker-pool] addWorker(us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-testRewards)"}}
[debug] [2023-11-01T06:53:41.697Z] [worker-pool] Adding worker with key us-central1-testRewards, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-testRewards, total=1"}}
[debug] [2023-11-01T06:53:42.532Z] [runtime-status] [14003] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T06:53:42.533Z] [runtime-status] [14003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:53:42.534Z] [runtime-status] [14003] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-01T06:53:42.535Z] [runtime-status] [14003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:53:42.712Z] [runtime-status] [14003] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-01T06:53:42.713Z] [runtime-status] [14003] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-01T06:53:42.713Z] [runtime-status] [14003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:53:42.714Z] [runtime-status] [14003] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-01T06:53:42.716Z] [runtime-status] [14003] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-01T06:53:42.716Z] [runtime-status] [14003] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-01T06:53:42.718Z] [runtime-status] [14003] initializeApp(DEFAULT) {"storageBucket":"coflow-v1.appspot.com","databaseURL":"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app","projectId":"coflow-v1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] initializeApp(DEFAULT) {\"storageBucket\":\"coflow-v1.appspot.com\",\"databaseURL\":\"https://coflow-v1-default-rtdb.europe-west1.firebasedatabase.app\",\"projectId\":\"coflow-v1\"}"}}
[debug] [2023-11-01T06:53:42.764Z] [runtime-status] [14003] Functions runtime initialized. {"cwd":"/Volumes/Work/projects/coflow-app/nextjs/functions","node_version":"18.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Functions runtime initialized. {\"cwd\":\"/Volumes/Work/projects/coflow-app/nextjs/functions\",\"node_version\":\"18.16.1\"}"}}
[debug] [2023-11-01T06:53:42.764Z] [runtime-status] [14003] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b08712f2807cf64c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[runtime-status] [14003] Listening to port: /var/folders/wf/symyqshd6z144q5rfttfn6mm0000gn/T/fire_emu_b08712f2807cf64c.sock"}}
[debug] [2023-11-01T06:53:42.820Z] [worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: IDLE"}}
[debug] [2023-11-01T06:53:42.820Z] [worker-pool] submitRequest(triggerId=us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-testRewards)"}}
[info] i  functions: Beginning execution of "us-central1-testRewards" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Beginning execution of \"us-central1-testRewards\""}}
[debug] [2023-11-01T06:53:42.821Z] [worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/products.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules.json\"\n - Be careful, this may be a production service."}}
[info] >  ===== create price rule ===== {"user":"===== create price rule =====","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== create price rule ====="}}
[info] >  ===== selPriceRule:  { {"user":"===== selPriceRule:  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m ===== selPriceRule:  {"}}
[info] >    id: 1299050332393, {"user":"  id: 1299050332393,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 1299050332393,"}}
[info] >    value_type: 'percentage', {"user":"  value_type: 'percentage',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   value_type: 'percentage',"}}
[info] >    value: '-100.0', {"user":"  value: '-100.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   value: '-100.0',"}}
[info] >    customer_selection: 'all', {"user":"  customer_selection: 'all',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer_selection: 'all',"}}
[info] >    target_type: 'line_item', {"user":"  target_type: 'line_item',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   target_type: 'line_item',"}}
[info] >    target_selection: 'entitled', {"user":"  target_selection: 'entitled',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   target_selection: 'entitled',"}}
[info] >    allocation_method: 'across', {"user":"  allocation_method: 'across',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   allocation_method: 'across',"}}
[info] >    allocation_limit: null, {"user":"  allocation_limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   allocation_limit: null,"}}
[info] >    once_per_customer: false, {"user":"  once_per_customer: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   once_per_customer: false,"}}
[info] >    usage_limit: 1, {"user":"  usage_limit: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   usage_limit: 1,"}}
[info] >    starts_at: '2023-10-31T23:53:50-07:00', {"user":"  starts_at: '2023-10-31T23:53:50-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   starts_at: '2023-10-31T23:53:50-07:00',"}}
[info] >    ends_at: null, {"user":"  ends_at: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   ends_at: null,"}}
[info] >    created_at: '2023-10-31T23:53:53-07:00', {"user":"  created_at: '2023-10-31T23:53:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   created_at: '2023-10-31T23:53:53-07:00',"}}
[info] >    updated_at: '2023-10-31T23:53:53-07:00', {"user":"  updated_at: '2023-10-31T23:53:53-07:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   updated_at: '2023-10-31T23:53:53-07:00',"}}
[info] >    entitled_product_ids: [ 8221764026601 ], {"user":"  entitled_product_ids: [ 8221764026601 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   entitled_product_ids: [ 8221764026601 ],"}}
[info] >    entitled_variant_ids: [], {"user":"  entitled_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   entitled_variant_ids: [],"}}
[info] >    entitled_collection_ids: [], {"user":"  entitled_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   entitled_collection_ids: [],"}}
[info] >    entitled_country_ids: [], {"user":"  entitled_country_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   entitled_country_ids: [],"}}
[info] >    prerequisite_product_ids: [], {"user":"  prerequisite_product_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_product_ids: [],"}}
[info] >    prerequisite_variant_ids: [], {"user":"  prerequisite_variant_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_variant_ids: [],"}}
[info] >    prerequisite_collection_ids: [], {"user":"  prerequisite_collection_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_collection_ids: [],"}}
[info] >    customer_segment_prerequisite_ids: [], {"user":"  customer_segment_prerequisite_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   customer_segment_prerequisite_ids: [],"}}
[info] >    prerequisite_customer_ids: [], {"user":"  prerequisite_customer_ids: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_customer_ids: [],"}}
[info] >    prerequisite_subtotal_range: null, {"user":"  prerequisite_subtotal_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_subtotal_range: null,"}}
[info] >    prerequisite_quantity_range: null, {"user":"  prerequisite_quantity_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_quantity_range: null,"}}
[info] >    prerequisite_shipping_price_range: null, {"user":"  prerequisite_shipping_price_range: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_shipping_price_range: null,"}}
[info] >    prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null }, {"user":"  prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_to_entitlement_quantity_ratio: { prerequisite_quantity: null, entitled_quantity: null },"}}
[info] >    prerequisite_to_entitlement_purchase: { prerequisite_amount: null }, {"user":"  prerequisite_to_entitlement_purchase: { prerequisite_amount: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   prerequisite_to_entitlement_purchase: { prerequisite_amount: null },"}}
[info] >    title: 'Discount_100P_8221764026601', {"user":"  title: 'Discount_100P_8221764026601',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   title: 'Discount_100P_8221764026601',"}}
[info] >    admin_graphql_api_id: 'gid://shopify/PriceRule/1299050332393' {"user":"  admin_graphql_api_id: 'gid://shopify/PriceRule/1299050332393'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m   admin_graphql_api_id: 'gid://shopify/PriceRule/1299050332393'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  External network resource requested!
   - URL: "https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/1299050332393/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://coflow-test.myshopify.com/admin/api/2023-10/price_rules/1299050332393/discount_codes.json\"\n - Be careful, this may be a production service."}}
[warn] ⚠  External network resource requested!
   - URL: "https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/1299050332393/discount_codes.json"
 - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"External network resource requested!\n   - URL: \"https://82d4c9-2.myshopify.com/admin/api/2023-10/price_rules/1299050332393/discount_codes.json\"\n - Be careful, this may be a production service."}}
[debug] [2023-11-01T06:53:55.794Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-testRewards" in 12973.540488999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finished \"us-central1-testRewards\" in 12973.540488999999ms"}}
[debug] [2023-11-01T06:53:55.794Z] [worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: IDLE"}}
[debug] [2023-11-01T06:53:55.794Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-01T06:53:55.794Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-01T06:53:55.795Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-01T06:54:22.030Z] File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Volumes/Work/projects/coflow-app/nextjs/functions/shopify/index.js changed, reloading triggers"}}
[debug] [2023-11-01T06:54:23.030Z] Validating nodejs source
[debug] [2023-11-01T06:54:25.037Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "got": "^11.1.4",
    "voucher-code-generator": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-01T06:54:25.038Z] Building nodejs source
[debug] [2023-11-01T06:54:25.038Z] Failed to find version of module node: reached end of search path /Volumes/Work/projects/coflow-app/nextjs/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2023-11-01T06:54:25.039Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-01T06:54:25.040Z] Found firebase-functions binary at '/Volumes/Work/projects/coflow-app/nextjs/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8991

[debug] [2023-11-01T06:54:25.668Z] Got response from /__/functions.yaml {"endpoints":{"handleShopifyCheckoutSuccess":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleShopifyCheckoutSuccess"},"checkRewards":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"every day 00:00","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetrySeconds":null,"minBackoffSeconds":null,"maxBackoffSeconds":null},"timeZone":null},"entryPoint":"checkRewards"},"getProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProducts"},"getProduct":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getProduct"},"createCheckout":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"createCheckout"},"getCheckout":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getCheckout"},"testRewards":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"testRewards"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: handleShopifyCheckoutSuccess, checkRewards, getProducts, getProduct, createCheckout, getCheckout, testRewards."}}
[debug] [2023-11-01T06:54:25.682Z] [worker-pool] Shutting down IDLE worker (us-central1-testRewards) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-testRewards)"}}
[debug] [2023-11-01T06:54:25.682Z] [worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: FINISHING"}}
[debug] [2023-11-01T06:54:25.696Z] [worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: exited"}}
[debug] [2023-11-01T06:54:25.696Z] [worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-testRewards"},"extension":{},"message":"[worker-us-central1-testRewards-f227b948-589f-4c8e-b157-4c209c853b96]: FINISHED"}}
